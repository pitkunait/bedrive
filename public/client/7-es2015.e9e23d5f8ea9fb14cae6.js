(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"+6XX":function(e,t,i){var n=i("y1pI");e.exports=function(e){return n(this.__data__,e)>-1}},"+K+b":function(e,t,i){var n=i("JHRd");e.exports=function(e){var t=new e.constructor(e.byteLength);return new n(t).set(new n(e)),t}},"+QRC":function(e,t,i){"use strict";var n=i("E9nw"),s={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var i,a,r,o,c,l,d=!1;t||(t={}),i=t.debug||!1;try{if(r=n(),o=document.createRange(),c=document.getSelection(),(l=document.createElement("span")).textContent=e,l.style.all="unset",l.style.position="fixed",l.style.top=0,l.style.clip="rect(0, 0, 0, 0)",l.style.whiteSpace="pre",l.style.webkitUserSelect="text",l.style.MozUserSelect="text",l.style.msUserSelect="text",l.style.userSelect="text",l.addEventListener("copy",(function(n){n.stopPropagation(),t.format&&(n.preventDefault(),void 0===n.clipboardData?(i&&console.warn("unable to use e.clipboardData"),i&&console.warn("trying IE specific stuff"),window.clipboardData.clearData(),window.clipboardData.setData(s[t.format]||s.default,e)):(n.clipboardData.clearData(),n.clipboardData.setData(t.format,e))),t.onCopy&&(n.preventDefault(),t.onCopy(n.clipboardData))})),document.body.appendChild(l),o.selectNodeContents(l),c.addRange(o),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");d=!0}catch(h){i&&console.error("unable to copy using execCommand: ",h),i&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),d=!0}catch(h){i&&console.error("unable to copy using clipboardData: ",h),i&&console.error("falling back to prompt"),a=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(a,e)}}finally{c&&("function"==typeof c.removeRange?c.removeRange(o):c.removeAllRanges()),l&&document.body.removeChild(l),r()}return d}},"+c4W":function(e,t,i){var n=i("711d"),s=i("4/ic"),a=i("9ggG"),r=i("9Nap");e.exports=function(e){return a(e)?n(r(e)):s(e)}},"+iFO":function(e,t,i){var n=i("dTAl"),s=i("LcsW"),a=i("6sVZ");e.exports=function(e){return"function"!=typeof e.constructor||a(e)?{}:n(s(e))}},"/1cH":function(e,t,i){"use strict";i.d(t,"a",(function(){return F})),i.d(t,"b",(function(){return H})),i.d(t,"c",(function(){return $})),i.d(t,"d",(function(){return W}));var n=i("u47x"),s=i("8LU1"),a=i("fXoL"),r=i("FKr1"),o=i("quSY"),c=i("XNiG"),l=i("NXyV"),d=i("VRyK"),h=i("LRne"),p=i("xgIS"),u=i("ofXK"),b=i("rDax"),g=i("vxfF"),m=i("FtGj"),f=i("nLfN"),v=i("+rOU"),y=i("3Pt+"),w=i("kmnG"),x=i("IzEk"),_=i("eIep"),k=i("pLZG"),O=i("lJxs"),C=i("vkgz"),P=i("3E0/"),I=i("cH1L");const D=["panel"];function j(e,t){if(1&e&&(a.Vb(0,"div",0,1),a.kc(2),a.Ub()),2&e){const e=a.gc();a.mc("id",e.id)("ngClass",e._classList)}}const S=["*"];let E=0;class U{constructor(e,t){this.source=e,this.option=t}}class V{}const A=Object(r.v)(V),M=new a.s("mat-autocomplete-default-options",{providedIn:"root",factory:function(){return{autoActiveFirstOption:!1}}});let T=(()=>{class e extends A{constructor(e,t,i){super(),this._changeDetectorRef=e,this._elementRef=t,this._activeOptionChanges=o.a.EMPTY,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new a.o,this.opened=new a.o,this.closed=new a.o,this.optionActivated=new a.o,this._classList={},this.id="mat-autocomplete-"+E++,this._autoActiveFirstOption=!!i.autoActiveFirstOption}get isOpen(){return this._isOpen&&this.showPanel}get autoActiveFirstOption(){return this._autoActiveFirstOption}set autoActiveFirstOption(e){this._autoActiveFirstOption=Object(s.c)(e)}set classList(e){this._classList=e&&e.length?e.split(" ").reduce((e,t)=>(e[t.trim()]=!0,e),{}):{},this._setVisibilityClasses(this._classList),this._elementRef.nativeElement.className=""}ngAfterContentInit(){this._keyManager=new n.b(this.options).withWrap(),this._activeOptionChanges=this._keyManager.change.subscribe(e=>{this.optionActivated.emit({source:this,option:this.options.toArray()[e]||null})}),this._setVisibility()}ngOnDestroy(){this._activeOptionChanges.unsubscribe()}_setScrollTop(e){this.panel&&(this.panel.nativeElement.scrollTop=e)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(e){const t=new U(this,e);this.optionSelected.emit(t)}_setVisibilityClasses(e){e[this._visibleClass]=this.showPanel,e[this._hiddenClass]=!this.showPanel}}return e.\u0275fac=function(t){return new(t||e)(a.Pb(a.i),a.Pb(a.m),a.Pb(M))},e.\u0275dir=a.Kb({type:e,viewQuery:function(e,t){var i;1&e&&(a.Ec(a.O,!0),a.Qc(D,!0)),2&e&&(a.tc(i=a.dc())&&(t.template=i.first),a.tc(i=a.dc())&&(t.panel=i.first))},inputs:{displayWith:"displayWith",autoActiveFirstOption:"autoActiveFirstOption",classList:["class","classList"],panelWidth:"panelWidth"},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},features:[a.Ab]}),e})(),F=(()=>{class e extends T{constructor(){super(...arguments),this._visibleClass="mat-autocomplete-visible",this._hiddenClass="mat-autocomplete-hidden"}}return e.\u0275fac=function(t){return L(t||e)},e.\u0275cmp=a.Jb({type:e,selectors:[["mat-autocomplete"]],contentQueries:function(e,t,i){var n;1&e&&(a.Ib(i,r.e,!0),a.Ib(i,r.k,!0)),2&e&&(a.tc(n=a.dc())&&(t.optionGroups=n),a.tc(n=a.dc())&&(t.options=n))},hostAttrs:[1,"mat-autocomplete"],inputs:{disableRipple:"disableRipple"},exportAs:["matAutocomplete"],features:[a.Cb([{provide:r.f,useExisting:e}]),a.Ab],ngContentSelectors:S,decls:1,vars:0,consts:[["role","listbox",1,"mat-autocomplete-panel",3,"id","ngClass"],["panel",""]],template:function(e,t){1&e&&(a.lc(),a.Ic(0,j,3,2,"ng-template"))},directives:[u.q],styles:[".mat-autocomplete-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;visibility:hidden;max-width:none;max-height:256px;position:relative;width:100%;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.mat-autocomplete-panel.mat-autocomplete-visible{visibility:visible}.mat-autocomplete-panel.mat-autocomplete-hidden{visibility:hidden}.mat-autocomplete-panel-above .mat-autocomplete-panel{border-radius:0;border-top-left-radius:4px;border-top-right-radius:4px}.mat-autocomplete-panel .mat-divider-horizontal{margin-top:-1px}.cdk-high-contrast-active .mat-autocomplete-panel{outline:solid 1px}\n"],encapsulation:2,changeDetection:0}),e})();const L=a.Xb(F);let R=(()=>{class e{constructor(e){this.elementRef=e}}return e.\u0275fac=function(t){return new(t||e)(a.Pb(a.m))},e.\u0275dir=a.Kb({type:e}),e})(),$=(()=>{class e extends R{}return e.\u0275fac=function(t){return N(t||e)},e.\u0275dir=a.Kb({type:e,selectors:[["","matAutocompleteOrigin",""]],exportAs:["matAutocompleteOrigin"],features:[a.Ab]}),e})();const N=a.Xb($),B=new a.s("mat-autocomplete-scroll-strategy"),z={provide:B,deps:[b.a],useFactory:function(e){return()=>e.scrollStrategies.reposition()}},K={provide:y.s,useExisting:Object(a.W)(()=>W),multi:!0};let Q=(()=>{class e{constructor(e,t,i,n,s,a,r,h,p,u){this._element=e,this._overlay=t,this._viewContainerRef=i,this._zone=n,this._changeDetectorRef=s,this._dir=r,this._formField=h,this._document=p,this._viewportRuler=u,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=o.a.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new c.a,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=Object(l.a)(()=>this.autocomplete&&this.autocomplete.options?Object(d.a)(...this.autocomplete.options.map(e=>e.onSelectionChange)):this._zone.onStable.pipe(Object(x.a)(1),Object(_.a)(()=>this.optionSelections))),this._scrollStrategy=a}get autocompleteDisabled(){return this._autocompleteDisabled}set autocompleteDisabled(e){this._autocompleteDisabled=Object(s.c)(e)}ngAfterViewInit(){const e=this._getWindow();void 0!==e&&this._zone.runOutsideAngular(()=>e.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(e){e.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const e=this._getWindow();void 0!==e&&e.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._attachOverlay(),this._floatLabel()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this.autocomplete.closed.emit(),this.autocomplete._isOpen=this._overlayAttached=!1,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._componentDestroyed||this._changeDetectorRef.detectChanges())}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return Object(d.a)(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(Object(k.a)(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(Object(k.a)(()=>this._overlayAttached)):Object(h.a)()).pipe(Object(O.a)(e=>e instanceof r.m?e:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return Object(d.a)(Object(p.a)(this._document,"click"),Object(p.a)(this._document,"touchend")).pipe(Object(k.a)(e=>{const t=this._isInsideShadowRoot&&e.composedPath?e.composedPath()[0]:e.target,i=this._formField?this._formField._elementRef.nativeElement:null,n=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&t!==this._element.nativeElement&&(!i||!i.contains(t))&&(!n||!n.contains(t))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(t)}))}writeValue(e){Promise.resolve(null).then(()=>this._setTriggerValue(e))}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._element.nativeElement.disabled=e}_handleKeydown(e){const t=e.keyCode;if(t===m.g&&e.preventDefault(),this.activeOption&&t===m.f&&this.panelOpen)this.activeOption._selectViaInteraction(),this._resetActiveItem(),e.preventDefault();else if(this.autocomplete){const i=this.autocomplete._keyManager.activeItem,n=t===m.p||t===m.d;this.panelOpen||t===m.o?this.autocomplete._keyManager.onKeydown(e):n&&this._canOpen()&&this.openPanel(),(n||this.autocomplete._keyManager.activeItem!==i)&&this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0)}}_handleInput(e){let t=e.target,i=t.value;"number"===t.type&&(i=""==i?null:parseFloat(i)),this._previousValue!==i&&(this._previousValue=i,this._onChange(i),this._canOpen()&&this._document.activeElement===e.target&&this.openPanel())}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_floatLabel(e=!1){this._formField&&"auto"===this._formField.floatLabel&&(e?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField.floatLabel="auto",this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){const e=this._zone.onStable.pipe(Object(x.a)(1)),t=this.autocomplete.options.changes.pipe(Object(C.a)(()=>this._positionStrategy.reapplyLastPosition()),Object(P.a)(0));return Object(d.a)(e,t).pipe(Object(_.a)(()=>{const e=this.panelOpen;return this._resetActiveItem(),this.autocomplete._setVisibility(),this.panelOpen&&(this._overlayRef.updatePosition(),e!==this.panelOpen&&this.autocomplete.opened.emit()),this.panelClosingActions}),Object(x.a)(1)).subscribe(e=>this._setValueAndClose(e))}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_setTriggerValue(e){const t=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(e):e,i=null!=t?t:"";this._formField?this._formField._control.value=i:this._element.nativeElement.value=i,this._previousValue=i}_setValueAndClose(e){e&&e.source&&(this._clearPreviousSelectedOption(e.source),this._setTriggerValue(e.source.value),this._onChange(e.source.value),this._element.nativeElement.focus(),this.autocomplete._emitSelectEvent(e.source)),this.closePanel()}_clearPreviousSelectedOption(e){this.autocomplete.options.forEach(t=>{t!=e&&t.selected&&t.deselect()})}_attachOverlay(){null==this._isInsideShadowRoot&&(this._isInsideShadowRoot=!!Object(f.c)(this._element.nativeElement));let e=this._overlayRef;e?(this._positionStrategy.setOrigin(this._getConnectedElement()),e.updateSize({width:this._getPanelWidth()})):(this._portal=new v.i(this.autocomplete.template,this._viewContainerRef),e=this._overlay.create(this._getOverlayConfig()),this._overlayRef=e,e.keydownEvents().subscribe(e=>{(e.keyCode===m.g||e.keyCode===m.p&&e.altKey)&&(this._resetActiveItem(),this._closeKeyEventStream.next(),e.stopPropagation(),e.preventDefault())}),this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&e&&e.updateSize({width:this._getPanelWidth()})})),e&&!e.hasAttached()&&(e.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());const t=this.panelOpen;this.autocomplete._setVisibility(),this.autocomplete._isOpen=this._overlayAttached=!0,this.panelOpen&&t!==this.panelOpen&&this.autocomplete.opened.emit()}_getOverlayConfig(){return new b.b({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir})}_getOverlayPosition(){const e=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(e),this._positionStrategy=e,e}_setStrategyPositions(e){const t=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],i=this._aboveClass,n=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:i},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:i}];let s;s="above"===this.position?n:"below"===this.position?t:[...t,...n],e.withPositions(s)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){this.autocomplete._keyManager.setActiveItem(this.autocomplete.autoActiveFirstOption?0:-1)}_canOpen(){const e=this._element.nativeElement;return!e.readOnly&&!e.disabled&&!this._autocompleteDisabled}_getWindow(){var e;return(null===(e=this._document)||void 0===e?void 0:e.defaultView)||window}_scrollToOption(e){const t=this.autocomplete,i=Object(r.s)(e,t.options,t.optionGroups);if(0===e&&1===i)t._setScrollTop(0);else{const i=t.options.toArray()[e];if(i){const e=i._getHostElement(),n=Object(r.t)(e.offsetTop,e.offsetHeight,t._getScrollTop(),t.panel.nativeElement.offsetHeight);t._setScrollTop(n)}}}}return e.\u0275fac=function(t){return new(t||e)(a.Pb(a.m),a.Pb(b.a),a.Pb(a.S),a.Pb(a.B),a.Pb(a.i),a.Pb(B),a.Pb(I.c,8),a.Pb(w.a,9),a.Pb(u.e,8),a.Pb(g.e))},e.\u0275dir=a.Kb({type:e,inputs:{position:["matAutocompletePosition","position"],autocompleteAttribute:["autocomplete","autocompleteAttribute"],autocompleteDisabled:["matAutocompleteDisabled","autocompleteDisabled"],autocomplete:["matAutocomplete","autocomplete"],connectedTo:["matAutocompleteConnectedTo","connectedTo"]},features:[a.Bb]}),e})(),W=(()=>{class e extends Q{constructor(){super(...arguments),this._aboveClass="mat-autocomplete-panel-above"}}return e.\u0275fac=function(t){return X(t||e)},e.\u0275dir=a.Kb({type:e,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-autocomplete-trigger"],hostVars:7,hostBindings:function(e,t){1&e&&a.cc("focusin",(function(){return t._handleFocus()}))("blur",(function(){return t._onTouched()}))("input",(function(e){return t._handleInput(e)}))("keydown",(function(e){return t._handleKeydown(e)})),2&e&&a.Eb("autocomplete",t.autocompleteAttribute)("role",t.autocompleteDisabled?null:"combobox")("aria-autocomplete",t.autocompleteDisabled?null:"list")("aria-activedescendant",t.panelOpen&&t.activeOption?t.activeOption.id:null)("aria-expanded",t.autocompleteDisabled?null:t.panelOpen.toString())("aria-owns",t.autocompleteDisabled||!t.panelOpen||null==t.autocomplete?null:t.autocomplete.id)("aria-haspopup",!t.autocompleteDisabled)},exportAs:["matAutocompleteTrigger"],features:[a.Cb([K]),a.Ab]}),e})();const X=a.Xb(W);let H=(()=>{class e{}return e.\u0275mod=a.Nb({type:e}),e.\u0275inj=a.Mb({factory:function(t){return new(t||e)},providers:[z],imports:[[b.d,r.l,r.h,u.c],g.b,r.l,r.h]}),e})()},"/9aa":function(e,t,i){var n=i("NykK"),s=i("ExA7");e.exports=function(e){return"symbol"==typeof e||s(e)&&"[object Symbol]"==n(e)}},"/RwR":function(e,t,i){"use strict";i.d(t,"a",(function(){return h}));var n=i("0IaG"),s=i("fXoL"),a=i("VaLf"),r=i("kmQS"),o=i("NFeN"),c=i("ofXK"),l=i("bTqV");function d(e,t){if(1&e&&(s.Vb(0,"p",9),s.Kc(1),s.Ub()),2&e){const e=s.gc();s.Db(1),s.Lc(e.data.bodyBold)}}let h=(()=>{class e{constructor(e,t,i,n){this.dialogRef=e,this.data=t,this.i18n=i,this.settings=n}ngOnInit(){this.data.ok||(this.data.ok="Confirm"),this.data.cancel||(this.data.cancel="Cancel");for(const e in this.data)"string"==typeof this.data[e]&&(this.data[e]=this.i18n.t(this.data[e],this.data.replacements))}confirm(){this.dialogRef.close(!0)}close(){this.dialogRef.close(!1)}}return e.\u0275fac=function(t){return new(t||e)(s.Pb(n.h),s.Pb(n.a),s.Pb(a.a),s.Pb(r.a))},e.\u0275cmp=s.Jb({type:e,selectors:[["confirm-modal"]],decls:14,vars:5,consts:[[1,"modal-header"],["mat-dialog-title","",1,"modal-title"],["type","button","tabindex","-1",1,"close-button","no-style",3,"click"],["svgIcon","close"],["mat-dialog-content","",1,"mat-dialog-contents"],["class","bold",4,"ngIf"],["mat-dialog-actions","",1,"buttons","right","mat-dialog-actions"],["type","button","mat-button","",1,"button","cancel","cancel-button",3,"click"],["type","submit","mat-raised-button","","color","accent","cdkFocusInitial","",1,"button","primary","submit-button",3,"click"],[1,"bold"]],template:function(e,t){1&e&&(s.Vb(0,"div",0),s.Vb(1,"h2",1),s.Kc(2),s.Ub(),s.Vb(3,"button",2),s.cc("click",(function(){return t.close()})),s.Qb(4,"mat-icon",3),s.Ub(),s.Ub(),s.Vb(5,"div",4),s.Vb(6,"p"),s.Kc(7),s.Ub(),s.Ic(8,d,2,1,"p",5),s.Ub(),s.Vb(9,"div",6),s.Vb(10,"button",7),s.cc("click",(function(){return t.close()})),s.Kc(11),s.Ub(),s.Vb(12,"button",8),s.cc("click",(function(){return t.confirm()})),s.Kc(13),s.Ub(),s.Ub()),2&e&&(s.Db(2),s.Lc(t.data.title),s.Db(5),s.Lc(t.data.body),s.Db(1),s.mc("ngIf",t.data.bodyBold),s.Db(3),s.Lc(t.data.cancel),s.Db(2),s.Lc(t.data.ok))},directives:[n.i,o.a,n.f,c.t,n.c,l.b],styles:["[_nghost-%COMP%]{display:block;max-width:500px}.modal-header[_ngcontent-%COMP%]{margin-bottom:10px}.bold[_ngcontent-%COMP%]{font-weight:500}p[_ngcontent-%COMP%]{font-size:1.5rem}"],changeDetection:0}),e})()},"03A+":function(e,t,i){var n=i("JTzB"),s=i("ExA7"),a=Object.prototype,r=a.hasOwnProperty,o=a.propertyIsEnumerable,c=n(function(){return arguments}())?n:function(e){return s(e)&&r.call(e,"callee")&&!o.call(e,"callee")};e.exports=c},"0Cz8":function(e,t,i){var n=i("Xi7e"),s=i("ebwN"),a=i("e4Nc");e.exports=function(e,t){var i=this.__data__;if(i instanceof n){var r=i.__data__;if(!s||r.length<199)return r.push([e,t]),this.size=++i.size,this;i=this.__data__=new a(r)}return i.set(e,t),this.size=i.size,this}},"0Gur":function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var n=i("ofXK"),s=i("A5z7"),a=i("NFeN"),r=i("3Pt+"),o=i("6rvT"),c=i("/1cH"),l=i("bTqV"),d=i("FKr1"),h=i("fXoL");let p=(()=>{class e{}return e.\u0275mod=h.Nb({type:e}),e.\u0275inj=h.Mb({factory:function(t){return new(t||e)},imports:[[n.c,s.e,c.b,r.E,o.a,l.c,a.b,d.q]]}),e})()},"0ycA":function(e,t){e.exports=function(){return[]}},"1+5i":function(e,t,i){var n=i("w/wX"),s=i("sEf8"),a=i("mdPL"),r=a&&a.isSet,o=r?s(r):n;e.exports=o},"1ImS":function(e,t,i){"use strict";i.d(t,"a",(function(){return b}));var n=i("ofXK"),s=i("NFeN"),a=i("6rvT"),r=i("bSwM"),o=i("3Pt+"),c=i("bTqV"),l=i("A5z7"),d=i("bv9b"),h=i("0Gur"),p=i("Iysn"),u=i("fXoL");let b=(()=>{class e{}return e.\u0275mod=u.Nb({type:e}),e.\u0275inj=u.Mb({factory:function(t){return new(t||e)},imports:[[n.c,a.a,o.E,o.o,h.a,p.a,c.c,s.b,r.b,l.e,d.b],r.b]}),e})()},"1hJj":function(e,t,i){var n=i("e4Nc"),s=i("ftKO"),a=i("3A9y");function r(e){var t=-1,i=null==e?0:e.length;for(this.__data__=new n;++t<i;)this.add(e[t])}r.prototype.add=r.prototype.push=s,r.prototype.has=a,e.exports=r},"1jcm":function(e,t,i){"use strict";i.d(t,"a",(function(){return x})),i.d(t,"b",(function(){return k}));var n=i("GU7r"),s=i("fXoL"),a=i("FKr1"),r=i("8LU1"),o=i("3Pt+"),c=i("R1ws"),l=i("u47x");const d=["thumbContainer"],h=["toggleBar"],p=["input"],u=function(){return{enterDuration:150}},b=["*"],g=new s.s("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})});let m=0;const f={provide:o.s,useExisting:Object(s.W)(()=>x),multi:!0};class v{constructor(e,t){this.source=e,this.checked=t}}class y{constructor(e){this._elementRef=e}}const w=Object(a.y)(Object(a.u)(Object(a.v)(Object(a.w)(y)),"accent"));let x=(()=>{class e extends w{constructor(e,t,i,n,a,r){super(e),this._focusMonitor=t,this._changeDetectorRef=i,this.defaults=a,this._animationMode=r,this._onChange=e=>{},this._onTouched=()=>{},this._uniqueId="mat-slide-toggle-"+ ++m,this._required=!1,this._checked=!1,this.name=null,this.id=this._uniqueId,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new s.o,this.toggleChange=new s.o,this.tabIndex=parseInt(n)||0}get required(){return this._required}set required(e){this._required=Object(r.c)(e)}get checked(){return this._checked}set checked(e){this._checked=Object(r.c)(e),this._changeDetectorRef.markForCheck()}get inputId(){return(this.id||this._uniqueId)+"-input"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{"keyboard"===e||"program"===e?this._inputElement.nativeElement.focus():e||Promise.resolve().then(()=>this._onTouched())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onChangeEvent(e){e.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(e){e.stopPropagation()}writeValue(e){this.checked=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}focus(e){this._focusMonitor.focusVia(this._inputElement,"keyboard",e)}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(new v(this,this.checked))}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}}return e.\u0275fac=function(t){return new(t||e)(s.Pb(s.m),s.Pb(l.h),s.Pb(s.i),s.ac("tabindex"),s.Pb(g),s.Pb(c.a,8))},e.\u0275cmp=s.Jb({type:e,selectors:[["mat-slide-toggle"]],viewQuery:function(e,t){var i;1&e&&(s.Qc(d,!0),s.Qc(h,!0),s.Qc(p,!0)),2&e&&(s.tc(i=s.dc())&&(t._thumbEl=i.first),s.tc(i=s.dc())&&(t._thumbBarEl=i.first),s.tc(i=s.dc())&&(t._inputElement=i.first))},hostAttrs:[1,"mat-slide-toggle"],hostVars:12,hostBindings:function(e,t){2&e&&(s.Yb("id",t.id),s.Eb("tabindex",t.disabled?null:-1)("aria-label",null)("aria-labelledby",null),s.Hb("mat-checked",t.checked)("mat-disabled",t.disabled)("mat-slide-toggle-label-before","before"==t.labelPosition)("_mat-animation-noopable","NoopAnimations"===t._animationMode))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],features:[s.Cb([f]),s.Ab],ngContentSelectors:b,decls:16,vars:18,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["toggleBar",""],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],["thumbContainer",""],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(e,t){if(1&e&&(s.lc(),s.Vb(0,"label",0,1),s.Vb(2,"div",2,3),s.Vb(4,"input",4,5),s.cc("change",(function(e){return t._onChangeEvent(e)}))("click",(function(e){return t._onInputClick(e)})),s.Ub(),s.Vb(6,"div",6,7),s.Qb(8,"div",8),s.Vb(9,"div",9),s.Qb(10,"div",10),s.Ub(),s.Ub(),s.Ub(),s.Vb(11,"span",11,12),s.cc("cdkObserveContent",(function(){return t._onLabelTextChange()})),s.Vb(13,"span",13),s.Kc(14,"\xa0"),s.Ub(),s.kc(15),s.Ub(),s.Ub()),2&e){const e=s.uc(1),i=s.uc(12);s.Eb("for",t.inputId),s.Db(2),s.Hb("mat-slide-toggle-bar-no-side-margin",!i.textContent||!i.textContent.trim()),s.Db(2),s.mc("id",t.inputId)("required",t.required)("tabIndex",t.tabIndex)("checked",t.checked)("disabled",t.disabled),s.Eb("name",t.name)("aria-checked",t.checked.toString())("aria-label",t.ariaLabel)("aria-labelledby",t.ariaLabelledby),s.Db(5),s.mc("matRippleTrigger",e)("matRippleDisabled",t.disableRipple||t.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",s.pc(17,u))}},directives:[a.p,n.a],styles:[".mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:transparent}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}.cdk-high-contrast-active .mat-slide-toggle.cdk-keyboard-focused .mat-slide-toggle-bar{outline:2px dotted;outline-offset:5px}\n"],encapsulation:2,changeDetection:0}),e})(),_=(()=>{class e{}return e.\u0275mod=s.Nb({type:e}),e.\u0275inj=s.Mb({factory:function(t){return new(t||e)}}),e})(),k=(()=>{class e{}return e.\u0275mod=s.Nb({type:e}),e.\u0275inj=s.Mb({factory:function(t){return new(t||e)},imports:[[_,a.q,a.h,n.c],_,a.h]}),e})()},"2ajD":function(e,t){e.exports=function(e){return e!=e}},"2gN3":function(e,t,i){var n=i("Kz5y");e.exports=n["__core-js_shared__"]},"2hX1":function(e,t,i){"use strict";i.d(t,"a",(function(){return O}));var n=i("2Vo4"),s=i("itXk"),a=i("LRne"),r=i("lJxs"),o=i("eIep"),c=i("vkgz"),l=i("fXoL"),d=i("tyNb"),h=i("LRXf"),p=i("ahrr");let u=(()=>{class e{constructor(e,t,i){this.router=e,this.http=t,this.localStorage=i,this.params$=new n.a({}),this.paginatedOnce$=new n.a(!1),this.loading$=new n.a(!1),this.response$=new n.a(null),this.dontUpdateQueryParams=!1,this.perPageCacheKey=null,this.noResults$=this.response$.pipe(Object(r.a)(e=>this.paginatedOnce$.value&&0===e.pagination.data.length))}get params(){return this.params$.value}get currentPage(){var e,t;return null===(t=null===(e=this.response$.value)||void 0===e?void 0:e.pagination)||void 0===t?void 0:t.current_page}paginate(e={},t,i){const n=this.subscription?{}:this.currentQueryParams();this.params$.next(Object.assign(Object.assign(Object.assign({},this.response$.value?{perPage:this.response$.value.pagination.per_page,page:this.response$.value.pagination.current_page}:{}),n),e)),this.subscription||this.init(t,i)}nextPage(){const e=this.response$.value.pagination.current_page,t=this.response$.value.pagination.total,i=e+1;this.paginate(Object.assign(Object.assign({},this.params$.value),{page:!e||i>t?e:i}))}previousPage(){const e=this.response$.value.pagination.current_page;this.paginate(Object.assign(Object.assign({},this.params$.value),{page:e-1||1}))}changePerPage(e){var t;e!==(null===(t=this.params$.value)||void 0===t?void 0:t.perPage)&&(this.perPageCacheKey&&this.localStorage.set(this.perPageCacheKey,e),this.paginate(Object.assign(Object.assign({},this.params$.value),{perPage:e})))}currentQueryParams(){return this.router.routerState.root.snapshot.queryParams}init(e,t){this.subscription=this.params$.pipe(Object(o.a)(i=>{this.loading$.next(!0);const n=!this.paginatedOnce$.value;return n&&this.perPageCacheKey&&this.localStorage.get(this.perPageCacheKey)&&(i=Object.assign({perPage:this.localStorage.get(this.perPageCacheKey)},i)),(n&&t?Object(a.a)({pagination:t}):this.http.get(e,i)).pipe(Object(c.a)(()=>{this.updateQueryParams(i),this.loading$.next(!1),this.paginatedOnce$.next(!0)},()=>{this.loading$.next(!1),this.paginatedOnce$.next(!0)}))})).subscribe(e=>{this.response$.next(e)})}updateQueryParams(e={}){if(!this.dontUpdateQueryParams){for(const t in e)Array.isArray(e[t])&&(e[t]=e[t].join(","));this.router.navigate([],{queryParams:e,replaceUrl:!0})}}canLoadNextPage(){var e,t;return this.response$.value&&this.currentPage<(null===(t=null===(e=this.response$.value)||void 0===e?void 0:e.pagination)||void 0===t?void 0:t.last_page)}}return e.\u0275fac=function(t){return new(t||e)(l.Zb(d.g),l.Zb(h.a),l.Zb(p.a))},e.\u0275prov=l.Lb({token:e,factory:e.\u0275fac}),e})();var b=i("Kj3r"),g=i("Zy1z"),m=i("pLZG"),f=i("F96W"),v=i("/RwR"),y=i("iH1U"),w=i("hLX6"),x=i("8LU1");function _(e,t){const i=w.pick(t,e);if(Object(x.a)(i)){const e=Number(i);return e<9007199254740991?e:i}return i}var k=i("QGXG");let O=(()=>{class e{constructor(e,t,i,s){this.modal=e,this.router=t,this.http=i,this.localStorage=s,this.sort$=new n.a({}),this.filters$=new n.a({}),this.staticParams$=new n.a({}),this.paginator=new u(this.router,this.http,this.localStorage),this.ignoreNextParamChange=!1,this.originalData$=new n.a([]),this.data$=new n.a([]),this.selectedRows$=new n.a([])}get data(){return this.data$.value}set data(e){const t=[...e];this.originalData$.next(t),this.data$.next(t),this.ignoreNextParamChange=!0,this.reset()}init(e={}){return this.config=e,this.staticParams$.next(Object.assign(Object.assign({},this.staticParams$.value),e.staticParams)),e.uri?this.connectToPaginator():e.initialData&&(this.data=e.initialData),this.mainSub=Object(s.a)([this.sort$,this.filters$,this.staticParams$]).pipe(Object(b.a)(0),Object(r.a)(e=>Object.assign({},...e))).subscribe(e=>{if(this.ignoreNextParamChange)return this.ignoreNextParamChange=!1;e=Object(f.a)(e),Object.entries(e).forEach(([t,i])=>{"object"==typeof i&&i.id&&(e[t+"Id"]=i.id,delete e[t])}),this.config.uri?this.paginator.paginate(e,this.config.uri,this.config.initialData):Object.keys(e).length&&this.data.length&&this.applyLocalTransforms(e)}),this}connectToPaginator(){this.paginatorSub=this.paginator.response$.pipe(Object(g.a)()).subscribe(([e,t])=>{var i;const n=this.config.infiniteScroll&&(null===(i=null==e?void 0:e.pagination)||void 0===i?void 0:i.current_page)!==t.pagination.current_page?[...this.data$.value,...t.pagination.data]:t.pagination.data;this.data$.next(n)})}applyLocalTransforms(e){let t=[...this.originalData$.value];e.query&&(t=function(e,t){return e.filter(e=>function(e,t){const i=function e(t){return Object.keys(t).reduce((i,n)=>i+(t[n]&&"object"==typeof t[n]?e(t[n]):t[n])+"\u25ec","").toLowerCase()}(e),n=t.trim().toLowerCase();return-1!==i.indexOf(n)}(e,t))}(t,e.query)),e.orderBy&&e.orderDir&&(t=function(e,t,i){return e.sort((e,n)=>{let s=_(e,t),a=_(n,t);const r=typeof s,o=typeof a;r!==o&&("number"===r&&(s+=""),"number"===o&&(a+=""));let c=0;return null!=s&&null!=a?s>a?c=1:s<a&&(c=-1):null!=s?c=1:null!=a&&(c=-1),c*("asc"===i?1:-1)})}(t,e.orderBy,e.orderDir)),this.data$.next(t)}addFilter(e,t){this.filters$.next(Object.assign(Object.assign({},this.filters$.value),{[e]:t}))}removeFilter(e){const t=Object.assign({},this.filters$.value);delete t[e],this.filters$.next(t)}reset(e=null){this.filters$.next({}),this.sort$.next({}),this.selectedRows$.next([]),e&&this.staticParams$.next(e)}openCrupdateResourceModal(e,t,i){return this.modal.open(e,t,i).beforeClosed().pipe(Object(m.a)(e=>!!e),Object(c.a)(()=>this.reset()))}confirmResourceDeletion(e){const t=Object.assign(Object.assign({},y.a),{replacements:{resource:e}});return this.modal.open(v.a,t).afterClosed().pipe(Object(m.a)(e=>e))}getCurrentParams(){return Object.assign(Object.assign(Object.assign(Object.assign({},this.sort$.value),this.filters$.value),this.staticParams$.value),this.paginator.params)}destroy(){var e,t;null===(e=this.paginatorSub)||void 0===e||e.unsubscribe(),null===(t=this.mainSub)||void 0===t||t.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(l.Zb(k.a),l.Zb(d.g),l.Zb(h.a),l.Zb(p.a))},e.\u0275prov=l.Lb({token:e,factory:e.\u0275fac}),e})()},"3A9y":function(e,t){e.exports=function(e){return this.__data__.has(e)}},"3Fdi":function(e,t){var i=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return i.call(e)}catch(t){}try{return e+""}catch(t){}}return""}},"4/ic":function(e,t,i){var n=i("ZWtO");e.exports=function(e){return function(t){return n(t,e)}}},"44Ds":function(e,t,i){var n=i("e4Nc");function s(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var i=function(){var n=arguments,s=t?t.apply(this,n):n[0],a=i.cache;if(a.has(s))return a.get(s);var r=e.apply(this,n);return i.cache=a.set(s,r)||a,r};return i.cache=new(s.Cache||n),i}s.Cache=n,e.exports=s},"4kuk":function(e,t,i){var n=i("SfRM"),s=i("Hvzi"),a=i("u8Dt"),r=i("ekgI"),o=i("JSQU");function c(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=s,c.prototype.get=a,c.prototype.has=r,c.prototype.set=o,e.exports=c},"4sDh":function(e,t,i){var n=i("4uTw"),s=i("03A+"),a=i("Z0cm"),r=i("wJg7"),o=i("shjB"),c=i("9Nap");e.exports=function(e,t,i){for(var l=-1,d=(t=n(t,e)).length,h=!1;++l<d;){var p=c(t[l]);if(!(h=null!=e&&i(e,p)))break;e=e[p]}return h||++l!=d?h:!!(d=null==e?0:e.length)&&o(d)&&r(p,d)&&(a(e)||s(e))}},"4uTw":function(e,t,i){var n=i("Z0cm"),s=i("9ggG"),a=i("GNiM"),r=i("dt0z");e.exports=function(e,t){return n(e)?e:s(e,t)?[e]:a(r(e))}},"5Tg0":function(e,t,i){(function(e){var n=i("Kz5y"),s=t&&!t.nodeType&&t,a=s&&"object"==typeof e&&e&&!e.nodeType&&e,r=a&&a.exports===s?n.Buffer:void 0,o=r?r.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var i=e.length,n=o?o(i):new e.constructor(i);return e.copy(n),n}}).call(this,i("YuTi")(e))},"5oZ4":function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var n=i("nPOm"),s=i("0IaG"),a=i("fXoL"),r=i("ZfYz"),o=i("NFeN"),c=i("Rd8u"),l=i("3Pt+"),d=i("ofXK"),h=i("bTqV");function p(e,t){1&e&&a.Rb(0)}let u=(()=>{class e{constructor(e,t){this.data=e,this.overlayPanelRef=t}close(){this.overlayPanelRef.close()}}return e.\u0275fac=function(t){return new(t||e)(a.Pb(n.a),a.Pb(r.a))},e.\u0275cmp=a.Jb({type:e,selectors:[["datatable-filters-panel"]],hostVars:1,hostBindings:function(e,t){2&e&&a.Hc("@dialogContainer","enter")},decls:9,vars:1,consts:[["svgIcon","filter-list"],["trans",""],[1,"body",3,"ngSubmit"],[4,"ngTemplateOutlet"],["type","button","mat-button","","color","accent","trans","",3,"click"]],template:function(e,t){1&e&&(a.Vb(0,"header"),a.Qb(1,"mat-icon",0),a.Vb(2,"span",1),a.Kc(3,"Filters"),a.Ub(),a.Ub(),a.Vb(4,"form",2),a.cc("ngSubmit",(function(){return t.close()})),a.Ic(5,p,1,0,"ng-container",3),a.Ub(),a.Vb(6,"footer"),a.Vb(7,"button",4),a.cc("click",(function(){return t.close()})),a.Kc(8,"Close"),a.Ub(),a.Ub()),2&e&&(a.Db(5),a.mc("ngTemplateOutlet",t.data.filters))},directives:[o.a,c.a,l.K,l.v,l.w,d.A,h.b],styles:["[_nghost-%COMP%]{display:block;min-width:250px;margin:auto;background-color:var(--be-background);border-radius:4px;box-shadow:0 8px 9px -5px rgba(0,0,0,.2),0 15px 22px 2px rgba(0,0,0,.14),0 6px 28px 5px rgba(0,0,0,.12)}header[_ngcontent-%COMP%]{border-bottom:1px solid var(--be-divider-default);padding:15px 20px;margin-bottom:20px;font-weight:500}header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:5px}.body[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}footer[_ngcontent-%COMP%]{border-top:1px solid var(--be-divider-default);text-align:right;margin-top:10px;padding:10px 20px}"],data:{animation:[s.j.dialogContainer]},changeDetection:0}),e})()},"6JEN":function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("1MND");class s extends n.a{constructor(e,t){super(),this.params=e,this.i18n=t,this.errorMessage=this.i18n.t("Only these file types are allowed: :extensions",{extensions:this.params.extensions.join(", ")})}fails(e){return!this.params.extensions.some(t=>t.toLowerCase()===e.extension.toLowerCase())}}},"6SKC":function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("4Ait"),s=i("fXoL");let a=(()=>{class e{transform(e=0,t){return isNaN(parseFloat(String(e)))||!isFinite(e)?"-":Object(n.a)(e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=s.Ob({name:"formattedFileSize",type:e,pure:!0}),e})()},"6sVZ":function(e,t){var i=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||i)}},"711d":function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},"77Zs":function(e,t,i){var n=i("Xi7e");e.exports=function(){this.__data__=new n,this.size=0}},"7GkX":function(e,t,i){var n=i("b80T"),s=i("A90E"),a=i("MMmD");e.exports=function(e){return a(e)?n(e):s(e)}},"7Ix3":function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var i in Object(e))t.push(i);return t}},"7fqy":function(e,t){e.exports=function(e){var t=-1,i=Array(e.size);return e.forEach((function(e,n){i[++t]=[n,e]})),i}},"8iTb":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));const n=new(i("fXoL").s)("WORKSPACE_CONFIG")},"9Nap":function(e,t,i){var n=i("/9aa");e.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},"9ggG":function(e,t,i){var n=i("Z0cm"),s=i("/9aa"),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;e.exports=function(e,t){if(n(e))return!1;var i=typeof e;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=e&&!s(e))||r.test(e)||!a.test(e)||null!=t&&e in Object(t)}},A5z7:function(e,t,i){"use strict";i.d(t,"a",(function(){return P})),i.d(t,"b",(function(){return M})),i.d(t,"c",(function(){return V})),i.d(t,"d",(function(){return I})),i.d(t,"e",(function(){return F}));var n=i("FtGj"),s=i("fXoL"),a=i("FKr1"),r=i("8LU1"),o=i("ofXK"),c=i("R1ws"),l=i("XNiG"),d=i("VRyK"),h=i("IzEk"),p=i("1G5W"),u=i("JX91"),b=i("u47x"),g=i("0EQZ"),m=i("kmnG"),f=i("nLfN"),v=i("cH1L"),y=i("3Pt+");const w=["*"],x=new s.s("MatChipRemove"),_=new s.s("MatChipAvatar"),k=new s.s("MatChipTrailingIcon");class O{constructor(e){this._elementRef=e}}const C=Object(a.y)(Object(a.u)(Object(a.v)(O),"primary"),-1);let P=(()=>{class e extends C{constructor(e,t,i,n,r,o,c,d){super(e),this._elementRef=e,this._ngZone=t,this._changeDetectorRef=o,this._hasFocus=!1,this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListDisabled=!1,this._selected=!1,this._selectable=!0,this._disabled=!1,this._removable=!0,this._onFocus=new l.a,this._onBlur=new l.a,this.selectionChange=new s.o,this.destroyed=new s.o,this.removed=new s.o,this._addHostClassName(),this._chipRippleTarget=(d||document).createElement("div"),this._chipRippleTarget.classList.add("mat-chip-ripple"),this._elementRef.nativeElement.appendChild(this._chipRippleTarget),this._chipRipple=new a.r(this,t,this._chipRippleTarget,i),this._chipRipple.setupTriggerEvents(e),this.rippleConfig=n||{},this._animationsDisabled="NoopAnimations"===r,this.tabIndex=null!=c&&parseInt(c)||-1}get rippleDisabled(){return this.disabled||this.disableRipple||!!this.rippleConfig.disabled}get selected(){return this._selected}set selected(e){const t=Object(r.c)(e);t!==this._selected&&(this._selected=t,this._dispatchSelectionChange())}get value(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent}set value(e){this._value=e}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(e){this._selectable=Object(r.c)(e)}get disabled(){return this._chipListDisabled||this._disabled}set disabled(e){this._disabled=Object(r.c)(e)}get removable(){return this._removable}set removable(e){this._removable=Object(r.c)(e)}get ariaSelected(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}_addHostClassName(){const e=this._elementRef.nativeElement;e.hasAttribute("mat-basic-chip")||"mat-basic-chip"===e.tagName.toLowerCase()?e.classList.add("mat-basic-chip"):e.classList.add("mat-standard-chip")}ngOnDestroy(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}select(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._markForCheck())}deselect(){this._selected&&(this._selected=!1,this._dispatchSelectionChange(),this._markForCheck())}selectViaInteraction(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0),this._markForCheck())}toggleSelected(e=!1){return this._selected=!this.selected,this._dispatchSelectionChange(e),this._markForCheck(),this.selected}focus(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}remove(){this.removable&&this.removed.emit({chip:this})}_handleClick(e){this.disabled?e.preventDefault():e.stopPropagation()}_handleKeydown(e){if(!this.disabled)switch(e.keyCode){case n.c:case n.b:this.remove(),e.preventDefault();break;case n.n:this.selectable&&this.toggleSelected(!0),e.preventDefault()}}_blur(){this._ngZone.onStable.pipe(Object(h.a)(1)).subscribe(()=>{this._ngZone.run(()=>{this._hasFocus=!1,this._onBlur.next({chip:this})})})}_dispatchSelectionChange(e=!1){this.selectionChange.emit({source:this,isUserInput:e,selected:this._selected})}_markForCheck(){this._changeDetectorRef&&this._changeDetectorRef.markForCheck()}}return e.\u0275fac=function(t){return new(t||e)(s.Pb(s.m),s.Pb(s.B),s.Pb(f.a),s.Pb(a.g,8),s.Pb(c.a,8),s.Pb(s.i),s.ac("tabindex"),s.Pb(o.e,8))},e.\u0275dir=s.Kb({type:e,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(e,t,i){var n;1&e&&(s.Ib(i,_,!0),s.Ib(i,k,!0),s.Ib(i,x,!0)),2&e&&(s.tc(n=s.dc())&&(t.avatar=n.first),s.tc(n=s.dc())&&(t.trailingIcon=n.first),s.tc(n=s.dc())&&(t.removeIcon=n.first))},hostAttrs:["role","option",1,"mat-chip","mat-focus-indicator"],hostVars:14,hostBindings:function(e,t){1&e&&s.cc("click",(function(e){return t._handleClick(e)}))("keydown",(function(e){return t._handleKeydown(e)}))("focus",(function(){return t.focus()}))("blur",(function(){return t._blur()})),2&e&&(s.Eb("tabindex",t.disabled?null:t.tabIndex)("disabled",t.disabled||null)("aria-disabled",t.disabled.toString())("aria-selected",t.ariaSelected),s.Hb("mat-chip-selected",t.selected)("mat-chip-with-avatar",t.avatar)("mat-chip-with-trailing-icon",t.trailingIcon||t.removeIcon)("mat-chip-disabled",t.disabled)("_mat-animation-noopable",t._animationsDisabled))},inputs:{color:"color",disableRipple:"disableRipple",tabIndex:"tabIndex",selected:"selected",value:"value",selectable:"selectable",disabled:"disabled",removable:"removable"},outputs:{selectionChange:"selectionChange",destroyed:"destroyed",removed:"removed"},exportAs:["matChip"],features:[s.Ab]}),e})(),I=(()=>{class e{constructor(e,t){this._parentChip=e,t&&"BUTTON"===t.nativeElement.nodeName&&t.nativeElement.setAttribute("type","button")}_handleClick(e){const t=this._parentChip;t.removable&&!t.disabled&&t.remove(),e.stopPropagation()}}return e.\u0275fac=function(t){return new(t||e)(s.Pb(P),s.Pb(s.m))},e.\u0275dir=s.Kb({type:e,selectors:[["","matChipRemove",""]],hostAttrs:[1,"mat-chip-remove","mat-chip-trailing-icon"],hostBindings:function(e,t){1&e&&s.cc("click",(function(e){return t._handleClick(e)}))},features:[s.Cb([{provide:x,useExisting:e}])]}),e})();const D=new s.s("mat-chips-default-options");class j{constructor(e,t,i,n){this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=i,this.ngControl=n}}const S=Object(a.x)(j);let E=0;class U{constructor(e,t){this.source=e,this.value=t}}let V=(()=>{class e extends S{constructor(e,t,i,n,a,r,o){super(r,n,a,o),this._elementRef=e,this._changeDetectorRef=t,this._dir=i,this.ngControl=o,this.controlType="mat-chip-list",this._lastDestroyedChipIndex=null,this._destroyed=new l.a,this._uid="mat-chip-list-"+E++,this._tabIndex=0,this._userTabIndex=null,this._onTouched=()=>{},this._onChange=()=>{},this._multiple=!1,this._compareWith=(e,t)=>e===t,this._required=!1,this._disabled=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.change=new s.o,this.valueChange=new s.o,this.ngControl&&(this.ngControl.valueAccessor=this)}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get role(){return this.empty?null:"listbox"}get multiple(){return this._multiple}set multiple(e){this._multiple=Object(r.c)(e),this._syncChipsState()}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this.writeValue(e),this._value=e}get id(){return this._chipInput?this._chipInput.id:this._uid}get required(){return this._required}set required(e){this._required=Object(r.c)(e),this.stateChanges.next()}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get focused(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this.chips||0===this.chips.length)}get shouldLabelFloat(){return!this.empty||this.focused}get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Object(r.c)(e),this._syncChipsState()}get selectable(){return this._selectable}set selectable(e){this._selectable=Object(r.c)(e),this.chips&&this.chips.forEach(e=>e.chipListSelectable=this._selectable)}set tabIndex(e){this._userTabIndex=e,this._tabIndex=e}get chipSelectionChanges(){return Object(d.a)(...this.chips.map(e=>e.selectionChange))}get chipFocusChanges(){return Object(d.a)(...this.chips.map(e=>e._onFocus))}get chipBlurChanges(){return Object(d.a)(...this.chips.map(e=>e._onBlur))}get chipRemoveChanges(){return Object(d.a)(...this.chips.map(e=>e.destroyed))}ngAfterContentInit(){this._keyManager=new b.g(this.chips).withWrap().withVerticalOrientation().withHomeAndEnd().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe(Object(p.a)(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e)),this._keyManager.tabOut.pipe(Object(p.a)(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.chips.changes.pipe(Object(u.a)(null),Object(p.a)(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>{this._syncChipsState()}),this._resetChips(),this._initializeSelection(),this._updateTabIndex(),this._updateFocusForDestroyedChips(),this.stateChanges.next()})}ngOnInit(){this._selectionModel=new g.c(this.multiple,void 0,!1),this.stateChanges.next()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==this._disabled&&(this.disabled=!!this.ngControl.disabled))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}registerInput(e){this._chipInput=e,this._elementRef.nativeElement.setAttribute("data-mat-chip-input",e.id)}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}writeValue(e){this.chips&&this._setSelectionByValue(e,!1)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this.stateChanges.next()}onContainerClick(e){this._originatesFromChip(e)||this.focus()}focus(e){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(e),this.stateChanges.next()))}_focusInput(e){this._chipInput&&this._chipInput.focus(e)}_keydown(e){const t=e.target;e.keyCode===n.b&&this._isInputEmpty(t)?(this._keyManager.setLastItemActive(),e.preventDefault()):t&&t.classList.contains("mat-chip")&&(this._keyManager.onKeydown(e),this.stateChanges.next())}_updateTabIndex(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}_updateFocusForDestroyedChips(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){const e=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(e)}else this.focus();this._lastDestroyedChipIndex=null}_isValidIndex(e){return e>=0&&e<this.chips.length}_isInputEmpty(e){return!(!e||"input"!==e.nodeName.toLowerCase()||e.value)}_setSelectionByValue(e,t=!0){if(this._clearSelection(),this.chips.forEach(e=>e.deselect()),Array.isArray(e))e.forEach(e=>this._selectValue(e,t)),this._sortValues();else{const i=this._selectValue(e,t);i&&t&&this._keyManager.setActiveItem(i)}}_selectValue(e,t=!0){const i=this.chips.find(t=>null!=t.value&&this._compareWith(t.value,e));return i&&(t?i.selectViaInteraction():i.select(),this._selectionModel.select(i)),i}_initializeSelection(){Promise.resolve().then(()=>{(this.ngControl||this._value)&&(this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value,!1),this.stateChanges.next())})}_clearSelection(e){this._selectionModel.clear(),this.chips.forEach(t=>{t!==e&&t.deselect()}),this.stateChanges.next()}_sortValues(){this._multiple&&(this._selectionModel.clear(),this.chips.forEach(e=>{e.selected&&this._selectionModel.select(e)}),this.stateChanges.next())}_propagateChanges(e){let t=null;t=Array.isArray(this.selected)?this.selected.map(e=>e.value):this.selected?this.selected.value:e,this._value=t,this.change.emit(new U(this,t)),this.valueChange.emit(t),this._onChange(t),this._changeDetectorRef.markForCheck()}_blur(){this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout(()=>{this.focused||this._markAsTouched()}):this._markAsTouched())}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}_allowFocusEscape(){-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout(()=>{this._tabIndex=this._userTabIndex||0,this._changeDetectorRef.markForCheck()}))}_resetChips(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}_dropSubscriptions(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}_listenToChipsSelection(){this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(e=>{e.source.selected?this._selectionModel.select(e.source):this._selectionModel.deselect(e.source),this.multiple||this.chips.forEach(e=>{!this._selectionModel.isSelected(e)&&e.selected&&e.deselect()}),e.isUserInput&&this._propagateChanges()})}_listenToChipsFocus(){this._chipFocusSubscription=this.chipFocusChanges.subscribe(e=>{let t=this.chips.toArray().indexOf(e.chip);this._isValidIndex(t)&&this._keyManager.updateActiveItem(t),this.stateChanges.next()}),this._chipBlurSubscription=this.chipBlurChanges.subscribe(()=>{this._blur(),this.stateChanges.next()})}_listenToChipsRemoved(){this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(e=>{const t=e.chip,i=this.chips.toArray().indexOf(e.chip);this._isValidIndex(i)&&t._hasFocus&&(this._lastDestroyedChipIndex=i)})}_originatesFromChip(e){let t=e.target;for(;t&&t!==this._elementRef.nativeElement;){if(t.classList.contains("mat-chip"))return!0;t=t.parentElement}return!1}_hasFocusedChip(){return this.chips&&this.chips.some(e=>e._hasFocus)}_syncChipsState(){this.chips&&this.chips.forEach(e=>{e._chipListDisabled=this._disabled,e._chipListMultiple=this.multiple})}}return e.\u0275fac=function(t){return new(t||e)(s.Pb(s.m),s.Pb(s.i),s.Pb(v.c,8),s.Pb(y.w,8),s.Pb(y.m,8),s.Pb(a.b),s.Pb(y.t,10))},e.\u0275cmp=s.Jb({type:e,selectors:[["mat-chip-list"]],contentQueries:function(e,t,i){var n;1&e&&s.Ib(i,P,!0),2&e&&s.tc(n=s.dc())&&(t.chips=n)},hostAttrs:[1,"mat-chip-list"],hostVars:15,hostBindings:function(e,t){1&e&&s.cc("focus",(function(){return t.focus()}))("blur",(function(){return t._blur()}))("keydown",(function(e){return t._keydown(e)})),2&e&&(s.Yb("id",t._uid),s.Eb("tabindex",t.disabled?null:t._tabIndex)("aria-describedby",t._ariaDescribedby||null)("aria-required",t.role?t.required:null)("aria-disabled",t.disabled.toString())("aria-invalid",t.errorState)("aria-multiselectable",t.multiple)("role",t.role)("aria-orientation",t.ariaOrientation),s.Hb("mat-chip-list-disabled",t.disabled)("mat-chip-list-invalid",t.errorState)("mat-chip-list-required",t.required))},inputs:{ariaOrientation:["aria-orientation","ariaOrientation"],multiple:"multiple",compareWith:"compareWith",value:"value",required:"required",placeholder:"placeholder",disabled:"disabled",selectable:"selectable",tabIndex:"tabIndex",errorStateMatcher:"errorStateMatcher"},outputs:{change:"change",valueChange:"valueChange"},exportAs:["matChipList"],features:[s.Cb([{provide:m.b,useExisting:e}]),s.Ab],ngContentSelectors:w,decls:2,vars:0,consts:[[1,"mat-chip-list-wrapper"]],template:function(e,t){1&e&&(s.lc(),s.Vb(0,"div",0),s.kc(1),s.Ub())},styles:['.mat-chip{position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;transform:translateZ(0);border:none;-webkit-appearance:none;-moz-appearance:none}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}._mat-animation-noopable.mat-standard-chip{transition:none;animation:none}.mat-standard-chip .mat-chip-remove.mat-icon{width:18px;height:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:"";pointer-events:none;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:none}.mat-standard-chip:focus::after{opacity:.16}.cdk-high-contrast-active .mat-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-standard-chip:focus{outline:dotted 2px}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit;overflow:hidden}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper input.mat-input-element,.mat-chip-list-wrapper .mat-standard-chip{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}\n'],encapsulation:2,changeDetection:0}),e})(),A=0,M=(()=>{class e{constructor(e,t){this._elementRef=e,this._defaultOptions=t,this.focused=!1,this._addOnBlur=!1,this.separatorKeyCodes=this._defaultOptions.separatorKeyCodes,this.chipEnd=new s.o,this.placeholder="",this.id="mat-chip-list-input-"+A++,this._disabled=!1,this._inputElement=this._elementRef.nativeElement}set chipList(e){e&&(this._chipList=e,this._chipList.registerInput(this))}get addOnBlur(){return this._addOnBlur}set addOnBlur(e){this._addOnBlur=Object(r.c)(e)}get disabled(){return this._disabled||this._chipList&&this._chipList.disabled}set disabled(e){this._disabled=Object(r.c)(e)}get empty(){return!this._inputElement.value}ngOnChanges(){this._chipList.stateChanges.next()}_keydown(e){e&&e.keyCode===n.o&&!Object(n.s)(e,"shiftKey")&&this._chipList._allowFocusEscape(),this._emitChipEnd(e)}_blur(){this.addOnBlur&&this._emitChipEnd(),this.focused=!1,this._chipList.focused||this._chipList._blur(),this._chipList.stateChanges.next()}_focus(){this.focused=!0,this._chipList.stateChanges.next()}_emitChipEnd(e){!this._inputElement.value&&e&&this._chipList._keydown(e),e&&!this._isSeparatorKey(e)||(this.chipEnd.emit({input:this._inputElement,value:this._inputElement.value}),e&&e.preventDefault())}_onInput(){this._chipList.stateChanges.next()}focus(e){this._inputElement.focus(e)}_isSeparatorKey(e){return!Object(n.s)(e)&&new Set(this.separatorKeyCodes).has(e.keyCode)}}return e.\u0275fac=function(t){return new(t||e)(s.Pb(s.m),s.Pb(D))},e.\u0275dir=s.Kb({type:e,selectors:[["input","matChipInputFor",""]],hostAttrs:[1,"mat-chip-input","mat-input-element"],hostVars:5,hostBindings:function(e,t){1&e&&s.cc("keydown",(function(e){return t._keydown(e)}))("blur",(function(){return t._blur()}))("focus",(function(){return t._focus()}))("input",(function(){return t._onInput()})),2&e&&(s.Yb("id",t.id),s.Eb("disabled",t.disabled||null)("placeholder",t.placeholder||null)("aria-invalid",t._chipList&&t._chipList.ngControl?t._chipList.ngControl.invalid:null)("aria-required",t._chipList&&t._chipList.required||null))},inputs:{separatorKeyCodes:["matChipInputSeparatorKeyCodes","separatorKeyCodes"],placeholder:"placeholder",id:"id",chipList:["matChipInputFor","chipList"],addOnBlur:["matChipInputAddOnBlur","addOnBlur"],disabled:"disabled"},outputs:{chipEnd:"matChipInputTokenEnd"},exportAs:["matChipInput","matChipInputFor"],features:[s.Bb]}),e})();const T={separatorKeyCodes:[n.f]};let F=(()=>{class e{}return e.\u0275mod=s.Nb({type:e}),e.\u0275inj=s.Mb({factory:function(t){return new(t||e)},providers:[a.b,{provide:D,useValue:T}]}),e})()},A90E:function(e,t,i){var n=i("6sVZ"),s=i("V6Ve"),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return s(e);var t=[];for(var i in Object(e))a.call(e,i)&&"constructor"!=i&&t.push(i);return t}},AP2z:function(e,t,i){var n=i("nmnc"),s=Object.prototype,a=s.hasOwnProperty,r=s.toString,o=n?n.toStringTag:void 0;e.exports=function(e){var t=a.call(e,o),i=e[o];try{e[o]=void 0;var n=!0}catch(c){}var s=r.call(e);return n&&(t?e[o]=i:delete e[o]),s}},B8du:function(e,t){e.exports=function(){return!1}},BkRI:function(e,t,i){var n=i("OBhP");e.exports=function(e){return n(e,5)}},CH3K:function(e,t){e.exports=function(e,t){for(var i=-1,n=t.length,s=e.length;++i<n;)e[s+i]=t[i];return e}},CH4Q:function(e,t,i){"use strict";i.d(t,"a",(function(){return x}));var n=i("fXoL"),s=i("kmQS"),a=i("ofXK"),r=i("NFeN"),o=i("IzEk"),c=i("lJxs"),l=i("vkgz"),d=i("nYR2"),h=i("w1tV"),p=i("LRne"),u=i("tk/3");let b=(()=>{class e{constructor(e,t){this.http=e,this.document=t,this.cache=new Map,this.inProgressUrlFetches=new Map}get(e){const t=e.endsWith(".svg")?e:e+".svg";return this.cache.get(t)?Object(p.a)(g(this.cache.get(t))):this.fetchIcon(t).pipe(Object(c.a)(e=>this.svgElementFromString(e,t)),Object(l.a)(e=>this.cache.set(t,e)),Object(c.a)(e=>g(e)))}fetchIcon(e){const t=this.inProgressUrlFetches.get(e);if(t)return t;const i=this.http.get("client/assets/images/illustrations/"+e,{responseType:"text"}).pipe(Object(d.a)(()=>this.inProgressUrlFetches.delete(e)),Object(h.a)());return this.inProgressUrlFetches.set(e,i),i}svgElementFromString(e,t=""){const i=this.document.createElement("DIV");i.innerHTML=e;const n=i.querySelector("svg");if(!n)throw Error("<svg> tag not found for "+t);return n}}return e.\u0275fac=function(t){return new(t||e)(n.Zb(u.b),n.Zb(a.e,8))},e.\u0275prov=n.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function g(e){return e.cloneNode(!0)}let m=(()=>{class e{constructor(e,t){this.cache=e,this.el=t}ngOnChanges(e){var t;const i=e.name;i?(null===(t=this.currentSvgFetch)||void 0===t||t.unsubscribe(),this.name&&(this.currentSvgFetch=this.cache.get(this.name).pipe(Object(o.a)(1)).subscribe(e=>this.setSvgElement(e)))):i.previousValue&&this.clearSvgElement()}ngOnDestroy(){var e;null===(e=this.currentSvgFetch)||void 0===e||e.unsubscribe()}setSvgElement(e){this.clearSvgElement();const t=e.querySelectorAll("style");for(let i=0;i<t.length;i++)t[i].textContent+=" ";this.el.nativeElement.appendChild(e)}clearSvgElement(){const e=this.el.nativeElement;let t=e.childNodes.length;for(;t--;){const i=e.childNodes[t];1===i.nodeType&&"svg"!==i.nodeName.toLowerCase()||e.removeChild(i)}}}return e.\u0275fac=function(t){return new(t||e)(n.Pb(b),n.Pb(n.m))},e.\u0275cmp=n.Jb({type:e,selectors:[["svg-image"]],hostAttrs:["role","img"],inputs:{name:"name"},features:[n.Bb],decls:0,vars:0,template:function(e,t){},styles:["svg-image{display:inline-block;background-repeat:no-repeat}svg-image svg{width:inherit;height:inherit}"],encapsulation:2,changeDetection:0}),e})();function f(e,t){if(1&e&&n.Qb(0,"mat-icon",5),2&e){const e=n.gc();n.mc("svgIcon",e.svgIcon)}}function v(e,t){if(1&e&&n.Qb(0,"svg-image",6),2&e){const e=n.gc();n.mc("name",e.svgImage)}}const y=[[["","primary-text",""]],[["","secondary-text",""]]],w=["[primary-text]","[secondary-text]"];let x=(()=>{class e{constructor(e){this.settings=e,this.svgImage="no-results.svg",this.horizontal=!1}}return e.\u0275fac=function(t){return new(t||e)(n.Pb(s.a))},e.\u0275cmp=n.Jb({type:e,selectors:[["no-results-message"]],hostAttrs:[1,"no-results-message"],hostVars:2,hostBindings:function(e,t){2&e&&n.Hb("horizontal",t.horizontal)},inputs:{svgImage:"svgImage",svgIcon:"svgIcon",horizontal:"horizontal"},ngContentSelectors:w,decls:8,vars:2,consts:[["class","icon",3,"svgIcon",4,"ngIf","ngIfElse"],["svgImageRef",""],[1,"text"],[1,"main"],[1,"secondary"],[1,"icon",3,"svgIcon"],[1,"icon",3,"name"]],template:function(e,t){if(1&e&&(n.lc(y),n.Ic(0,f,1,1,"mat-icon",0),n.Ic(1,v,1,1,"ng-template",null,1,n.Jc),n.Vb(3,"div",2),n.Vb(4,"div",3),n.kc(5),n.Ub(),n.Vb(6,"div",4),n.kc(7,1),n.Ub(),n.Ub()),2&e){const e=n.uc(2);n.mc("ngIf",t.svgIcon)("ngIfElse",e)}},directives:[a.t,r.a,m],styles:[""],changeDetection:0}),e})()},CMye:function(e,t,i){var n=i("GoyQ");e.exports=function(e){return e==e&&!n(e)}},CZoQ:function(e,t){e.exports=function(e,t,i){for(var n=i-1,s=e.length;++n<s;)if(e[n]===t)return n;return-1}},Cwc5:function(e,t,i){var n=i("NKxu"),s=i("Npjl");e.exports=function(e,t){var i=s(e,t);return n(i)?i:void 0}},DSRE:function(e,t,i){(function(e){var n=i("Kz5y"),s=i("B8du"),a=t&&!t.nodeType&&t,r=a&&"object"==typeof e&&e&&!e.nodeType&&e,o=r&&r.exports===a?n.Buffer:void 0;e.exports=(o?o.isBuffer:void 0)||s}).call(this,i("YuTi")(e))},"Dw+G":function(e,t,i){var n=i("juv8"),s=i("mTTR");e.exports=function(e,t){return e&&n(t,s(t),e)}},DzUk:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("fXoL"),s=i("Lm4C");let a=(()=>{class e{constructor(e){this.el=e,this.config={},this.filesSelected=new n.o}ngOnInit(){this.el.nativeElement.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),Object(s.a)(this.config).then(e=>{e&&e.length&&this.filesSelected.emit(e)})})}}return e.\u0275fac=function(t){return new(t||e)(n.Pb(n.m))},e.\u0275dir=n.Kb({type:e,selectors:[["","uploadButton",""]],inputs:{config:["uploadButton","config"]},outputs:{filesSelected:"filesSelected"}}),e})()},E2jh:function(e,t,i){var n,s=i("2gN3"),a=(n=/[^.]+$/.exec(s&&s.keys&&s.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!a&&a in e}},E9nw:function(e,t){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,i=[],n=0;n<e.rangeCount;n++)i.push(e.getRangeAt(n));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||i.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},EAOp:function(e,t,i){"use strict";i.d(t,"a",(function(){return D}));var n=i("fXoL");const s=[{originX:"start",originY:"center",overlayX:"end",overlayY:"center",offsetX:5},{originX:"end",originY:"center",overlayX:"start",overlayY:"center",offsetX:5}];var a=i("5oZ4"),r=i("lJxs"),o=i("F96W"),c=i("2hX1"),l=i("dz5c"),d=i("ofXK"),h=i("bv9b"),p=i("bmro"),u=i("A5z7"),b=i("bTqV"),g=i("NFeN"),m=i("zW5C");const f=["tableFilters"],v=["filterButton"];function y(e,t){1&e&&n.Qb(0,"mat-progress-bar",7)}function w(e,t){1&e&&(n.Vb(0,"div",8),n.kc(1),n.Ub())}function x(e,t){if(1&e&&(n.Vb(0,"div",9),n.Kc(1),n.hc(2,"trans"),n.Ub()),2&e){const e=n.gc();n.Db(1),n.Oc(" ",e.numberOfRowsSelected," ",e.pluralResourceName," ",n.ic(2,3,"Selected")," ")}}function _(e,t){if(1&e){const e=n.Wb();n.Vb(0,"mat-chip",18),n.cc("removed",(function(){n.xc(e);const i=t.$implicit;return n.gc(3).datatable.removeFilter(i.key)})),n.Kc(1),n.Qb(2,"mat-icon",19),n.Ub()}if(2&e){const e=t.$implicit,i=n.gc(3);n.mc("removable",!0)("selectable",!1),n.Db(1),n.Nc(" ",e.key,": ",i.isModel(e.value)?e.value.name||e.value.display_name:e.value," ")}}function k(e,t){if(1&e){const e=n.Wb();n.Tb(0),n.Vb(1,"mat-chip-list",13),n.Ic(2,_,3,4,"mat-chip",14),n.hc(3,"keyvalue"),n.hc(4,"async"),n.Ub(),n.Vb(5,"button",15,16),n.cc("click",(function(){return n.xc(e),n.gc(2).openFiltersPanel()})),n.Qb(7,"mat-icon",17),n.Ub(),n.Sb()}if(2&e){const e=n.gc(2);n.Db(2),n.mc("ngForOf",n.ic(3,3,n.ic(4,5,e.filters$))),n.Db(3),n.Hb("active",e.filterPanelRef)}}function O(e,t){if(1&e&&(n.Vb(0,"div",10),n.Ic(1,k,8,7,"ng-container",11),n.Qb(2,"datatable-header-search-input",12),n.Ub()),2&e){const e=n.gc();n.Db(1),n.mc("ngIf",e.filterPanelTemplate),n.Db(1),n.oc("placeholder","Search ",e.pluralResourceName,"")}}function C(e,t){1&e&&(n.Vb(0,"div",20),n.kc(1,1),n.Ub())}const P=[[["","leftContent",""]],[["","rightContent",""]]],I=["[leftContent]","[rightContent]"];let D=(()=>{class e{constructor(e,t,i){this.datatable=e,this.cd=t,this.overlayPanel=i,this.showSelectedActions=!0,this.subscriptions=[],this.filters$=this.datatable.filters$.pipe(Object(r.a)(e=>{const t=Object(o.a)(e);return delete t.query,t}))}ngOnInit(){const e=this.datatable.filters$.subscribe(()=>{this.filterPanelRef&&this.filterPanelRef.close()}),t=this.datatable.selectedRows$.subscribe(e=>{this.numberOfRowsSelected=e.length,this.cd.markForCheck()});this.subscriptions=[e,t]}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}openFiltersPanel(){if(this.filterPanelRef)this.filterPanelRef.close();else{const e=s.slice();e[0].offsetY=40,e[1].offsetY=40,this.filterPanelRef=this.overlayPanel.open(a.a,{origin:this.filterButton,position:e,mobilePosition:"center",data:{filters:this.filterPanelTemplate},maxWidth:"90%"}),this.filterButton.nativeElement.classList.add("active"),this.filterPanelRef.afterClosed().subscribe(()=>{this.filterPanelRef=null,this.filterButton.nativeElement.classList.remove("active")})}}isModel(e){return"object"==typeof e&&e.id}}return e.\u0275fac=function(t){return new(t||e)(n.Pb(c.a),n.Pb(n.i),n.Pb(l.a))},e.\u0275cmp=n.Jb({type:e,selectors:[["datatable-header"]],contentQueries:function(e,t,i){var s;1&e&&n.Ib(i,f,!0),2&e&&n.tc(s=n.dc())&&(t.filterPanelTemplate=s.first)},viewQuery:function(e,t){var i;1&e&&n.Qc(v,!0,n.m),2&e&&n.tc(i=n.dc())&&(t.filterButton=i.first)},hostVars:2,hostBindings:function(e,t){2&e&&n.Hb("rows-selected",t.numberOfRowsSelected)},inputs:{pluralResourceName:"pluralResourceName",showSelectedActions:"showSelectedActions"},ngContentSelectors:I,decls:8,vars:7,consts:[["mode","indeterminate","color","accent",4,"ngIf"],[1,"left-column"],["class","default-left-content",4,"ngIf"],["class","selected-left-content capitalize",4,"ngIf"],[1,"right-column"],["class","default-right-content",4,"ngIf"],["class","selected-right-actions",4,"ngIf"],["mode","indeterminate","color","accent"],[1,"default-left-content"],[1,"selected-left-content","capitalize"],[1,"default-right-content"],[4,"ngIf"],[3,"placeholder"],["aria-label","Active Filters",1,"filter-chip-list"],[3,"removable","selectable","removed",4,"ngFor","ngForOf"],["mat-icon-button","",1,"filter-button",3,"click"],["filterButton",""],["svgIcon","filter-list"],[3,"removable","selectable","removed"],["matChipRemove","","svgIcon","cancel"],[1,"selected-right-actions"]],template:function(e,t){1&e&&(n.lc(P),n.Ic(0,y,1,0,"mat-progress-bar",0),n.hc(1,"async"),n.Vb(2,"div",1),n.Ic(3,w,2,0,"div",2),n.Ic(4,x,3,5,"div",3),n.Ub(),n.Vb(5,"div",4),n.Ic(6,O,3,2,"div",5),n.Ic(7,C,2,0,"div",6),n.Ub()),2&e&&(n.mc("ngIf",n.ic(1,5,t.datatable.paginator&&t.datatable.paginator.loading$)),n.Db(3),n.mc("ngIf",!t.showSelectedActions||!t.numberOfRowsSelected),n.Db(1),n.mc("ngIf",t.showSelectedActions&&t.numberOfRowsSelected),n.Db(2),n.mc("ngIf",!t.showSelectedActions||!t.numberOfRowsSelected),n.Db(1),n.mc("ngIf",t.showSelectedActions&&t.numberOfRowsSelected))},directives:[d.t,h.a,p.a,u.c,d.s,b.b,g.a,u.a,u.d],pipes:[d.b,m.a,d.l],styles:[".rows-selected[_nghost-%COMP%], .rows-selected   [_nghost-%COMP%]{background-color:var(--be-accent-emphasis);color:var(--be-secondary-text);font-size:1.5rem;border-color:var(--be-divider-default)}[_nghost-%COMP%]{display:flex;align-items:center;height:85px;padding:15px;border-bottom:1px solid transparent;position:relative}.mat-progress-bar[_ngcontent-%COMP%]{position:absolute;top:0;left:0}.left-column[_ngcontent-%COMP%]{margin-right:auto}.right-column[_ngcontent-%COMP%]{margin-left:25px}.default-right-content[_ngcontent-%COMP%]{display:flex;align-items:center}.filter-button[_ngcontent-%COMP%]{margin-right:10px}.active[_ngcontent-%COMP%]{color:var(--be-accent-default)}.mat-chip[_ngcontent-%COMP%]{text-transform:capitalize}  datatable-header info-popover{margin-left:10px}"],changeDetection:0}),e})()},EEGq:function(e,t,i){var n=i("juv8"),s=i("oCl/");e.exports=function(e,t){return n(e,s(e),t)}},EpBk:function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},ExA7:function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},F96W:function(e,t,i){"use strict";function n(e){const t=Object.assign({},e);return Object.keys(t).forEach(e=>(null==t[e]||""===t[e])&&delete t[e]),t}i.d(t,"a",(function(){return n}))},G6z8:function(e,t,i){var n=i("fR/l"),s=i("oCl/"),a=i("mTTR");e.exports=function(e){return n(e,a,s)}},GDhZ:function(e,t,i){var n=i("wF/u"),s=i("mwIZ"),a=i("hgQt"),r=i("9ggG"),o=i("CMye"),c=i("IOzZ"),l=i("9Nap");e.exports=function(e,t){return r(e)&&o(t)?c(l(e),t):function(i){var r=s(i,e);return void 0===r&&r===t?a(i,e):n(t,r,3)}}},GNiM:function(e,t,i){var n=i("I01J"),s=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,r=n((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(s,(function(e,i,n,s){t.push(n?s.replace(a,"$1"):i||e)})),t}));e.exports=r},GSRO:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i("ofXK"),s=i("bTqV"),a=i("NFeN"),r=i("bv9b"),o=i("fXoL");let c=(()=>{class e{}return e.\u0275mod=o.Nb({type:e}),e.\u0275inj=o.Mb({factory:function(t){return new(t||e)},imports:[[n.c,s.c,r.b,a.b]]}),e})()},Gi0A:function(e,t,i){var n=i("QqLw"),s=i("ExA7");e.exports=function(e){return s(e)&&"[object Map]"==n(e)}},GoyQ:function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},H8j4:function(e,t,i){var n=i("QkVE");e.exports=function(e,t){var i=n(this,e),s=i.size;return i.set(e,t),this.size+=i.size==s?0:1,this}},HDyB:function(e,t,i){var n=i("nmnc"),s=i("JHRd"),a=i("ljhN"),r=i("or5M"),o=i("7fqy"),c=i("rEGp"),l=n?n.prototype:void 0,d=l?l.valueOf:void 0;e.exports=function(e,t,i,n,l,h,p){switch(i){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!h(new s(e),new s(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var u=o;case"[object Set]":if(u||(u=c),e.size!=t.size&&!(1&n))return!1;var b=p.get(e);if(b)return b==t;n|=2,p.set(e,t);var g=r(u(e),u(t),n,l,h,p);return p.delete(e),g;case"[object Symbol]":if(d)return d.call(e)==d.call(t)}return!1}},HOxn:function(e,t,i){var n=i("Cwc5")(i("Kz5y"),"Promise");e.exports=n},Hvzi:function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},I01J:function(e,t,i){var n=i("44Ds");e.exports=function(e){var t=n(e,(function(e){return 500===i.size&&i.clear(),e})),i=t.cache;return t}},I3oe:function(e,t,i){"use strict";i.d(t,"a",(function(){return P}));var n=i("3Pt+"),s=i("2Vo4"),a=i("LRne"),r=i("Kj3r"),o=i("/uUt"),c=i("eIep"),l=i("JIr8"),d=i("fXoL"),h=i("A5z7"),p=i("ofXK"),u=i("/1cH"),b=i("NFeN"),g=i("FKr1"),m=i("zW5C");const f=["auto"],v=["inputEl"],y=["selectModeTemplate"];function w(e,t){if(1&e){const e=d.Wb();d.Vb(0,"mat-chip",8),d.cc("removed",(function(){d.xc(e);const i=t.index;return d.gc().remove(i)})),d.Kc(1),d.Qb(2,"mat-icon",9),d.Ub()}if(2&e){const e=t.$implicit,i=d.gc();d.mc("selectable",!1)("removable",!i.selectMode),d.Db(1),d.Mc(" ",i.displayChipValue(e)," ")}}const x=function(e){return{elementRef:e}};function _(e,t){if(1&e){const e=d.Wb();d.Vb(0,"input",10,11),d.cc("matChipInputTokenEnd",(function(t){return d.xc(e),d.gc().addFromChipInput(t.value)})),d.hc(2,"trans"),d.Ub()}if(2&e){const e=d.gc(),t=d.uc(1),i=d.uc(6);d.mc("placeholder",d.ic(2,7,e.placeholder))("type",e.type)("matChipInputFor",t)("matChipInputAddOnBlur",!0)("matAutocomplete",i)("matAutocompleteConnectedTo",d.qc(9,x,e.el))("formControl",e.formControl)}}function k(e,t){if(1&e&&(d.Vb(0,"mat-option",12),d.Kc(1),d.Ub()),2&e){const e=t.$implicit,i=d.gc();d.mc("value",e),d.Db(1),d.Lc(i.displayChipValue(e))}}function O(e,t){if(1&e&&(d.Vb(0,"mat-option",12),d.Kc(1),d.Ub()),2&e){const e=t.$implicit,i=d.gc(2);d.mc("value",e),d.Db(1),d.Lc(i.displayChipValue(e))}}function C(e,t){1&e&&d.Ic(0,O,2,2,"mat-option",6),2&e&&d.mc("ngForOf",t.suggestions)}let P=(()=>{class e{constructor(e){this.el=e,this.type="text",this.emailsInput=!1,this.selectMode=!1,this.formControl=new n.i,this.items$=new s.a([]),this.suggestedValues$=new s.a([])}set suggestedValues(e){this.suggestedValues$.next(e)}ngOnInit(){this.suggestFn&&this.bindToSearchControl()}ngAfterViewInit(){this.emailsInput&&this.parseEmailsOnPaste()}remove(e){const t=[...this.items$.value];t.splice(e,1),this.items$.next(t),this.propagateChange(this.items$.value)}addFromChipInput(e,t=!0){!e||this.matAutocomplete.isOpen||this.selectMode||this.add(e,t)}addFromAutocomplete(e,t=!0){this.add(e,t)}add(e,t=!0){e="string"==typeof e?e.trim():e;const i=this.findValueIndex(e)>-1;e&&!i&&(this.items$.next([...this.items$.value,e]),t&&this.propagateChange(this.items$.value)),this.inputEl&&(this.inputEl.nativeElement.value=""),this.formControl.setValue(null),this.suggestedValues$.next([])}findValueIndex(e){return"string"==typeof e?this.items$.value.indexOf(e):this.items$.value.findIndex(t=>t.id===e.id)}writeValue(e=[]){if(e&&e.length)e.forEach(e=>this.add(e,!1));else if(this.items$.value.length)for(;0!==this.items$.value.length;)this.remove(0)}registerOnChange(e){this.propagateChange=e}registerOnTouched(){}bindToSearchControl(){this.formControl.valueChanges.pipe(Object(r.a)(150),Object(o.a)(),Object(c.a)(e=>e?this.suggestFn(e):Object(a.a)([])),Object(l.a)(()=>Object(a.a)([]))).subscribe(e=>{const t=e.filter(e=>-1===this.findValueIndex(e));this.suggestedValues$.next(t)})}displayChipValue(e){return"object"==typeof e?e.name:e}parseEmailsOnPaste(){this.inputEl.nativeElement.addEventListener("paste",e=>{const t=(e.clipboardData||window.clipboardData).getData("text").match(/([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9._-]+)/gi);if(t){e.preventDefault();const i=window.getSelection();i.rangeCount&&(i.deleteFromDocument(),t.forEach(e=>this.add(e)))}})}}return e.\u0275fac=function(t){return new(t||e)(d.Pb(d.m))},e.\u0275cmp=d.Jb({type:e,selectors:[["chip-input"]],viewQuery:function(e,t){var i;1&e&&(d.Qc(f,!0),d.Qc(v,!0),d.Qc(y,!0)),2&e&&(d.tc(i=d.dc())&&(t.matAutocomplete=i.first),d.tc(i=d.dc())&&(t.inputEl=i.first),d.tc(i=d.dc())&&(t.selectModeTemplate=i.first))},hostVars:2,hostBindings:function(e,t){2&e&&d.Hb("select-mode",t.selectMode)},inputs:{placeholder:"placeholder",type:"type",emailsInput:"emailsInput",suggestFn:"suggestFn",selectMode:"selectMode",suggestedValues:"suggestedValues"},features:[d.Cb([{provide:n.s,useExisting:e,multi:!0}])],decls:11,vars:9,consts:[[3,"selectable"],["chipList",""],[3,"selectable","removable","removed",4,"ngFor","ngForOf"],["class","mat-chip-input mat-input-element",3,"placeholder","type","matChipInputFor","matChipInputAddOnBlur","matAutocomplete","matAutocompleteConnectedTo","formControl","matChipInputTokenEnd",4,"ngIf"],[1,"chip-input-autocomplete-panel",3,"autoActiveFirstOption","optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["selectModeTemplate",""],[3,"selectable","removable","removed"],["matChipRemove","","svgIcon","cancel"],[1,"mat-chip-input","mat-input-element",3,"placeholder","type","matChipInputFor","matChipInputAddOnBlur","matAutocomplete","matAutocompleteConnectedTo","formControl","matChipInputTokenEnd"],["inputEl",""],[3,"value"]],template:function(e,t){1&e&&(d.Vb(0,"mat-chip-list",0,1),d.Ic(2,w,3,3,"mat-chip",2),d.hc(3,"async"),d.Ic(4,_,3,11,"input",3),d.Ub(),d.Vb(5,"mat-autocomplete",4,5),d.cc("optionSelected",(function(e){return t.addFromAutocomplete(e.option.value)})),d.Ic(7,k,2,2,"mat-option",6),d.hc(8,"async"),d.Ub(),d.Ic(9,C,1,1,"ng-template",null,7,d.Jc)),2&e&&(d.mc("selectable",!1),d.Db(2),d.mc("ngForOf",d.ic(3,5,t.items$)),d.Db(2),d.mc("ngIf",!t.selectMode),d.Db(1),d.mc("autoActiveFirstOption",!0),d.Db(2),d.mc("ngForOf",d.ic(8,7,t.suggestedValues$)))},directives:[h.c,p.s,p.t,u.a,h.a,b.a,h.d,h.b,u.d,n.d,n.u,n.j,g.k],pipes:[p.b,m.a],styles:["chip-input{display:block;min-height:46px}chip-input .mat-chip-list-wrapper{width:100%;height:100%;color:inherit;border:1px solid var(--be-divider-default);padding:6px;line-height:normal;font-size:1.4rem;font-family:inherit;background-color:inherit;box-sizing:border-box;border-radius:2px;margin:0}chip-input .mat-chip-input{height:24px;font:inherit;background:0 0;color:currentColor;border:none;outline:0;padding:0;margin:0;width:0;max-width:100%;vertical-align:bottom;text-align:inherit}chip-input .mat-chip-input:focus{outline:none;box-shadow:none}.chip-input-select-panel{background-color:var(--be-background);min-width:180px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)}"],encapsulation:2,changeDetection:0}),e})()},IOzZ:function(e,t){e.exports=function(e,t){return function(i){return null!=i&&i[e]===t&&(void 0!==t||e in Object(i))}}},Ivca:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("fXoL"),s=i("2hX1"),a=i("bSwM");const r=["table-header-checkbox",""];let o=(()=>{class e{constructor(e,t){this.datatable=e,this.cd=t}ngOnInit(){this.changeRef=this.datatable.selectedRows$.subscribe(()=>{this.cd.markForCheck()})}ngOnDestroy(){this.changeRef.unsubscribe()}anyRowsSelected(){return!!this.datatable.selectedRows$.value.length}allRowsSelected(){var e;return this.datatable.selectedRows$.value.length&&this.datatable.selectedRows$.value.length===(null===(e=this.datatable.data$.value)||void 0===e?void 0:e.length)}toggleAllRows(){this.allRowsSelected()?this.datatable.selectedRows$.next([]):this.datatable.selectedRows$.next(this.datatable.data$.value.map(e=>e.id))}}return e.\u0275fac=function(t){return new(t||e)(n.Pb(s.a),n.Pb(n.i))},e.\u0275cmp=n.Jb({type:e,selectors:[["","table-header-checkbox",""]],hostAttrs:[1,"table-checkbox"],attrs:r,decls:1,vars:2,consts:[[3,"checked","indeterminate","change"]],template:function(e,t){1&e&&(n.Vb(0,"mat-checkbox",0),n.cc("change",(function(e){return e?t.toggleAllRows():null})),n.Ub()),2&e&&n.mc("checked",t.allRowsSelected())("indeterminate",t.anyRowsSelected()&&!t.allRowsSelected())},directives:[a.a],encapsulation:2,changeDetection:0}),e})()},Iysn:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("ofXK"),s=i("fXoL");let a=(()=>{class e{}return e.\u0275mod=s.Nb({type:e}),e.\u0275inj=s.Mb({factory:function(t){return new(t||e)},imports:[[n.c]]}),e})();var r=i("NFeN");let o=(()=>{class e{}return e.\u0275mod=s.Nb({type:e}),e.\u0275inj=s.Mb({factory:function(t){return new(t||e)},imports:[[n.c,a,r.b]]}),e})()},JHRd:function(e,t,i){var n=i("Kz5y");e.exports=n.Uint8Array},JHgL:function(e,t,i){var n=i("QkVE");e.exports=function(e){return n(this,e).get(e)}},JSQU:function(e,t,i){var n=i("YESw");e.exports=function(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},JTzB:function(e,t,i){var n=i("NykK"),s=i("ExA7");e.exports=function(e){return s(e)&&"[object Arguments]"==n(e)}},Juji:function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},JxJJ:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("fXoL"),s=i("L317");let a=(()=>{class e{constructor(e){this.theme=e,this.animation="wave",this.variant="text",this.dark=this.theme.isDarkMode()}get pulsate(){return"pulsate"===this.animation}get wave(){return"wave"===this.animation}get avatar(){return"avatar"===this.variant}get text(){return"text"===this.variant}get rect(){return"rect"===this.variant}}return e.\u0275fac=function(t){return new(t||e)(n.Pb(s.a))},e.\u0275cmp=n.Jb({type:e,selectors:[["skeleton"]],hostAttrs:["aria-busy","true","aria-valuemin","0","aria-valuemax","100","aria-valuetext","Loading...","role","progressbar"],hostVars:12,hostBindings:function(e,t){2&e&&n.Hb("dark",t.dark)("pulsate",t.pulsate)("wave",t.wave)("avatar",t.avatar)("text",t.text)("rect",t.rect)},inputs:{animation:"animation",variant:"variant"},decls:0,vars:0,template:function(e,t){},styles:['@charset "UTF-8";[_nghost-%COMP%]{display:inline-block;overflow:hidden;position:relative;background-color:var(--be-divider-lighter);background-repeat:no-repeat;border-radius:4px;width:100%;height:100%;will-change:transform}.wave[_nghost-%COMP%]{-webkit-animation:wave 2s ease-in-out infinite;animation:wave 2s ease-in-out infinite;background-size:200px 100%;background-image:linear-gradient(90deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.6),hsla(0,0%,100%,0))}.wave.dark[_nghost-%COMP%]{background-image:linear-gradient(90deg,transparent,rgba(0,0,0,.2),transparent)}.pulsate[_nghost-%COMP%]{-webkit-animation:pulse 1.5s ease-in-out infinite;animation:pulse 1.5s ease-in-out infinite;-webkit-animation-delay:.5s;animation-delay:.5s}.avatar[_nghost-%COMP%]{width:40px;height:40px;margin-right:10px;border-radius:4px;flex-shrink:0}.circle[_nghost-%COMP%]{border-radius:50%}.text[_nghost-%COMP%]{height:1.4rem;vertical-align:middle}.text[_nghost-%COMP%]:before{content:"\xa0"}@-webkit-keyframes wave{0%{background-position:-200px 0}to{background-position:calc(200px + 100%) 0}}@keyframes wave{0%{background-position:-200px 0}to{background-position:calc(200px + 100%) 0}}@-webkit-keyframes pulse{0%{opacity:1}50%{opacity:.4}to{opacity:1}}@keyframes pulse{0%{opacity:1}50%{opacity:.4}to{opacity:1}}'],changeDetection:0}),e})()},KMkd:function(e,t){e.exports=function(){this.__data__=[],this.size=0}},KfNM:function(e,t){var i=Object.prototype.toString;e.exports=function(e){return i.call(e)}},KwMD:function(e,t){e.exports=function(e,t,i,n){for(var s=e.length,a=i+(n?1:-1);n?a--:++a<s;)if(t(e[a],a,e))return a;return-1}},Kz5y:function(e,t,i){var n=i("WFqU"),s="object"==typeof self&&self&&self.Object===Object&&self,a=n||s||Function("return this")();e.exports=a},L8xA:function(e,t){e.exports=function(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i}},LGYb:function(e,t,i){var n=i("1hJj"),s=i("jbM+"),a=i("Xt/L"),r=i("xYSL"),o=i("dQpi"),c=i("rEGp");e.exports=function(e,t,i){var l=-1,d=s,h=e.length,p=!0,u=[],b=u;if(i)p=!1,d=a;else if(h>=200){var g=t?null:o(e);if(g)return c(g);p=!1,d=r,b=new n}else b=t?[]:u;e:for(;++l<h;){var m=e[l],f=t?t(m):m;if(m=i||0!==m?m:0,p&&f==f){for(var v=b.length;v--;)if(b[v]===f)continue e;t&&b.push(f),u.push(m)}else d(b,f,i)||(b!==u&&b.push(f),u.push(m))}return u}},LXxW:function(e,t){e.exports=function(e,t){for(var i=-1,n=null==e?0:e.length,s=0,a=[];++i<n;){var r=e[i];t(r,i,e)&&(a[s++]=r)}return a}},LcsW:function(e,t,i){var n=i("kekF")(Object.getPrototypeOf,Object);e.exports=n},MMmD:function(e,t,i){var n=i("lSCD"),s=i("shjB");e.exports=function(e){return null!=e&&s(e.length)&&!n(e)}},MrPd:function(e,t,i){var n=i("hypo"),s=i("ljhN"),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,i){var r=e[t];a.call(e,t)&&s(r,i)&&(void 0!==i||t in e)||n(e,t,i)}},MvSz:function(e,t,i){var n=i("LXxW"),s=i("0ycA"),a=Object.prototype.propertyIsEnumerable,r=Object.getOwnPropertySymbols;e.exports=r?function(e){return null==e?[]:(e=Object(e),n(r(e),(function(t){return a.call(e,t)})))}:s},NKxu:function(e,t,i){var n=i("lSCD"),s=i("E2jh"),a=i("GoyQ"),r=i("3Fdi"),o=/^\[object .+?Constructor\]$/,c=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||s(e))&&(n(e)?c:o).test(r(e))}},"Nk+Q":function(e,t,i){"use strict";function n(e,t){return e in t}i.d(t,"a",(function(){return n}))},Npjl:function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},NykK:function(e,t,i){var n=i("nmnc"),s=i("AP2z"),a=i("KfNM"),r=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":r&&r in Object(e)?s(e):a(e)}},O0oS:function(e,t,i){var n=i("Cwc5"),s=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=s},O7RO:function(e,t,i){var n=i("CMye"),s=i("7GkX");e.exports=function(e){for(var t=s(e),i=t.length;i--;){var a=t[i],r=e[a];t[i]=[a,r,n(r)]}return t}},OBhP:function(e,t,i){var n=i("fmRc"),s=i("gFfm"),a=i("MrPd"),r=i("WwFo"),o=i("Dw+G"),c=i("5Tg0"),l=i("Q1l4"),d=i("VOtZ"),h=i("EEGq"),p=i("qZTm"),u=i("G6z8"),b=i("QqLw"),g=i("yHx3"),m=i("wrZu"),f=i("+iFO"),v=i("Z0cm"),y=i("DSRE"),w=i("zEVN"),x=i("GoyQ"),_=i("1+5i"),k=i("7GkX"),O=i("mTTR"),C={};C["[object Arguments]"]=C["[object Array]"]=C["[object ArrayBuffer]"]=C["[object DataView]"]=C["[object Boolean]"]=C["[object Date]"]=C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Map]"]=C["[object Number]"]=C["[object Object]"]=C["[object RegExp]"]=C["[object Set]"]=C["[object String]"]=C["[object Symbol]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C["[object Error]"]=C["[object Function]"]=C["[object WeakMap]"]=!1,e.exports=function e(t,i,P,I,D,j){var S,E=1&i,U=2&i,V=4&i;if(P&&(S=D?P(t,I,D,j):P(t)),void 0!==S)return S;if(!x(t))return t;var A=v(t);if(A){if(S=g(t),!E)return l(t,S)}else{var M=b(t),T="[object Function]"==M||"[object GeneratorFunction]"==M;if(y(t))return c(t,E);if("[object Object]"==M||"[object Arguments]"==M||T&&!D){if(S=U||T?{}:f(t),!E)return U?h(t,o(S,t)):d(t,r(S,t))}else{if(!C[M])return D?t:{};S=m(t,M,E)}}j||(j=new n);var F=j.get(t);if(F)return F;j.set(t,S),_(t)?t.forEach((function(n){S.add(e(n,i,P,n,t,j))})):w(t)&&t.forEach((function(n,s){S.set(s,e(n,i,P,s,t,j))}));var L=A?void 0:(V?U?u:p:U?O:k)(t);return s(L||t,(function(n,s){L&&(n=t[s=n]),a(S,s,e(n,i,P,s,t,j))})),S}},"Of+w":function(e,t,i){var n=i("Cwc5")(i("Kz5y"),"WeakMap");e.exports=n},PUEP:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("1MND");class s extends n.a{constructor(e,t){super(),this.params=e,this.i18n=t,this.errorMessage=this.i18n.t("These file types are not allowed: :extensions",{extensions:this.params.extensions.join(", ")})}fails(e){return this.params.extensions.some(t=>t===e.extension)}}},Q1l4:function(e,t){e.exports=function(e,t){var i=-1,n=e.length;for(t||(t=Array(n));++i<n;)t[i]=e[i];return t}},QcOe:function(e,t,i){var n=i("GoyQ"),s=i("6sVZ"),a=i("7Ix3"),r=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return a(e);var t=s(e),i=[];for(var o in e)("constructor"!=o||!t&&r.call(e,o))&&i.push(o);return i}},QkVE:function(e,t,i){var n=i("EpBk");e.exports=function(e,t){var i=e.__data__;return n(t)?i["string"==typeof t?"string":"hash"]:i.map}},QoRX:function(e,t){e.exports=function(e,t){for(var i=-1,n=null==e?0:e.length;++i<n;)if(t(e[i],i,e))return!0;return!1}},QqLw:function(e,t,i){var n=i("tadb"),s=i("ebwN"),a=i("HOxn"),r=i("yGk4"),o=i("Of+w"),c=i("NykK"),l=i("3Fdi"),d=l(n),h=l(s),p=l(a),u=l(r),b=l(o),g=c;(n&&"[object DataView]"!=g(new n(new ArrayBuffer(1)))||s&&"[object Map]"!=g(new s)||a&&"[object Promise]"!=g(a.resolve())||r&&"[object Set]"!=g(new r)||o&&"[object WeakMap]"!=g(new o))&&(g=function(e){var t=c(e),i="[object Object]"==t?e.constructor:void 0,n=i?l(i):"";if(n)switch(n){case d:return"[object DataView]";case h:return"[object Map]";case p:return"[object Promise]";case u:return"[object Set]";case b:return"[object WeakMap]"}return t}),e.exports=g},"R/W3":function(e,t,i){var n=i("KwMD"),s=i("2ajD"),a=i("CZoQ");e.exports=function(e,t,i){return t==t?a(e,t,i):n(e,s,i)}},SfRM:function(e,t,i){var n=i("YESw");e.exports=function(){this.__data__=n?n(null):{},this.size=0}},Sn2F:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("fXoL"),s=i("ofXK");function a(e,t){if(1&e&&(n.Tb(0),n.Qb(1,"img",1),n.Vb(2,"div",2),n.Vb(3,"div"),n.Kc(4),n.Ub(),n.Vb(5,"div",3),n.Kc(6),n.Ub(),n.Ub(),n.Sb()),2&e){const e=n.gc();n.Db(1),n.mc("src",e.user.avatar,n.Ac),n.Db(3),n.Lc(e.user.display_name),n.Db(2),n.Lc(e.user.email)}}let r=(()=>{class e{constructor(){this.showEmail=!1}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Jb({type:e,selectors:[["user-column"]],hostAttrs:[1,"column-with-image"],inputs:{user:"user",showEmail:"showEmail"},decls:1,vars:1,consts:[[4,"ngIf"],["alt","",3,"src"],[1,"content"],[1,"email","secondary"]],template:function(e,t){1&e&&n.Ic(0,a,7,3,"ng-container",0),2&e&&n.mc("ngIf",t.user)},directives:[s.t],styles:[""],changeDetection:0}),e})()},"UNi/":function(e,t){e.exports=function(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}},Um6Z:function(e,t,i){"use strict";i.d(t,"a",(function(){return b}));var n=i("pLZG"),s=i("FtGj"),a=i("WAq7"),r=i("fXoL"),o=i("2hX1"),c=i("u47x"),l=i("ofXK"),d=i("NFeN");const h=["columnName"],p=["table-sort-header",""],u=["*"];let b=(()=>{class e{constructor(e,t,i,n){this.datable=e,this.cd=t,this.focusMonitor=i,this.el=n,this.orderDir=null,this.arrowVisible=!1,this.arrowDirection="down"}get sortDisabled(){var e;return null===(e=this.datable.config)||void 0===e?void 0:e.disableSort}ngOnInit(){this.orderBy||(this.orderBy=Object(a.a)(this.columnName.nativeElement.textContent,"_")),this.sortSub=this.datable.sort$.pipe(Object(n.a)(e=>e.orderBy!==this.orderBy)).subscribe(()=>{this.orderDir=null,this.onMouseLeave(),this.cd.markForCheck()})}ngAfterViewInit(){this.focusMonitor.monitor(this.el).subscribe()}ngOnDestroy(){this.sortSub.unsubscribe(),this.focusMonitor.stopMonitoring(this.el)}changeSort(){this.datable.sort$.next({orderBy:this.orderBy,orderDir:this.getDirection(this.orderDir)})}getDirection(e){switch(e){case"asc":return this.arrowVisible=!1,this.orderDir=null;case"desc":return this.arrowVisible=!0,this.arrowDirection="up",this.orderDir="asc";default:return this.arrowVisible=!0,this.arrowDirection="down",this.orderDir="desc"}}onMouseEnter(){var e;(null===(e=this.datable.config)||void 0===e?void 0:e.disableSort)||(this.arrowVisible=!0)}onMouseLeave(){this.arrowVisible=!1,this.orderDir||(this.arrowDirection="down")}handleClick(){var e;(null===(e=this.datable.config)||void 0===e?void 0:e.disableSort)||this.changeSort()}handleKeydown(e){var t;(null===(t=this.datable.config)||void 0===t?void 0:t.disableSort)||e.keyCode!==s.n&&e.keyCode!==s.f||(e.preventDefault(),this.changeSort())}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(o.a),r.Pb(r.i),r.Pb(c.h),r.Pb(r.m))},e.\u0275cmp=r.Jb({type:e,selectors:[["","table-sort-header",""]],viewQuery:function(e,t){var i;1&e&&r.Ec(h,!0),2&e&&r.tc(i=r.dc())&&(t.columnName=i.first)},hostAttrs:["tabindex","0"],hostVars:4,hostBindings:function(e,t){1&e&&r.cc("click",(function(){return t.handleClick()}))("keydown",(function(e){return t.handleKeydown(e)}))("mouseenter",(function(){return t.onMouseEnter()}))("mouseleave",(function(){return t.onMouseLeave()})),2&e&&r.Hb("active",t.orderDir)("sort-disabled",t.sortDisabled)},inputs:{orderBy:["table-sort-header","orderBy"]},attrs:p,ngContentSelectors:u,decls:5,vars:3,consts:[[1,"text"],["columnName",""],[1,"icon-wrapper",3,"ngClass"],["svgIcon","arrow-downward",1,"sort-icon"]],template:function(e,t){1&e&&(r.lc(),r.Vb(0,"span",0,1),r.kc(2),r.Ub(),r.Vb(3,"span",2),r.Qb(4,"mat-icon",3),r.Ub()),2&e&&(r.Db(3),r.mc("ngClass",t.arrowDirection),r.Db(1),r.Hb("hint-visible",t.arrowVisible))},directives:[l.q,d.a],styles:["[_nghost-%COMP%]{outline:none}[_nghost-%COMP%]:not(.sort-disabled){cursor:pointer}.active[_nghost-%COMP%]   .sort-icon[_ngcontent-%COMP%]{color:var(--be-text);opacity:1;transform:translate(0)}.cdk-keyboard-focused[_nghost-%COMP%]   .text[_ngcontent-%COMP%]{border-bottom:1px solid}.text[_ngcontent-%COMP%]{display:inline-block}.sort-icon[_ngcontent-%COMP%], .text[_ngcontent-%COMP%]{vertical-align:middle}.sort-icon[_ngcontent-%COMP%]{width:15px;height:15px;transition:all 225ms cubic-bezier(.4,0,.2,1);transform:translateY(25%);opacity:0}.icon-wrapper[_ngcontent-%COMP%]{display:inline-block;margin-left:4px;transition:transform 225ms cubic-bezier(.4,0,.2,1)}.icon-wrapper[_ngcontent-%COMP%]:not(.down){transform:rotate(180deg)}.hint-visible[_ngcontent-%COMP%]{opacity:1;transform:translate(0)}"],changeDetection:0}),e})()},V6Ve:function(e,t,i){var n=i("kekF")(Object.keys,Object);e.exports=n},VOtZ:function(e,t,i){var n=i("juv8"),s=i("MvSz");e.exports=function(e,t){return n(e,s(e),t)}},VaNO:function(e,t){e.exports=function(e){return this.__data__.has(e)}},VxIU:function(e,t,i){"use strict";i.d(t,"a",(function(){return b}));var n=i("vkgz"),s=i("pLZG"),a=i("2Vo4"),r=i("Nk+Q"),o=i("fXoL"),c=i("LRXf"),l=i("twBr"),d=i("KFqD"),h=i("f+iI"),p=i("i2dy");const u={name:"Default",default:!0,id:null};let b=(()=>{class e{constructor(e,t,i,n,s){this.http=e,this.currentUser=t,this.cookie=i,this.notifications=n,this.toast=s,this.available$=new a.a([u]),this.activeId$=new a.a(this.getIdFromCookie()),this.activeWorkspace$=new a.a(this.getIdFromCookie()?null:u)}currentUserCan(e){var t;const i=null===(t=this.activeWorkspace$.value)||void 0===t?void 0:t.currentUser;return i&&(i.is_owner||i.permissions.findIndex(t=>t.name===e)>-1)}select(e){e!==this.activeId$.value&&(this.cookie.set(this.cookieName(),e),this.activeId$.next(e));const t=this.available$.value.find(e=>e.id===this.activeId$.value);this.activeWorkspace$.next(t||this.available$.value[0])}pushAndSelect(e){this.available$.next([...this.available$.value,e]),this.select(e.id)}replace(e){const t=[...this.available$.value],i=t.findIndex(t=>t.id===e.id);i&&(t[i]=e),this.available$.next(t)}remove(e){const t=[...this.available$.value];e.forEach(e=>{const i=t.findIndex(t=>t.id===e);i&&t.splice(i,1)}),this.available$.next(t),e.includes(this.activeId$.value)&&this.select(null)}index(t){return this.http.get(""+e.BASE_URI,t).pipe(Object(n.a)(e=>{this.available$.next([...this.available$.value,...e.pagination.data]),this.select(this.activeId$.value)}))}get(t){return this.http.get(`${e.BASE_URI}/${t}`)}delete(t){return this.http.delete(`${e.BASE_URI}/${t}`).pipe(Object(n.a)(()=>{this.remove(t)}))}create(t){return this.http.post(""+e.BASE_URI,t).pipe(Object(n.a)(e=>this.pushAndSelect(e.workspace)))}update(t,i){return this.http.put(`${e.BASE_URI}/${t}`,i).pipe(Object(n.a)(e=>this.replace(e.workspace)))}invitePeople(t,i){return this.http.post(`${e.BASE_URI}/${t}/invite`,i)}resendInvite(t,i){return this.http.post(`${e.BASE_URI}/${t}/${i}/resend`)}deleteMember(t,i){return this.http.delete(`${e.BASE_URI}/${t}/member/${i}`).pipe(Object(n.a)(()=>{i===this.currentUser.get("id")&&this.remove([t])}))}deleteInvite(t){return this.http.delete(`${e.BASE_URI}/invite/${t}`)}changeRole(t,i,n){const s=Object(r.a)("member_id",i)?i.member_id:i.id;return this.http.post(`${e.BASE_URI}/${t}/${i.model_type}/${s}/change-role`,{roleId:n})}join(e){return this.http.get("workspace/join/"+e)}bindToNotificationClick(){return this.notifications.clickedOnNotification$.pipe(Object(s.a)(e=>"Common\\Workspaces\\Notifications\\WorkspaceInvitation"===e.notification.type)).subscribe(e=>{const t=e.notification.data.inviteId;"join"===e.action.action?this.join(t).subscribe(t=>{this.notifications.delete([e.notification]).subscribe(),this.pushAndSelect(t.workspace),this.toast.open("Joined workspace.")}):"decline"===e.action.action&&this.deleteInvite(t).subscribe(()=>{this.notifications.delete([e.notification]).subscribe(),this.toast.open("Declined workspace invite.")})})}getIdFromCookie(){const e=this.cookie.get(this.cookieName());return"string"==typeof e?parseInt(e):e}cookieName(){return this.currentUser.get("id")+"_activeWorkspace"}}return e.BASE_URI="workspace",e.\u0275fac=function(t){return new(t||e)(o.Zb(c.a),o.Zb(l.a),o.Zb(d.a),o.Zb(h.a),o.Zb(p.b))},e.\u0275prov=o.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},WFqU:function(e,t){var i="object"==typeof global&&global&&global.Object===Object&&global;e.exports=i},WwFo:function(e,t,i){var n=i("juv8"),s=i("7GkX");e.exports=function(e,t){return e&&n(t,s(t),e)}},XYm9:function(e,t,i){var n=i("+K+b");e.exports=function(e,t){var i=t?n(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}},XhcP:function(e,t,i){"use strict";i.d(t,"a",(function(){return B})),i.d(t,"b",(function(){return z})),i.d(t,"c",(function(){return N})),i.d(t,"d",(function(){return Q})),i.d(t,"e",(function(){return X})),i.d(t,"f",(function(){return K})),i.d(t,"g",(function(){return Z}));var n=i("nLfN"),s=i("vxfF"),a=i("ofXK"),r=i("fXoL"),o=i("FKr1"),c=i("8LU1"),l=i("FtGj"),d=i("XNiG"),h=i("xgIS"),p=i("VRyK"),u=i("pLZG"),b=i("lJxs"),g=i("7o/Q");function m(e){return t=>t.lift(new f(e))}class f{constructor(e){this.value=e}call(e,t){return t.subscribe(new v(e,this.value))}}class v extends g.a{constructor(e,t){super(e),this.value=t}_next(e){this.destination.next(this.value)}}var y=i("1G5W"),w=i("/uUt"),x=i("IzEk"),_=i("JX91"),k=i("Kj3r"),O=i("R0Ic"),C=i("R1ws"),P=i("u47x"),I=i("cH1L");const D=["*"];function j(e,t){if(1&e){const e=r.Wb();r.Vb(0,"div",2),r.cc("click",(function(){return r.xc(e),r.gc()._onBackdropClicked()})),r.Ub()}if(2&e){const e=r.gc();r.Hb("mat-drawer-shown",e._isShowingBackdrop())}}function S(e,t){1&e&&(r.Vb(0,"mat-drawer-content"),r.kc(1,2),r.Ub())}const E=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],U=["mat-drawer","mat-drawer-content","*"];function V(e,t){if(1&e){const e=r.Wb();r.Vb(0,"div",2),r.cc("click",(function(){return r.xc(e),r.gc()._onBackdropClicked()})),r.Ub()}if(2&e){const e=r.gc();r.Hb("mat-drawer-shown",e._isShowingBackdrop())}}function A(e,t){1&e&&(r.Vb(0,"mat-sidenav-content",3),r.kc(1,2),r.Ub())}const M=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],T=["mat-sidenav","mat-sidenav-content","*"],F=".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n",L={transformDrawer:Object(O.m)("transform",[Object(O.j)("open, open-instant",Object(O.k)({transform:"none",visibility:"visible"})),Object(O.j)("void",Object(O.k)({"box-shadow":"none",visibility:"hidden"})),Object(O.l)("void => open-instant",Object(O.e)("0ms")),Object(O.l)("void <=> open, open-instant => void",Object(O.e)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},R=new r.s("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),$=new r.s("MAT_DRAWER_CONTAINER");let N=(()=>{class e extends s.a{constructor(e,t,i,n,s){super(i,n,s),this._changeDetectorRef=e,this._container=t}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(r.i),r.Pb(Object(r.W)(()=>z)),r.Pb(r.m),r.Pb(s.c),r.Pb(r.B))},e.\u0275cmp=r.Jb({type:e,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,t){2&e&&r.Fc("margin-left",t._container._contentMargins.left,"px")("margin-right",t._container._contentMargins.right,"px")},features:[r.Ab],ngContentSelectors:D,decls:1,vars:0,template:function(e,t){1&e&&(r.lc(),r.kc(0))},encapsulation:2,changeDetection:0}),e})(),B=(()=>{class e{constructor(e,t,i,n,s,a,o){this._elementRef=e,this._focusTrapFactory=t,this._focusMonitor=i,this._platform=n,this._ngZone=s,this._doc=a,this._container=o,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new d.a,this._animationEnd=new d.a,this._animationState="void",this.openedChange=new r.o(!0),this._openedStream=this.openedChange.pipe(Object(u.a)(e=>e),Object(b.a)(()=>{})),this.openedStart=this._animationStarted.pipe(Object(u.a)(e=>e.fromState!==e.toState&&0===e.toState.indexOf("open")),m(void 0)),this._closedStream=this.openedChange.pipe(Object(u.a)(e=>!e),Object(b.a)(()=>{})),this.closedStart=this._animationStarted.pipe(Object(u.a)(e=>e.fromState!==e.toState&&"void"===e.toState),m(void 0)),this._destroyed=new d.a,this.onPositionChanged=new r.o,this._modeChanged=new d.a,this.openedChange.subscribe(e=>{e?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus()}),this._ngZone.runOutsideAngular(()=>{Object(h.a)(this._elementRef.nativeElement,"keydown").pipe(Object(u.a)(e=>e.keyCode===l.g&&!this.disableClose&&!Object(l.s)(e)),Object(y.a)(this._destroyed)).subscribe(e=>this._ngZone.run(()=>{this.close(),e.stopPropagation(),e.preventDefault()}))}),this._animationEnd.pipe(Object(w.a)((e,t)=>e.fromState===t.fromState&&e.toState===t.toState)).subscribe(e=>{const{fromState:t,toState:i}=e;(0===i.indexOf("open")&&"void"===t||"void"===i&&0===t.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!=this._position&&(this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=Object(c.c)(e)}get autoFocus(){const e=this._autoFocus;return null==e?"side"!==this.mode:e}set autoFocus(e){this._autoFocus=Object(c.c)(e)}get opened(){return this._opened}set opened(e){this.toggle(Object(c.c)(e))}_takeFocus(){this.autoFocus&&this._focusTrap&&this._focusTrap.focusInitialElementWhenReady().then(e=>{e||"function"!=typeof this._elementRef.nativeElement.focus||this._elementRef.nativeElement.focus()})}_restoreFocus(){this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,this._openedVia):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null,this._openedVia=null)}_isFocusWithinDrawer(){var e;const t=null===(e=this._doc)||void 0===e?void 0:e.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0)}toggle(e=!this.opened,t){return this._setOpen(e,!e&&this._isFocusWithinDrawer(),t)}_setOpen(e,t,i="program"){return this._opened=e,e?(this._animationState=this._enableAnimations?"open":"open-instant",this._openedVia=i):(this._animationState="void",t&&this._restoreFocus()),this._updateFocusTrapState(),new Promise(e=>{this.openedChange.pipe(Object(x.a)(1)).subscribe(t=>e(t?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_animationStartListener(e){this._animationStarted.next(e)}_animationDoneListener(e){this._animationEnd.next(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(r.m),r.Pb(P.i),r.Pb(P.h),r.Pb(n.a),r.Pb(r.B),r.Pb(a.e,8),r.Pb($,8))},e.\u0275cmp=r.Jb({type:e,selectors:[["mat-drawer"]],hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,t){1&e&&r.Gc("@transform.start",(function(e){return t._animationStartListener(e)}))("@transform.done",(function(e){return t._animationDoneListener(e)})),2&e&&(r.Eb("align",null),r.Hc("@transform",t._animationState),r.Hb("mat-drawer-end","end"===t.position)("mat-drawer-over","over"===t.mode)("mat-drawer-push","push"===t.mode)("mat-drawer-side","side"===t.mode)("mat-drawer-opened",t.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:D,decls:2,vars:0,consts:[[1,"mat-drawer-inner-container"]],template:function(e,t){1&e&&(r.lc(),r.Vb(0,"div",0),r.kc(1),r.Ub())},encapsulation:2,data:{animation:[L.transformDrawer]},changeDetection:0}),e})(),z=(()=>{class e{constructor(e,t,i,n,s,a=!1,o){this._dir=e,this._element=t,this._ngZone=i,this._changeDetectorRef=n,this._animationMode=o,this._drawers=new r.F,this.backdropClick=new r.o,this._destroyed=new d.a,this._doCheckSubject=new d.a,this._contentMargins={left:null,right:null},this._contentMarginChanges=new d.a,e&&e.change.pipe(Object(y.a)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),s.change().pipe(Object(y.a)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=a}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=Object(c.c)(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:Object(c.c)(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(Object(_.a)(this._allDrawers),Object(y.a)(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(e=>!e._container||e._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Object(_.a)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(Object(k.a)(10),Object(y.a)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,t=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const i=this._left._getWidth();e+=i,t-=i}if(this._right&&this._right.opened)if("side"==this._right.mode)t+=this._right._getWidth();else if("push"==this._right.mode){const i=this._right._getWidth();t+=i,e-=i}e=e||null,t=t||null,e===this._contentMargins.left&&t===this._contentMargins.right||(this._contentMargins={left:e,right:t},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(Object(u.a)(e=>e.fromState!==e.toState),Object(y.a)(this._drawers.changes)).subscribe(e=>{"open-instant"!==e.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(Object(y.a)(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e&&e.onPositionChanged.pipe(Object(y.a)(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(Object(x.a)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(Object(y.a)(Object(p.a)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const t=this._element.nativeElement.classList,i="mat-drawer-container-has-open";e?t.add(i):t.remove(i)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(I.c,8),r.Pb(r.m),r.Pb(r.B),r.Pb(r.i),r.Pb(s.e),r.Pb(R),r.Pb(C.a,8))},e.\u0275cmp=r.Jb({type:e,selectors:[["mat-drawer-container"]],contentQueries:function(e,t,i){var n;1&e&&(r.Ib(i,N,!0),r.Ib(i,B,!0)),2&e&&(r.tc(n=r.dc())&&(t._content=n.first),r.tc(n=r.dc())&&(t._allDrawers=n))},viewQuery:function(e,t){var i;1&e&&r.Qc(N,!0),2&e&&r.tc(i=r.dc())&&(t._userContent=i.first)},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,t){2&e&&r.Hb("mat-drawer-container-explicit-backdrop",t._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[r.Cb([{provide:$,useExisting:e}])],ngContentSelectors:U,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,t){1&e&&(r.lc(E),r.Ic(0,j,1,2,"div",0),r.kc(1),r.kc(2,1),r.Ic(3,S,2,0,"mat-drawer-content",1)),2&e&&(r.mc("ngIf",t.hasBackdrop),r.Db(3),r.mc("ngIf",!t._content))},directives:[a.t,N],styles:[F],encapsulation:2,changeDetection:0}),e})(),K=(()=>{class e extends N{constructor(e,t,i,n,s){super(e,t,i,n,s)}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(r.i),r.Pb(Object(r.W)(()=>X)),r.Pb(r.m),r.Pb(s.c),r.Pb(r.B))},e.\u0275cmp=r.Jb({type:e,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(e,t){2&e&&r.Fc("margin-left",t._container._contentMargins.left,"px")("margin-right",t._container._contentMargins.right,"px")},features:[r.Ab],ngContentSelectors:D,decls:1,vars:0,template:function(e,t){1&e&&(r.lc(),r.kc(0))},encapsulation:2,changeDetection:0}),e})(),Q=(()=>{class e extends B{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=Object(c.c)(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=Object(c.f)(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=Object(c.f)(e)}}return e.\u0275fac=function(t){return W(t||e)},e.\u0275cmp=r.Jb({type:e,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(e,t){2&e&&(r.Eb("align",null),r.Fc("top",t.fixedInViewport?t.fixedTopGap:null,"px")("bottom",t.fixedInViewport?t.fixedBottomGap:null,"px"),r.Hb("mat-drawer-end","end"===t.position)("mat-drawer-over","over"===t.mode)("mat-drawer-push","push"===t.mode)("mat-drawer-side","side"===t.mode)("mat-drawer-opened",t.opened)("mat-sidenav-fixed",t.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[r.Ab],ngContentSelectors:D,decls:2,vars:0,consts:[[1,"mat-drawer-inner-container"]],template:function(e,t){1&e&&(r.lc(),r.Vb(0,"div",0),r.kc(1),r.Ub())},encapsulation:2,data:{animation:[L.transformDrawer]},changeDetection:0}),e})();const W=r.Xb(Q);let X=(()=>{class e extends z{}return e.\u0275fac=function(t){return H(t||e)},e.\u0275cmp=r.Jb({type:e,selectors:[["mat-sidenav-container"]],contentQueries:function(e,t,i){var n;1&e&&(r.Ib(i,K,!0),r.Ib(i,Q,!0)),2&e&&(r.tc(n=r.dc())&&(t._content=n.first),r.tc(n=r.dc())&&(t._allDrawers=n))},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(e,t){2&e&&r.Hb("mat-drawer-container-explicit-backdrop",t._backdropOverride)},exportAs:["matSidenavContainer"],features:[r.Cb([{provide:$,useExisting:e}]),r.Ab],ngContentSelectors:T,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],["cdkScrollable","",4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"],["cdkScrollable",""]],template:function(e,t){1&e&&(r.lc(M),r.Ic(0,V,1,2,"div",0),r.kc(1),r.kc(2,1),r.Ic(3,A,2,0,"mat-sidenav-content",1)),2&e&&(r.mc("ngIf",t.hasBackdrop),r.Db(3),r.mc("ngIf",!t._content))},directives:[a.t,K,s.a],styles:[F],encapsulation:2,changeDetection:0}),e})();const H=r.Xb(X);let Z=(()=>{class e{}return e.\u0275mod=r.Nb({type:e}),e.\u0275inj=r.Mb({factory:function(t){return new(t||e)},imports:[[a.c,o.h,n.b,s.b],s.b,o.h]}),e})()},Xi7e:function(e,t,i){var n=i("KMkd"),s=i("adU4"),a=i("tMB7"),r=i("+6XX"),o=i("Z8oC");function c(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=s,c.prototype.get=a,c.prototype.has=r,c.prototype.set=o,e.exports=c},"Xt/L":function(e,t){e.exports=function(e,t,i){for(var n=-1,s=null==e?0:e.length;++n<s;)if(i(t,e[n]))return!0;return!1}},"Y+p1":function(e,t,i){var n=i("wF/u");e.exports=function(e,t){return n(e,t)}},YESw:function(e,t,i){var n=i("Cwc5")(Object,"create");e.exports=n},YuTi:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},Z0cm:function(e,t){e.exports=Array.isArray},Z8oC:function(e,t,i){var n=i("y1pI");e.exports=function(e,t){var i=this.__data__,s=n(i,e);return s<0?(++this.size,i.push([e,t])):i[s][1]=t,this}},ZCpW:function(e,t,i){var n=i("lm/5"),s=i("O7RO"),a=i("IOzZ");e.exports=function(e){var t=s(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(i){return i===e||n(i,e,t)}}},ZWtO:function(e,t,i){var n=i("4uTw"),s=i("9Nap");e.exports=function(e,t){for(var i=0,a=(t=n(t,e)).length;null!=e&&i<a;)e=e[s(t[i++])];return i&&i==a?e:void 0}},adU4:function(e,t,i){var n=i("y1pI"),s=Array.prototype.splice;e.exports=function(e){var t=this.__data__,i=n(t,e);return!(i<0||(i==t.length-1?t.pop():s.call(t,i,1),--this.size,0))}},b2z7:function(e,t){var i=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,i.exec(e));return t.lastIndex=e.lastIndex,t}},b80T:function(e,t,i){var n=i("UNi/"),s=i("03A+"),a=i("Z0cm"),r=i("DSRE"),o=i("wJg7"),c=i("c6wG"),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var i=a(e),d=!i&&s(e),h=!i&&!d&&r(e),p=!i&&!d&&!h&&c(e),u=i||d||h||p,b=u?n(e.length,String):[],g=b.length;for(var m in e)!t&&!l.call(e,m)||u&&("length"==m||h&&("offset"==m||"parent"==m)||p&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||o(m,g))||b.push(m);return b}},bmro:function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var n=i("3Pt+"),s=i("Kj3r"),a=i("/uUt"),r=i("fXoL"),o=i("2hX1"),c=i("tyNb"),l=i("ofXK"),d=i("NFeN"),h=i("zW5C");function p(e,t){1&e&&r.Qb(0,"mat-icon",3)}let u=(()=>{class e{constructor(e,t){this.datatable=e,this.route=t,this.searchControl=new n.i(this.route.snapshot.queryParams.query),this.hideIcon=!1}ngOnInit(){this.searchControl.valueChanges.pipe(Object(s.a)(400),Object(a.a)()).subscribe(e=>{this.datatable.addFilter("query",e)})}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(o.a),r.Pb(c.a))},e.\u0275cmp=r.Jb({type:e,selectors:[["datatable-header-search-input"]],inputs:{placeholder:"placeholder",hideIcon:"hideIcon"},decls:4,vars:5,consts:[[1,"input-container","search-input-container"],["type","text",1,"search-input",3,"placeholder","formControl"],["svgIcon","search",4,"ngIf"],["svgIcon","search"]],template:function(e,t){1&e&&(r.Vb(0,"div",0),r.Qb(1,"input",1),r.hc(2,"trans"),r.Ic(3,p,1,0,"mat-icon",2),r.Ub()),2&e&&(r.Db(1),r.mc("placeholder",r.ic(2,3,t.placeholder))("formControl",t.searchControl),r.Db(2),r.mc("ngIf",!t.hideIcon))},directives:[n.d,n.u,n.j,l.t,d.a],pipes:[h.a],styles:[".input-container[_ngcontent-%COMP%]{min-width:250px;position:relative;flex-shrink:0}.input-container[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{position:absolute;top:calc(50% - 12px);right:5px;color:var(--be-secondary-text)}.icon-left[_nghost-%COMP%]   .mat-icon[_ngcontent-%COMP%], .icon-left   [_nghost-%COMP%]   .mat-icon[_ngcontent-%COMP%]{left:10px;right:0}"],changeDetection:0}),e})()},c6wG:function(e,t,i){var n=i("dD9F"),s=i("sEf8"),a=i("mdPL"),r=a&&a.isTypedArray,o=r?s(r):n;e.exports=o},dD9F:function(e,t,i){var n=i("NykK"),s=i("shjB"),a=i("ExA7"),r={};r["[object Float32Array]"]=r["[object Float64Array]"]=r["[object Int8Array]"]=r["[object Int16Array]"]=r["[object Int32Array]"]=r["[object Uint8Array]"]=r["[object Uint8ClampedArray]"]=r["[object Uint16Array]"]=r["[object Uint32Array]"]=!0,r["[object Arguments]"]=r["[object Array]"]=r["[object ArrayBuffer]"]=r["[object Boolean]"]=r["[object DataView]"]=r["[object Date]"]=r["[object Error]"]=r["[object Function]"]=r["[object Map]"]=r["[object Number]"]=r["[object Object]"]=r["[object RegExp]"]=r["[object Set]"]=r["[object String]"]=r["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&s(e.length)&&!!r[n(e)]}},dQpi:function(e,t,i){var n=i("yGk4"),s=i("vN+2"),a=i("rEGp"),r=n&&1/a(new n([,-0]))[1]==1/0?function(e){return new n(e)}:s;e.exports=r},dTAl:function(e,t,i){var n=i("GoyQ"),s=Object.create,a=function(){function e(){}return function(t){if(!n(t))return{};if(s)return s(t);e.prototype=t;var i=new e;return e.prototype=void 0,i}}();e.exports=a},dt0z:function(e,t,i){var n=i("zoYe");e.exports=function(e){return null==e?"":n(e)}},e4Nc:function(e,t,i){var n=i("fGT3"),s=i("k+1r"),a=i("JHgL"),r=i("pSRY"),o=i("H8j4");function c(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=s,c.prototype.get=a,c.prototype.has=r,c.prototype.set=o,e.exports=c},e5cp:function(e,t,i){var n=i("fmRc"),s=i("or5M"),a=i("HDyB"),r=i("seXi"),o=i("QqLw"),c=i("Z0cm"),l=i("DSRE"),d=i("c6wG"),h="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,i,u,b,g){var m=c(e),f=c(t),v=m?"[object Array]":o(e),y=f?"[object Array]":o(t),w=(v="[object Arguments]"==v?h:v)==h,x=(y="[object Arguments]"==y?h:y)==h,_=v==y;if(_&&l(e)){if(!l(t))return!1;m=!0,w=!1}if(_&&!w)return g||(g=new n),m||d(e)?s(e,t,i,u,b,g):a(e,t,v,i,u,b,g);if(!(1&i)){var k=w&&p.call(e,"__wrapped__"),O=x&&p.call(t,"__wrapped__");if(k||O){var C=k?e.value():e,P=O?t.value():t;return g||(g=new n),b(C,P,i,u,g)}}return!!_&&(g||(g=new n),r(e,t,i,u,b,g))}},"eKg+":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("fXoL"),s=i("2hX1"),a=i("bSwM");const r=["table-body-checkbox",""];let o=(()=>{class e{constructor(e,t){this.datatable=e,this.cd=t}ngOnInit(){this.changeRef=this.datatable.selectedRows$.subscribe(e=>{this.cd.markForCheck()})}ngOnDestroy(){this.changeRef.unsubscribe()}isRowSelected(e){return this.datatable.selectedRows$.value.indexOf(e)>-1}toggleRow(e){if(this.isRowSelected(e)){const t=this.datatable.selectedRows$.value.slice(),i=this.datatable.selectedRows$.value.indexOf(e);t.splice(i,1),this.datatable.selectedRows$.next(t)}else this.datatable.selectedRows$.next([...this.datatable.selectedRows$.value,e])}}return e.\u0275fac=function(t){return new(t||e)(n.Pb(s.a),n.Pb(n.i))},e.\u0275cmp=n.Jb({type:e,selectors:[["","table-body-checkbox",""]],hostAttrs:[1,"table-checkbox"],inputs:{rowId:["table-body-checkbox","rowId"]},attrs:r,decls:1,vars:1,consts:[[3,"checked","click","change"]],template:function(e,t){1&e&&(n.Vb(0,"mat-checkbox",0),n.cc("click",(function(e){return e.stopPropagation()}))("change",(function(e){return e?t.toggleRow(t.rowId):null})),n.Ub()),2&e&&n.mc("checked",t.isRowSelected(t.rowId))},directives:[a.a],encapsulation:2,changeDetection:0}),e})()},eUgh:function(e,t){e.exports=function(e,t){for(var i=-1,n=null==e?0:e.length,s=Array(n);++i<n;)s[i]=t(e[i],i,e);return s}},ebwN:function(e,t,i){var n=i("Cwc5")(i("Kz5y"),"Map");e.exports=n},ekgI:function(e,t,i){var n=i("YESw"),s=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:s.call(t,e)}},fGT3:function(e,t,i){var n=i("4kuk"),s=i("Xi7e"),a=i("ebwN");e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(a||s),string:new n}}},"fR/l":function(e,t,i){var n=i("CH3K"),s=i("Z0cm");e.exports=function(e,t,i){var a=t(e);return s(e)?a:n(a,i(e))}},fmRc:function(e,t,i){var n=i("Xi7e"),s=i("77Zs"),a=i("L8xA"),r=i("gCq4"),o=i("VaNO"),c=i("0Cz8");function l(e){var t=this.__data__=new n(e);this.size=t.size}l.prototype.clear=s,l.prototype.delete=a,l.prototype.get=r,l.prototype.has=o,l.prototype.set=c,e.exports=l},ftKO:function(e,t){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},gCq4:function(e,t){e.exports=function(e){return this.__data__.get(e)}},gFfm:function(e,t){e.exports=function(e,t){for(var i=-1,n=null==e?0:e.length;++i<n&&!1!==t(e[i],i,e););return e}},gcYM:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("7o/Q"),s=i("D0XW");i("zx2A");const a={leading:!0,trailing:!1};function r(e,t=s.a,i=a){return n=>n.lift(new o(e,t,i.leading,i.trailing))}class o{constructor(e,t,i,n){this.duration=e,this.scheduler=t,this.leading=i,this.trailing=n}call(e,t){return t.subscribe(new c(e,this.duration,this.scheduler,this.leading,this.trailing))}}class c extends n.a{constructor(e,t,i,n,s){super(e),this.duration=t,this.scheduler=i,this.leading=n,this.trailing=s,this._hasTrailingValue=!1,this._trailingValue=null}_next(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(l,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)}}function l(e){const{subscriber:t}=e;t.clearThrottle()}},h586:function(e,t,i){"use strict";i.d(t,"a",(function(){return S}));var n=i("XNiG"),s=i("2Vo4"),a=i("jtHE"),r=i("oJgS");class o{constructor(e,t){this.canceled$=new n.a,this.processing$=new s.a(!1),this.uploadedResponse$=new a.a(1),this.progress$=new s.a({percentage:0}),this.error$=new s.a(null),this.customData={},this.uploadedFile=e,this.id=t||Object(r.a)()}get completed(){return!this.processing$.value&&100===this.progress$.value.percentage}get inProgress(){return!this.error$.value&&!this.completed}cancel(){this.canceled$.next(!0),this.finalize()}complete(){this.setProgress({percentage:100,eta:null}),this.finalize()}finalize(){this.uploadedResponse$.complete(),this.canceled$.complete(),this.progress$.complete()}finishProcessing(){this.processing$.next(!1),this.processing$.complete()}addError(e){this.error$.next(e)}setProgress(e){this.progress$.next(Object.assign(Object.assign({},this.progress$.value),e))}}var c=i("Cfvw"),l=i("z6cu"),d=i("EY2u"),h=i("5+tZ"),p=i("JIr8"),u=i("1G5W"),b=i("lJxs"),g=i("pLZG"),m=i("JfjL"),f=i("VfAk"),v=i("fXoL"),y=i("oVOl"),w=i("sJvS"),x=i("tU2R"),_=i("6JEN"),k=i("PUEP"),O=i("PCqb");let C=(()=>{class e extends w.a{constructor(){super(...arguments),this.DEFAULT_MAX_FILE_SIZE_MB=8,this.showToast=!0}initValidations(){this.validations.push(new x.a({maxSize:this.getMaxFileSize()},this.i18n));const e=this.getAllowedExtensions(),t=this.getBlockedExtensions();e&&e.length&&this.validations.push(new _.a({extensions:e},this.i18n)),t&&t.length&&this.validations.push(new k.a({extensions:t},this.i18n))}getMaxFileSize(){return this.settings.get("uploads.max_size",Object(O.a)(this.DEFAULT_MAX_FILE_SIZE_MB,"MB"))}getAllowedExtensions(){return this.settings.getJson("uploads.allowed_extensions")}getBlockedExtensions(){return this.settings.getJson("uploads.blocked_extensions")}}return e.\u0275fac=function(t){return P(t||e)},e.\u0275prov=v.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const P=v.Xb(C);var I=i("i2dy"),D=i("twBr"),j=i("kmQS");let S=(()=>{class e{constructor(e,t,i,r,o){this.api=e,this.defaultValidator=t,this.toast=i,this.currentUser=r,this.settings=o,this.uploads$=new s.a([]),this.totalProgress$=new a.a(1),this.uploadsAdded$=new n.a,this.count$=new s.a({pending:0,completed:0})}isEmpty(){return!this.uploads$.value.length}getAllCompleted(){return this.uploads$.value.filter(e=>e.completed).map(e=>e.fileEntry)}updateTotalProgress(){const e=this.uploads$.value.map(e=>e.progress$.value.percentage||0);this.totalProgress$.next(e.reduce((e,t)=>e+t,0)/e.length)}totalProgress(){return this.totalProgress$.asObservable()}start(e,t={}){const i=t.validator||this.defaultValidator;let n=[];if(Array.isArray(e))n=this.transformUploads(e,i),this.uploads$.next(this.uploads$.value.concat(n)),this.uploadsAdded$.next(n);else{const t=this.uploads$.value.map(t=>{if(e[t.id]){const s=this.transformUploads([e[t.id]],i,t.id)[0];return n.push(s),s}return t});this.uploads$.next(t)}return this.updateCount(),Object(c.a)(n.filter(e=>!e.error$.value)).pipe(Object(h.a)(e=>this.api.upload(e.uploadedFile,t).pipe(Object(p.a)(n=>(this.handleUploadFailure(n,e,i),t.bubbleError?Object(l.a)(n):d.a)),Object(u.a)(e.canceled$),Object(b.a)(i=>(this.handleUploadEvent(i,e,t.willProcessFiles),i.name===m.a.COMPLETED&&(i.body.queueItemId=e.id),i))),1),Object(g.a)(e=>e.name===m.a.COMPLETED),Object(b.a)(e=>e.body))}updateProgress(e,t){const i=this.find(e);i&&(i.setProgress({eta:t.eta,speed:t.speed,percentage:t.progress,totalBytes:t.totalBytes,completedBytes:t.completedBytes}),this.updateTotalProgress())}completeUpload(e,t){const i=this.find(e);i&&(i.uploadedResponse$.next(t),i.fileEntry=t.fileEntry,i.complete(),this.updateTotalProgress())}errorUpload(e,t){this.find(e).addError(t)}reset(){this.uploads$.value.forEach(e=>e.cancel()),this.uploads$.next([])}remove(e){const t=this.uploads$.value.findIndex(t=>t.id===e),i=this.uploads$.value[t];i.completed?i.finalize():i.cancel(),this.uploads$.value.splice(t,1),this.uploads$.next(this.uploads$.value)}find(e){return this.uploads$.value.find(t=>t.id===e)}transformUploads(e,t,i){return e.map(e=>{const n=new o(e,i);if(t){const i=t.validate(e);i.failed&&n.addError(i.errorMessage)}return n})}handleUploadEvent(e,t,i=!1){e.name===m.a.PROGRESS?(100===e.progress&&(e=Object.assign(Object.assign({},e),{progress:99}),i&&t.processing$.next(!0)),this.updateProgress(t.id,e)):e.name===m.a.COMPLETED&&(this.completeUpload(t.id,e.body),this.updateCount())}handleUploadFailure(e,t,i){var n;let s=null===(n=null==e?void 0:e.errors)||void 0===n?void 0:n.file,a=null;s||(s=f.a.DefaultUpload,a=this.currentUser.isAdmin()&&!this.settings.get("site.hide_docs_buttons")),this.errorUpload(t.id,s),this.updateCount(),this.updateTotalProgress(),i.showToast&&this.toast.open(s,{action:a?"Learn More":null}).onAction().subscribe(()=>{window.open(f.b)})}updateCount(){const e=this.uploads$.value.filter(e=>e.inProgress).length;this.count$.next({pending:e,completed:this.uploads$.value.length-e})}}return e.\u0275fac=function(t){return new(t||e)(v.Zb(y.a),v.Zb(C),v.Zb(I.b),v.Zb(D.a),v.Zb(j.a))},e.\u0275prov=v.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},hgQt:function(e,t,i){var n=i("Juji"),s=i("4sDh");e.exports=function(e,t){return null!=e&&s(e,t,n)}},hypo:function(e,t,i){var n=i("O0oS");e.exports=function(e,t,i){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}},iB19:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("fXoL"),s=i("ofXK"),a=i("kmQS");let r=(()=>{class e{constructor(e,t){this.settings=e,this._locale=t,this.format=this.settings.get("dates.format","yyyy-MM-dd"),this.angularPipe=new s.f(t)}transform(e,t,i,n){return e=e&&"string"==typeof e?e.replace(/\//g,"-"):e,this.angularPipe.transform(e,t||this.format,i,n)}}return e.\u0275fac=function(t){return new(t||e)(n.Pb(a.a),n.Pb(n.w))},e.\u0275pipe=n.Ob({name:"formattedDate",type:e,pure:!0}),e})()},iH1U:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));const n={title:"Delete :resource",body:"Are you sure you want to delete selected :resource?",ok:"Delete"}},"jbM+":function(e,t,i){var n=i("R/W3");e.exports=function(e,t){return!(null==e||!e.length)&&n(e,t,0)>-1}},juv8:function(e,t,i){var n=i("MrPd"),s=i("hypo");e.exports=function(e,t,i,a){var r=!i;i||(i={});for(var o=-1,c=t.length;++o<c;){var l=t[o],d=a?a(i[l],e[l],l,i,e):void 0;void 0===d&&(d=e[l]),r?s(i,l,d):n(i,l,d)}return i}},"k+1r":function(e,t,i){var n=i("QkVE");e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},k3xQ:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("ofXK"),s=i("fXoL");let a=(()=>{class e{}return e.\u0275mod=s.Nb({type:e}),e.\u0275inj=s.Mb({factory:function(t){return new(t||e)},imports:[[n.c]]}),e})()},kekF:function(e,t){e.exports=function(e,t){return function(i){return e(t(i))}}},kmnG:function(e,t,i){"use strict";i.d(t,"a",(function(){return c})),i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return l}));var n=i("GU7r"),s=i("ofXK"),a=i("fXoL"),r=i("FKr1");i("8LU1"),i("XNiG"),i("VRyK"),i("xgIS"),i("JX91"),i("1G5W"),i("IzEk"),i("R0Ic"),i("R1ws"),i("cH1L"),i("nLfN");let o=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=a.Kb({type:e}),e})();const c=new a.s("MatFormField");let l=(()=>{class e{}return e.\u0275mod=a.Nb({type:e}),e.\u0275inj=a.Mb({factory:function(t){return new(t||e)},imports:[[s.c,r.h,n.c],r.h]}),e})()},lSCD:function(e,t,i){var n=i("NykK"),s=i("GoyQ");e.exports=function(e){if(!s(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},ljhN:function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},"lm/5":function(e,t,i){var n=i("fmRc"),s=i("wF/u");e.exports=function(e,t,i,a){var r=i.length,o=r,c=!a;if(null==e)return!o;for(e=Object(e);r--;){var l=i[r];if(c&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++r<o;){var d=(l=i[r])[0],h=e[d],p=l[1];if(c&&l[2]){if(void 0===h&&!(d in e))return!1}else{var u=new n;if(a)var b=a(h,p,d,e,t,u);if(!(void 0===b?s(p,h,3,a,u):b))return!1}}return!0}},losq:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("ofXK"),s=i("fXoL");let a=(()=>{class e{}return e.\u0275mod=s.Nb({type:e}),e.\u0275inj=s.Mb({factory:function(t){return new(t||e)},imports:[[n.c]]}),e})()},mTTR:function(e,t,i){var n=i("b80T"),s=i("QcOe"),a=i("MMmD");e.exports=function(e){return a(e)?n(e,!0):s(e)}},mdPL:function(e,t,i){(function(e){var n=i("WFqU"),s=t&&!t.nodeType&&t,a=s&&"object"==typeof e&&e&&!e.nodeType&&e,r=a&&a.exports===s&&n.process,o=function(){try{return a&&a.require&&a.require("util").types||r&&r.binding&&r.binding("util")}catch(e){}}();e.exports=o}).call(this,i("YuTi")(e))},mwIZ:function(e,t,i){var n=i("ZWtO");e.exports=function(e,t,i){var s=null==e?void 0:n(e,t);return void 0===s?i:s}},nmnc:function(e,t,i){var n=i("Kz5y");e.exports=n.Symbol},"oCl/":function(e,t,i){var n=i("CH3K"),s=i("LcsW"),a=i("MvSz"),r=i("0ycA");e.exports=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)n(t,a(e)),e=s(e);return t}:r},or5M:function(e,t,i){var n=i("1hJj"),s=i("QoRX"),a=i("xYSL");e.exports=function(e,t,i,r,o,c){var l=1&i,d=e.length,h=t.length;if(d!=h&&!(l&&h>d))return!1;var p=c.get(e),u=c.get(t);if(p&&u)return p==t&&u==e;var b=-1,g=!0,m=2&i?new n:void 0;for(c.set(e,t),c.set(t,e);++b<d;){var f=e[b],v=t[b];if(r)var y=l?r(v,f,b,t,e,c):r(f,v,b,e,t,c);if(void 0!==y){if(y)continue;g=!1;break}if(m){if(!s(t,(function(e,t){if(!a(m,t)&&(f===e||o(f,e,i,r,c)))return m.push(t)}))){g=!1;break}}else if(f!==v&&!o(f,v,i,r,c)){g=!1;break}}return c.delete(e),c.delete(t),g}},"otv/":function(e,t,i){var n=i("nmnc"),s=n?n.prototype:void 0,a=s?s.valueOf:void 0;e.exports=function(e){return a?Object(a.call(e)):{}}},pSRY:function(e,t,i){var n=i("QkVE");e.exports=function(e){return n(this,e).has(e)}},qPyV:function(e,t,i){var n=i("ut/Y"),s=i("LGYb");e.exports=function(e,t){return e&&e.length?s(e,n(t,2)):[]}},qZTm:function(e,t,i){var n=i("fR/l"),s=i("MvSz"),a=i("7GkX");e.exports=function(e){return n(e,a,s)}},rEGp:function(e,t){e.exports=function(e){var t=-1,i=Array(e.size);return e.forEach((function(e){i[++t]=e})),i}},rG4v:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i("eNwd"),s=i("gcYM"),a=i("fXoL"),r=i("h586"),o=i("bv9b");let c=(()=>{class e{constructor(e,t,i){this.el=e,this.uploadQueue=t,this.cd=i,this.hidden=!0,this.subscription=this.uploadQueue.totalProgress().pipe(Object(s.a)(260,n.a,{leading:!0,trailing:!0})).subscribe(e=>{this.progress=e,this.hidden=100===e||0===this.uploadQueue.count$.value.pending,this.cd.markForCheck()})}ngOnDestroy(){this.subscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(a.Pb(a.m),a.Pb(r.a),a.Pb(a.i))},e.\u0275cmp=a.Jb({type:e,selectors:[["upload-progress-bar"]],hostVars:2,hostBindings:function(e,t){2&e&&a.Hb("hidden",t.hidden)},decls:1,vars:1,consts:[["mode","determinate","color","accent",3,"value"]],template:function(e,t){1&e&&a.Qb(0,"mat-progress-bar",0),2&e&&a.mc("value",t.progress)},directives:[o.a],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0}),e})()},rcZy:function(e,t,i){"use strict";i.d(t,"a",(function(){return g}));var n=i("3Pt+"),s=i("pLZG"),a=i("lJxs"),r=i("fXoL"),o=i("2hX1"),c=i("ofXK"),l=i("bTqV"),d=i("NFeN"),h=i("Rd8u"),p=i("zW5C");function u(e,t){if(1&e&&(r.Vb(0,"div",6),r.Vb(1,"div",7),r.Kc(2,"Items per page"),r.Ub(),r.Vb(3,"div",8),r.Vb(4,"select",9),r.Vb(5,"option",10),r.Kc(6,"10"),r.Ub(),r.Vb(7,"option",10),r.Kc(8,"15"),r.Ub(),r.Vb(9,"option",10),r.Kc(10,"20"),r.Ub(),r.Vb(11,"option",10),r.Kc(12,"50"),r.Ub(),r.Vb(13,"option",10),r.Kc(14,"100"),r.Ub(),r.Ub(),r.Ub(),r.Ub()),2&e){const e=r.gc();r.Db(4),r.mc("formControl",e.perPageControl),r.Db(1),r.mc("ngValue",10),r.Db(2),r.mc("ngValue",15),r.Db(2),r.mc("ngValue",20),r.Db(2),r.mc("ngValue",50),r.Db(2),r.mc("ngValue",100)}}function b(e,t){if(1&e&&(r.Vb(0,"div",11),r.Kc(1),r.hc(2,"trans"),r.Ub()),2&e){const e=r.gc();r.Db(1),r.Pc(" ",e.from," - ",e.to," ",r.ic(2,4,"of")," ",e.totalRecords," ")}}let g=(()=>{class e{constructor(e,t){this.datable=e,this.cd=t,this.hidePerPage=!1,this.perPageControl=new n.i(15)}ngOnInit(){this.changeRef=this.datable.paginator.response$.pipe(Object(s.a)(e=>!!(null==e?void 0:e.pagination)),Object(a.a)(e=>e.pagination)).subscribe(e=>{this.to=e.per_page*e.current_page,this.from=this.to-e.per_page||1,this.totalRecords=e.total,this.havePrevious=e.current_page>1,this.haveNext=e.current_page<e.last_page,this.perPageControl.setValue(parseInt(""+e.per_page),{emitEvent:!1}),this.cd.markForCheck()}),this.perPageControl.valueChanges.subscribe(e=>{this.datable.paginator.changePerPage(e)})}ngOnDestroy(){this.changeRef.unsubscribe(),this.datable.destroy()}previousPage(){this.datable.paginator.previousPage()}nextPage(){this.datable.paginator.nextPage()}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(o.a),r.Pb(r.i))},e.\u0275cmp=r.Jb({type:e,selectors:[["datatable-footer"]],inputs:{hidePerPage:"hidePerPage"},decls:9,vars:8,consts:[["class","page-size",4,"ngIf"],[1,"range-actions"],["class","range-label",4,"ngIf"],["type","button","mat-icon-button","",1,"range-button",3,"disabled","click"],["svgIcon","chevron-left"],["svgIcon","chevron-right"],[1,"page-size"],["trans","",1,"page-size-label"],[1,"input-container"],[1,"page-size-input",3,"formControl"],[3,"ngValue"],[1,"range-label"]],template:function(e,t){1&e&&(r.Ic(0,u,15,6,"div",0),r.Vb(1,"div",1),r.Ic(2,b,3,6,"div",2),r.Vb(3,"button",3),r.cc("click",(function(){return t.previousPage()})),r.hc(4,"async"),r.Qb(5,"mat-icon",4),r.Ub(),r.Vb(6,"button",3),r.cc("click",(function(){return t.nextPage()})),r.hc(7,"async"),r.Qb(8,"mat-icon",5),r.Ub(),r.Ub()),2&e&&(r.mc("ngIf",!t.hidePerPage),r.Db(2),r.mc("ngIf",t.from&&t.to&&t.totalRecords),r.Db(1),r.mc("disabled",!t.havePrevious||r.ic(4,4,t.datable.paginator.loading$)),r.Db(3),r.mc("disabled",!t.haveNext||r.ic(7,6,t.datable.paginator.loading$)))},directives:[c.t,l.b,d.a,h.a,n.G,n.u,n.j,n.z,n.J],pipes:[c.b,p.a],styles:["[_nghost-%COMP%]{padding:0 8px;justify-content:flex-end;flex-wrap:wrap-reverse;width:100%;height:56px}.page-size[_ngcontent-%COMP%], [_nghost-%COMP%]{display:flex;align-items:center}.page-size[_ngcontent-%COMP%]{margin-right:8px}.page-size-label[_ngcontent-%COMP%]{font-size:1.2rem;color:var(--be-secondary-text);margin:0 4px}.input-container[_ngcontent-%COMP%]{width:auto}.page-size-input[_ngcontent-%COMP%]{width:60px;height:33px;padding:4px;margin:0 4px}.range-actions[_ngcontent-%COMP%]{display:flex;align-items:center}.range-label[_ngcontent-%COMP%]{margin:0 32px 0 24px;font-size:1.2rem}.range-button[_ngcontent-%COMP%], .range-label[_ngcontent-%COMP%]{color:var(--be-secondary-text)}.range-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:28px;height:28px;line-height:28px}"],changeDetection:0}),e})()},sEf8:function(e,t){e.exports=function(e){return function(t){return e(t)}}},sTxL:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("XFMS"),s=i("fXoL");let a=(()=>{class e{transform(e){return e?e.includes("youtube")?"https://www.youtube.com/s/desktop/ca54e1bd/img/favicon.ico":function(e){return e?(Object(n.a)(e)||(e=window.location.protocol+"//"+window.location.host),"https://www.google.com/s2/favicons?domain="+new URL(e).origin):null}(e):null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=s.Ob({name:"favicon",type:e,pure:!0}),e})()},seXi:function(e,t,i){var n=i("qZTm"),s=Object.prototype.hasOwnProperty;e.exports=function(e,t,i,a,r,o){var c=1&i,l=n(e),d=l.length;if(d!=n(t).length&&!c)return!1;for(var h=d;h--;){var p=l[h];if(!(c?p in t:s.call(t,p)))return!1}var u=o.get(e),b=o.get(t);if(u&&b)return u==t&&b==e;var g=!0;o.set(e,t),o.set(t,e);for(var m=c;++h<d;){var f=e[p=l[h]],v=t[p];if(a)var y=c?a(v,f,p,t,e,o):a(f,v,p,e,t,o);if(!(void 0===y?f===v||r(f,v,i,a,o):y)){g=!1;break}m||(m="constructor"==p)}if(g&&!m){var w=e.constructor,x=t.constructor;w==x||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x||(g=!1)}return o.delete(e),o.delete(t),g}},shjB:function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},tMB7:function(e,t,i){var n=i("y1pI");e.exports=function(e){var t=this.__data__,i=n(t,e);return i<0?void 0:t[i][1]}},tadb:function(e,t,i){var n=i("Cwc5")(i("Kz5y"),"DataView");e.exports=n},u8Dt:function(e,t,i){var n=i("YESw"),s=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var i=t[e];return"__lodash_hash_undefined__"===i?void 0:i}return s.call(t,e)?t[e]:void 0}},"ut/Y":function(e,t,i){var n=i("ZCpW"),s=i("GDhZ"),a=i("zZ0H"),r=i("Z0cm"),o=i("+c4W");e.exports=function(e){return"function"==typeof e?e:null==e?a:"object"==typeof e?r(e)?s(e[0],e[1]):n(e):o(e)}},"vN+2":function(e,t){e.exports=function(){}},vqOm:function(e,t,i){"use strict";i.r(t),i.d(t,"STATE_HANDLERS",(function(){return Zc})),i.d(t,"DriveModule",(function(){return Jc}));var n=i("ofXK"),s=i("tyNb"),a=i("mrSG"),r=i("fXoL"),o=i("AcyG"),c=i("vkgz"),l=i("nYR2"),d=i("TkeJ"),h=i("Y+p1"),p=i.n(h);let u=(()=>{class e{}return e.type="[Drive] Load User Folders",e})(),b=(()=>{class e{}return e.type="[Drive] Load User Space Usage",e})(),g=(()=>{class e{constructor(e){this.folders=e}}return e.type="[Drive] Build Folder Tree",e})(),m=(()=>{class e{constructor(e){this.folder=e}}return e.type="[Drive] Open Folder",e})(),f=(()=>{class e{constructor(e){this.queryParams=e}}return e.type="[Drive] Open Search Page",e})(),v=(()=>{class e{constructor(e){this.entries=e}}return e.type="[Drive] Select Entries",e})(),y=(()=>{class e{}return e.type="[Drive] Select All Entries",e})(),w=(()=>{class e{}return e.type="[Drive] Deselect All Entries",e})(),x=(()=>{class e{}return e.type="[Drive] Delete Selected Entries",e})(),_=(()=>{class e{}return e.type="[Drive] Open UploadsApiService Panel",e})(),k=(()=>{class e{}return e.type="[Drive] Close UploadsApiService Panel",e})(),O=(()=>{class e{constructor(e){this.entries=e}}return e.type="[Drive] Add Entries",e})(),C=(()=>{class e{constructor(e,t){this.destination=e,this.entries=t}}return e.type="[Drive API] Move Entries",e})(),P=(()=>{class e{constructor(e,t,i){this.dialog=e,this.data=t,this.config=i}}return e.type="[Drive] Open Dialog",e})(),I=(()=>{class e{constructor(e,t){this.data=e,this.confirmAction=t}}return e.type="[Drive] Open Confirm Dialog",e})(),D=(()=>{class e{constructor(e){this.mode=e}}return e.type="[Drive] Set View Mode",e})(),j=(()=>{class e{}return e.type="[Drive] Toggle Details",e})(),S=(()=>{class e{}return e.type="[Drive] Toggle Sidebar",e})(),E=(()=>{class e{constructor(e){this.files=e}}return e.type="[Drive] Upload Files",e})(),U=(()=>{class e{constructor(e){this.entries=e}}return e.type="[Drive] Restore Trashed Entries",e})(),V=(()=>{class e{}return e.type="[Drive] Delete Trashed Entries Forever",e})(),A=(()=>{class e{}return e.type="[Drive] Empty Trash",e})(),M=(()=>{class e{constructor(e){this.entries=e}}return e.type="[Drive] Open File Preview Overlay",e})(),T=(()=>{class e{constructor(e,t,i){this.entries=e,this.link=t,this.password=i}}return e.type="[Drive] Download Files",e})(),F=(()=>{class e{constructor(e){this.entries=e}}return e.type="[Drive] Add a Star",e})(),L=(()=>{class e{constructor(e){this.entries=e}}return e.type="[Drive] Remove Star",e})(),R=(()=>{class e{constructor(e){this.entries=e}}return e.type="[Drive] Remove Entries",e})(),$=(()=>{class e{constructor(e={}){this.queryParams=e,this.loadMore=!0}}return e.type="[Drive Infinite Scroll] Load More Entries",e})(),N=(()=>{class e{constructor(e={},t){this.queryParams=e,this.page=t}}return e.type="[Drive] Reload Page Entries",e})(),B=(()=>{class e{}return e.type="[Drive] Copy Selected Entries",e})(),z=(()=>{class e{constructor(e){this.type=e}}return e.type="[Drive] Open Upload Window",e})(),K=(()=>{class e{constructor(e){this.message=e}}return e.type="[Drive] Show Loading Toast",e})(),Q=(()=>{class e{}return e.type="[Drive] Hide Loading Toast",e})(),W=(()=>{class e{}return e.type="[Drive] Reset State",e})(),X=(()=>{class e{constructor(e){this.entries=e}}return e.type="[Drive] Update Entries",e})(),H=(()=>{class e{constructor(e){this.user=e}}return e.type="[Drive] Set Current User",e})(),Z=(()=>{class e{constructor(e){this.workspace=e}}return e.type="[Drive] Set Workspace",e})(),J=(()=>{class e{constructor(e,t){this.entry=e,this.description=t}}return e.type="[Drive] Update Entry Description",e})();class q{constructor(e){this.name=null,this.viewName=null,this.folder=null,this.folderHash=null,this.hasActions=!1,this.sortColumn="updated_at",this.sortDirection="desc",this.queryParams={},Object.keys(e).forEach(t=>{this[t]=e[t]})}}const G=new q({name:"recent",viewName:"Recent",disableSort:!0,sortColumn:"created_at",sortDirection:"desc",queryParams:{recentOnly:!0}}),Y=new q({name:"search",viewName:"Search results"}),ee=new q({name:"shares",viewName:"Shared",queryParams:{sharedOnly:!0}}),te=new q({name:"trash",viewName:"Trash",hasActions:!0,queryParams:{deletedOnly:!0}}),ie=new q({name:"workspaces",viewName:"Workspaces"}),ne=new q({name:"starred",viewName:"Starred",queryParams:{starredOnly:!0}});class se extends q{constructor(e){super({name:"folder",viewName:null==e?void 0:e.name,folder:e,folderHash:null==e?void 0:e.hash,hasActions:!0})}}let ae=(()=>{class e{constructor(){this.page=G,this.queryParams={orderBy:"created_at",recentOnly:!0}}}return e.type="[Drive] Recent Entries Page Opened",e})(),re=(()=>{class e{constructor(e){this.queryParams={},this.page=new se({hash:e})}}return e.type="[Drive] Folder Page Opened",e})(),oe=(()=>{class e{constructor(){this.page=ee,this.queryParams={sharedOnly:!0}}}return e.type="[Drive] Shared folder opened",e})(),ce=(()=>{class e{constructor(){this.page=te,this.queryParams={deletedOnly:!0}}}return e.type="[Drive] Trash Page Opened",e})(),le=(()=>{class e{constructor(){this.page=ie}}return e.type="[Drive] Workspaces Index Page Opened",e})(),de=(()=>{class e{constructor(e={}){this.queryParams=e,this.page=Y}}return e.type="[Drive] Search Page Opened",e})(),he=(()=>{class e{constructor(){this.page=ne,this.queryParams={starredOnly:!0}}}return e.type="[Drive] Starred Entries Page Opened",e})(),pe=(()=>{class e{constructor(e){this.entries=e}}return e.type="[Drive] Entries Selected Via Drag",e})(),ue=(()=>{class e{constructor(e){this.entries=e}}return e.type="[Drive] File Selected Via ContextMenu",e})(),be=(()=>{class e{constructor(e,t=!1){this.entry=e,this.ctrlKey=t}}return e.type="[Drive] User Tapped File",e})(),ge=(()=>{class e{constructor(e){this.entry=e}}return e.type="[Drive] User Double Tapped Entry",e})(),me=(()=>{class e{constructor(e){this.deletedFiles=e}}return e.type="[Drive] Successfully Deleted Files",e})(),fe=(()=>{class e{constructor(e){this.entry=e}}return e.type="[Drive] Entry Context Menu Opened",e})(),ve=(()=>{class e{constructor(e){this.folder=e}}return e.type="[Drive] New Folder Created",e})(),ye=(()=>{class e{constructor(e,t){this.entry=e,this.newName=t}}return e.type="[Drive] Entry Renamed",e})(),we=(()=>{class e{}return e.type="[Drive] Started Dragging",e})(),xe=(()=>{class e{}return e.type="[Drive] Stopped Dragging",e})(),_e=(()=>{class e{constructor(e,t,i){this.destination=e,this.oldLocation=t,this.entries=i}}return e.type="[Drive API] Move Entries Success",e})(),ke=(()=>{class e{constructor(e){this.messages=e}}return e.type="[Drive API] Move Entries Failed",e})(),Oe=(()=>{class e{constructor(e){this.entries=e}}return e.type="[Drive API] Trashed Entries Delete Forever Success",e})(),Ce=(()=>{class e{constructor(e){this.entries=e}}return e.type="[Drive API] Trashed Entries Restore Success",e})(),Pe=(()=>{class e{}return e.type="[Drive] Not Enough Space Error",e})(),Ie=(()=>{class e{}return e.type="[Drive] User Space Usage Changed",e})(),De=(()=>{class e{constructor(e){this.status=e}}return e.type="[Drive] BreakpointChanged",e})();const je={isMobile:!1,activePage:null,folderTree:[],flatFolders:[],userFoldersLoaded:!1,entries:[],selectedEntries:[],dragging:!1,loading:!1,uploadsPanelOpen:!1,viewMode:"grid",detailsVisible:!0,sidebarOpen:!0,currentUser:null,activeWorkspace:null,spaceUsage:{available:null,used:null},meta:{sortColumn:"updated_at",sortDirection:"desc",currentPage:0,lastPage:0}};var Se=i("Lm4C"),Ee=function(e){return e.copyEntries="Copying items...",e.emptyTrash="Emptying trash...",e.moveEntries="Moving items...",e}({});const Ue=new r.s("DRIVE_UPLOAD_INPUT_CONFIG");var Ve=i("Nk+Q"),Ae=function(e){return e.GET_ALL="drive/folders",e.CREATE="drive/folders",e}({}),Me=i("LRXf"),Te=i("twBr");let Fe=(()=>{class e{constructor(e,t){this.http=e,this.currentUser=t}getAll(e){return this.http.get(Ae.GET_ALL,e)}getAllForCurrentUser(){return this.http.get("drive/users/"+this.currentUser.get("id")+"/folders")}create(e){return this.http.post(Ae.CREATE,e)}getByHash(e){return this.http.get("drive/folders/find",{hash:e})}}return e.\u0275fac=function(t){return new(t||e)(r.Zb(Me.a),r.Zb(Te.a))},e.\u0275prov=r.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Le=(()=>{class e{constructor(e,t){this.http=e,this.currentUser=t}getEntriesForFolder(e={}){return this.http.get("drive/entries",e)}getCurrentUserEntries(e){return e.userId=this.currentUser.get("id"),this.http.get("drive/entries",e)}update(e,t){return this.http.put("uploads/"+e,t)}delete(e){return this.http.delete("drive/entries",e)}copy(e){return this.http.post("drive/entries/copy",e)}restore(e){return this.http.post("drive/entries/restore",e)}emptyTrash(){return this.delete({emptyTrash:!0})}moveEntries(e){return this.http.post("drive/entries/move",e)}addStar(e){return this.http.post("drive/entries/star",{ids:e})}removeStar(e){return this.http.post("drive/entries/unstar",{ids:e})}getSpaceUsage(){return this.http.get("drive/user/space-usage")}}return e.\u0275fac=function(t){return new(t||e)(r.Zb(Me.a),r.Zb(Te.a))},e.\u0275prov=r.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Re=(()=>{class e{driveRoot(){return"/drive"}folder(e){return(null==e?void 0:e.id)?"/drive/folders/"+e.hash:this.driveRoot()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var $e=i("h586"),Ne=i("ahrr"),Be=i("sJvS"),ze=i("tU2R"),Ke=i("PCqb"),Qe=i("6JEN"),We=i("PUEP");let Xe=(()=>{class e extends Be.a{constructor(){super(...arguments),this.DEFAULT_MAX_FILE_SIZE_MB=8}initValidations(){this.validations.push(new ze.a({maxSize:this.getMaxFileSize()},this.i18n));const e=this.getAllowedExtensions(),t=this.getBlockedExtensions();e&&e.length&&this.validations.push(new Qe.a({extensions:e},this.i18n)),t&&t.length&&this.validations.push(new We.a({extensions:t},this.i18n))}getMaxFileSize(){return this.settings.get("uploads.max_size",Object(Ke.a)(this.DEFAULT_MAX_FILE_SIZE_MB,"MB"))}getAllowedExtensions(){return this.settings.getJson("uploads.allowed_extensions")}getBlockedExtensions(){return this.settings.getJson("uploads.blocked_extensions")}}return e.\u0275fac=function(t){return He(t||e)},e.\u0275prov=r.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const He=r.Xb(Xe);var Ze,Je=i("VxIU"),qe=i("i2dy");let Ge=(()=>{let e=Ze=class{constructor(e,t,i,n,s,a,r,o,c,l,d){this.foldersApi=e,this.entriesApi=t,this.router=i,this.driveUrls=n,this.uploads=s,this.store=a,this.localStore=r,this.validator=o,this.workspaces=c,this.toast=l,this.uploadInputConfig=d}static flatFolders(e){return e.flatFolders}static userFoldersLoaded(e){return e.userFoldersLoaded}static activePage(e){return e.activePage}static activePageName(e){return e.activePage.name}static userFolders(e){return e.folderTree}static selectedEntries(e){return e.selectedEntries}static selectedEntryIds(e,t){return t.map(e=>e.id)}static selectedEntry(e,t){return t?t[t.length-1]:null}static selectedEntryOrActiveFolder(e,t){return t||e.activePage.folder}static selectedEntryParent(e,t,i){return t&&i&&t.parent_id?i.find(e=>e.id===t.parent_id):e.rootFolder}static anythingSelected(e,t){return t.length>0}static allSelectedEntriesStarred(e,t){return t.every(e=>!!e.tags.find(e=>"starred"===e.name))}static onlyFoldersSelected(e,t){return t.every(e=>"folder"===e.type)}static entries(e){return e.entries}static entriesEmpty(e){return e.meta.currentPage&&!e.loading&&0===e.entries.length}static multipleEntriesSelected(e,t){return t.length>1}static activeFolder(e){return e.activePage.folder}static rootFolder(e){return e.rootFolder}static meta(e){return e.meta}static dragging(e){return e.dragging}static loading(e){return e.loading}static currentPage(e){return e.meta.currentPage}static viewMode(e){return e.viewMode}static detailsOpen(e){return e.detailsVisible}static sidebarOpen(e){return e.sidebarOpen}static sortColumn(e){return e.meta.sortColumn}static sortDirection(e){return e.meta.sortDirection}static canLoadMoreEntries(e){return e.meta.currentPage<e.meta.lastPage}static userSpaceUsed(e){return e.spaceUsage.used}static userSpaceAvailable(e){return e.spaceUsage.available}static spaceUsedPercent(e,t,i){return null===i?0:100*t/i}static isMobile(e){return e.isMobile}static userHasPermission(e,t,i){if(!t||!i)return!1;const n=t.users.find(e=>e.id===i.id);return!(!n.owns_entry&&!n.entry_permissions[e])||void 0}static currentUser(e){return e.currentUser}static activeWorkspace(e){return e.activeWorkspace}static userOwnsActiveFolder(e,t,i){return Ze.userHasPermission("owner",t,i)}static userCanEditSelectedEntries(e,t,i){return t.every(e=>{const t=e.users.find(e=>e.id===i.id);return t&&(t.owns_entry||t.entry_permissions.edit)})}static canUpload(e,t,i,n){if(!t.folder||!i||!n)return!1;if((null==n?void 0:n.id)&&t.folder.workspace_id===n.id){const e=n.currentUser;return e&&(e.is_owner||e.permissions.findIndex(e=>"files.create"===e.name)>-1)}return Ze.userHasPermission("edit",t.folder,i)}loadUserFolders(e){return this.foldersApi.getAllForCurrentUser().pipe(Object(c.a)(t=>(e.patchState({rootFolder:t.rootFolder}),e.dispatch(new g(t.folders)))))}buildFolderTree(e,t){const i=t.folders||e.getState().flatFolders,n=function(e){const t={},i=[];for(let n=0,s=e.length;n<s;n++){const i=e[n];i.children=[],t[i.id]=i}for(const n in t){if(!t.hasOwnProperty(n))continue;const e=t[n];if(e.parent_id){const i=t[e.parent_id];i&&i.children.push(e)}else i.push(e)}return i}(i);e.patchState({folderTree:n,flatFolders:i,userFoldersLoaded:!0})}workspacesIndexPageOpened(e,t){e.patchState({activePage:t.page})}loadDriveEntries(e,t){const i=e.getState(),n={loading:!0,meta:Object.assign({},i.meta)};n.activePage=t.page?t.page:i.activePage,n.meta.sortColumn=t.queryParams.orderBy||i.meta.sortColumn||n.activePage.sortColumn,n.meta.sortDirection=t.queryParams.orderDir||i.meta.sortDirection||n.activePage.sortDirection,"search"!==n.activePage.name&&(n.meta.query=null,n.meta.type=null),n.meta.query=t.queryParams.query||n.meta.query,n.meta.type=t.queryParams.type||n.meta.type,e.patchState(n);const s=this.transformQueryParams(Object.assign(Object.assign({},t.queryParams),n.activePage.queryParams));return this.entriesApi.getEntriesForFolder(s).pipe(Object(c.a)(s=>{const a={entries:(t.loadMore?i.entries:[]).concat(s.data),meta:Object.assign(Object.assign({},n.meta),{lastPage:s.last_page,currentPage:s.current_page}),loading:!1};return a.activePage=Object.assign(Object.assign({},n.activePage),{folder:s.folder}),e.patchState(a)},()=>e.patchState({loading:!1})))}openFolder(e,t){const i=e.getState().activePage.folder;if(!i||t.folder.id!==i.id)return t.folder&&t.folder.deleted_at?e.dispatch(new I({title:"Folder is in trash",body:"To view this folder, you need to restore it first.",ok:"Restore"},new U([t.folder]))):(e.patchState({loading:!0}),this.router.navigate([this.driveUrls.folder(t.folder)]))}openSearchPage(e,t){const i=this.store.selectSnapshot(d.d.state).root.queryParams;if(!p()(i,t.queryParams))return e.patchState({loading:!0}),this.router.navigate(["/drive/search"],{queryParams:t.queryParams})}selectEntries(e,t){e.patchState({selectedEntries:t.entries})}deselectAllEntries(e){e.getState().selectedEntries.length&&e.patchState({selectedEntries:[]})}SelectAllEntries(e){e.patchState({selectedEntries:e.getState().entries.slice()})}entryTapped(e,t){const i=e.getState().selectedEntries.slice();let n=!1;const s=i.findIndex(e=>e.id===t.entry.id);s>-1&&(i.splice(s,1),n=!0),e.patchState(t.ctrlKey?n?{selectedEntries:i}:{selectedEntries:[...i,t.entry]}:{selectedEntries:[t.entry]}),e.getState().isMobile&&this.entryDoubleTapped(e,t)}entryDoubleTapped(e,t){return e.dispatch("folder"===t.entry.type?new m(t.entry):new M([t.entry]))}deleteSelectedEntries(e){const t=this.store.selectSnapshot(Ze.selectedEntries),i=this.store.selectSnapshot(Ze.selectedEntryIds),n=this.store.selectSnapshot(Ze.flatFolders),s=e.getState().activePage;return this.entriesApi.delete({entryIds:i}).pipe(Object(c.a)(()=>{const a={entries:e.getState().entries.filter(e=>-1===i.indexOf(e.id))},r=[new me(t)];a.selectedEntries=[],s.folder&&i.indexOf(s.folder.id)>-1&&this.store.dispatch(new m(this.store.selectSnapshot(Ze.selectedEntryParent)));const o=t.filter(e=>"folder"===e.type);return o.length&&(o.forEach(e=>delete n[e.id]),a.flatFolders=n,r.push(new g)),e.patchState(a),e.dispatch(r)}))}fileContextMenuOpened(e,t){var i;if(null===(i=null==t?void 0:t.entry)||void 0===i?void 0:i.id)return e.getState().selectedEntries.find(e=>e.id===t.entry.id)?void 0:e.dispatch(new ue([t.entry]))}newFolderCreated(e,t){const i=e.getState(),n={flatFolders:[...i.flatFolders,t.folder]};return t.folder.parent_id===i.activePage.folder.id&&(n.entries=[t.folder,...i.entries]),e.patchState(n),e.dispatch(new g)}entryRenamed(e,t){const i=e.getState(),n={entries:i.entries.slice()},s=n.entries.findIndex(e=>e.id===t.entry.id);if(s>-1&&(n.entries[s]=Object.assign(Object.assign({},n.entries[s]),{name:t.newName})),n.selectedEntries=[Object.assign(Object.assign({},i.selectedEntries[0]),{name:t.newName})],i.activePage.folder&&i.activePage.folder.id===t.entry.id&&(n.activePage=Object.assign(Object.assign({},i.activePage),{folder:t.entry})),"folder"===t.entry.type){const s=Object.assign({},i.flatFolders);s[t.entry.id]=Object.assign(Object.assign({},s[t.entry.id]),{name:t.newName}),n.flatFolders=s,e.dispatch(new g)}e.patchState(n)}startedDragging(e){e.patchState({dragging:!0})}stoppedDragging(e){e.patchState({dragging:!1})}movieEntries(e,t){const i=t.entries||e.getState().selectedEntries;if(!Ze.canMoveEntriesTo(i,t.destination))return;e.dispatch(new K(Ee.moveEntries));const n=i[0].parent_id;return this.entriesApi.moveEntries({entryIds:i.map(e=>e.id),destination:t.destination.id}).pipe(Object(l.a)(()=>e.dispatch(new Q)),Object(c.a)(i=>e.dispatch(new _e(t.destination.id,n,i.entries)),t=>e.dispatch(new ke(t.errors))))}moveEntriesSuccess(e,t){const i=e.getState(),n=t.entries.map(e=>e.id),s=t.entries.filter(e=>"folder"===e.type),a={selectedEntries:[],entries:i.entries.filter(e=>-1===n.indexOf(e.id))};if(s.length&&(a.flatFolders=Object.assign({},i.flatFolders),t.entries.filter(e=>"folder"===e.type).forEach(e=>a.flatFolders[e.id]=e)),i.activePage.folder){const e=t.entries.find(e=>i.activePage.folder.id===e.id);e&&(a.activePage=Object.assign(Object.assign({},i.activePage),{folder:e}))}return e.patchState(a),e.dispatch(new g)}setViewMode(e,t){this.localStore.set("bedrive.viewMode",t.mode),e.patchState({viewMode:t.mode})}toggleDetailsSidebar(e){e.patchState({detailsVisible:!e.getState().detailsVisible})}toggleSidebar(e){e.patchState({sidebarOpen:!e.getState().sidebarOpen})}addEntries(e,t){const i=e.getState().entries,n=e.getState().spaceUsage,s=t.entries.filter(e=>!i.find(t=>t.id===e.id)),a=s.filter(e=>"folder"!==e.type).reduce((e,t)=>e+t.file_size,0);e.patchState({entries:[...s,...i],spaceUsage:Object.assign(Object.assign({},n),{used:n.used+a})})}uploadFiles(e,t){if(!this.enoughSpaceLeftToUpload(e.getState().spaceUsage,t.files))return e.dispatch(new Pe);if(!t.files.length)return;e.dispatch(new _);const i=e.getState().activePage.folder.id||null;return this.uploads.start(t.files,{httpParams:{parentId:i},validator:this.validator}).pipe(Object(c.a)(t=>{const n=[t.fileEntry.parent,t.fileEntry],s=n.filter(e=>e&&e.parent_id===i);e.dispatch(new O(s));const a=n.filter(e=>e&&"folder"===e.type);if(a.length){const t=[...e.getState().flatFolders,...a];e.patchState({flatFolders:t}),e.dispatch(new g)}}))}deleteTrashedEntriesForever(e){const t=this.store.selectSnapshot(Ze.selectedEntries),i=t.map(e=>e.id),n=e.getState().entries.filter(e=>-1===i.indexOf(e.id));return this.entriesApi.delete({entryIds:i,deleteForever:!0}).pipe(Object(c.a)(()=>(e.patchState({entries:n,selectedEntries:[]}),e.dispatch([new Oe(t),new Ie]))))}restoreTrashedEntries(e,t){const i=this.store.selectSnapshot(Ze.activePage),n=t.entries||this.store.selectSnapshot(Ze.selectedEntries),s=n.map(e=>e.id);let a;return a=i.name===te.name?e.getState().entries.filter(e=>-1===s.indexOf(e.id)):[...e.getState().entries,...t.entries],this.entriesApi.restore({entryIds:s}).pipe(Object(c.a)(()=>(e.patchState({entries:a,selectedEntries:[]}),e.dispatch(new Ce(n)))))}emptyTrash(e){return e.dispatch(new K(Ee.emptyTrash)),this.entriesApi.emptyTrash().pipe(Object(l.a)(()=>e.dispatch(new Q)),Object(c.a)(()=>(e.patchState({entries:[],selectedEntries:[]}),e.dispatch(new Ie))))}addStar(e,t){const i=e.getState(),n=t.entries.map(e=>e.id);return this.entriesApi.addStar(n).pipe(Object(c.a)(t=>{const s=i.entries.map(e=>(n.indexOf(e.id)>-1&&(e.tags||(e.tags=[]),e.tags.push(t.tag)),e)),a=i.selectedEntries.map(e=>(e.tags.push(t.tag),e));e.patchState({entries:s,selectedEntries:a})}))}removeStar(e,t){const i=e.getState(),n=t.entries.map(e=>e.id);return this.entriesApi.removeStar(n).pipe(Object(c.a)(t=>{const s=i.entries.map(e=>(n.indexOf(e.id)>-1&&this.removeTag(e,t.tag),e)),a=i.selectedEntries.map(e=>this.removeTag(e,t.tag));e.patchState({entries:s,selectedEntries:a})}))}removeEntries(e,t){const i=t.entries.map(e=>e.id),n=e.getState().entries.filter(e=>-1===i.indexOf(e.id));e.patchState({entries:n}),this.toast.open({message:"Removed :count items.",replacements:{count:i.length}})}copySelectedEntries(e){const t=this.store.selectSnapshot(Ze.selectedEntries),i=t.map(e=>e.id),n=t.filter(e=>"folder"===e.type),s=e.getState();return this.enoughSpaceLeftToUpload(e.getState().spaceUsage,t)?(e.dispatch(new K(Ee.copyEntries)),this.entriesApi.copy({entryIds:i}).pipe(Object(l.a)(()=>e.dispatch(new Q)),Object(c.a)(t=>{const a={};e.getState().activePage.folder&&(a.entries=s.entries.concat(t.entries)),n.length&&(a.flatFolders=Object.assign({},s.flatFolders),t.entries.filter(e=>"folder"===e.type).forEach(e=>a.flatFolders.push(e))),e.patchState(a),e.dispatch(new Ie),n.length&&e.dispatch(new g);const r=this.store.selectSnapshot(Ze.activePage);this.toast.open({message:"Copied :count file(s) into :location.",replacements:{count:i.length,location:"shares"===r.name?this.workspaces.activeWorkspace$.value.name+" workspace":r.folder.name}})}))):e.dispatch(new Pe)}openUploadWindow(e,t){const i=Object.assign(Object.assign({},this.uploadInputConfig),{directory:"directory"===t.type});Object(Se.a)(i).then(t=>{t&&t.length&&e.dispatch(new E(t))})}loadUserSpaceUsage(e){return this.entriesApi.getSpaceUsage().pipe(Object(c.a)(t=>{e.patchState({spaceUsage:{used:t.used,available:t.available}})}))}updateEntries(e,t){const i=e.getState().entries.slice(),n=e.getState().selectedEntries.slice();t.entries.forEach(e=>{const t=i.findIndex(t=>e.id===t.id);i[t]=Object.assign(Object.assign({},i[t]),e);const s=n.findIndex(t=>e.id===t.id);s>-1&&(n[s]=Object.assign(Object.assign({},n[s]),e))}),e.patchState({entries:i,selectedEntries:n})}updateEntryDescription(e,{entry:t,description:i}){return this.entriesApi.update(t.id,{description:i}).pipe(Object(c.a)(t=>{e.dispatch(new X([t.fileEntry]))}))}breakpointChanged(e,t){e.patchState({isMobile:t.status.isMobile,sidebarOpen:!t.status.isMobile,detailsVisible:!t.status.isMobile})}setCurrentUser(e,t){e.patchState({currentUser:t.user})}setWorkspace(e,t){e.patchState({activeWorkspace:t.workspace})}resetState(e){e.setState(Object.assign(Object.assign({},je),{viewMode:e.getState().viewMode}))}transformQueryParams(e){const t=this.store.selectSnapshot(Ze.activePage),i=this.store.selectSnapshot(Ze.meta),n=Object.assign({orderBy:i.sortColumn,orderDir:i.sortDirection},e);return"folder"===t.name&&(n.folderId=t.folderHash),i.query&&(n.query=i.query),i.type&&(n.type=i.type),n}enoughSpaceLeftToUpload(e,t){return t.reduce((e,t)=>e+(Object(Ve.a)("size",t)?t.size:t.file_size),0)+e.used<e.available}removeTag(e,t){return e.tags=e.tags.filter(e=>e.id!==t.id),e}static canMoveEntriesTo(e,t){return!(!t||"folder"!==t.type)&&e.every(e=>t.id!==e.parent_id&&!t.path.startsWith(e.path))}};return e.\u0275fac=function(t){return new(t||e)(r.Zb(Fe),r.Zb(Le),r.Zb(s.g),r.Zb(Re),r.Zb($e.a),r.Zb(o.g),r.Zb(Ne.a),r.Zb(Xe),r.Zb(Je.a),r.Zb(qe.b),r.Zb(Ue))},e.\u0275prov=r.Lb({token:e,factory:e.\u0275fac}),Object(a.b)([Object(o.a)(u)],e.prototype,"loadUserFolders",null),Object(a.b)([Object(o.a)(g)],e.prototype,"buildFolderTree",null),Object(a.b)([Object(o.a)(le)],e.prototype,"workspacesIndexPageOpened",null),Object(a.b)([Object(o.a)(re),Object(o.a)(ae),Object(o.a)(ce),Object(o.a)(he),Object(o.a)(de),Object(o.a)(oe),Object(o.a)(N),Object(o.a)($)],e.prototype,"loadDriveEntries",null),Object(a.b)([Object(o.a)(m,{cancelUncompleted:!0})],e.prototype,"openFolder",null),Object(a.b)([Object(o.a)(f,{cancelUncompleted:!0})],e.prototype,"openSearchPage",null),Object(a.b)([Object(o.a)(pe),Object(o.a)(ue),Object(o.a)(v)],e.prototype,"selectEntries",null),Object(a.b)([Object(o.a)(w)],e.prototype,"deselectAllEntries",null),Object(a.b)([Object(o.a)(y)],e.prototype,"SelectAllEntries",null),Object(a.b)([Object(o.a)(be)],e.prototype,"entryTapped",null),Object(a.b)([Object(o.a)(ge)],e.prototype,"entryDoubleTapped",null),Object(a.b)([Object(o.a)(x)],e.prototype,"deleteSelectedEntries",null),Object(a.b)([Object(o.a)(fe)],e.prototype,"fileContextMenuOpened",null),Object(a.b)([Object(o.a)(ve)],e.prototype,"newFolderCreated",null),Object(a.b)([Object(o.a)(ye)],e.prototype,"entryRenamed",null),Object(a.b)([Object(o.a)(we)],e.prototype,"startedDragging",null),Object(a.b)([Object(o.a)(xe)],e.prototype,"stoppedDragging",null),Object(a.b)([Object(o.a)(C)],e.prototype,"movieEntries",null),Object(a.b)([Object(o.a)(_e)],e.prototype,"moveEntriesSuccess",null),Object(a.b)([Object(o.a)(D)],e.prototype,"setViewMode",null),Object(a.b)([Object(o.a)(j)],e.prototype,"toggleDetailsSidebar",null),Object(a.b)([Object(o.a)(S)],e.prototype,"toggleSidebar",null),Object(a.b)([Object(o.a)(O)],e.prototype,"addEntries",null),Object(a.b)([Object(o.a)(E)],e.prototype,"uploadFiles",null),Object(a.b)([Object(o.a)(V)],e.prototype,"deleteTrashedEntriesForever",null),Object(a.b)([Object(o.a)(U)],e.prototype,"restoreTrashedEntries",null),Object(a.b)([Object(o.a)(A,{cancelUncompleted:!0})],e.prototype,"emptyTrash",null),Object(a.b)([Object(o.a)(F,{cancelUncompleted:!0})],e.prototype,"addStar",null),Object(a.b)([Object(o.a)(L,{cancelUncompleted:!0})],e.prototype,"removeStar",null),Object(a.b)([Object(o.a)(R)],e.prototype,"removeEntries",null),Object(a.b)([Object(o.a)(B)],e.prototype,"copySelectedEntries",null),Object(a.b)([Object(o.a)(z)],e.prototype,"openUploadWindow",null),Object(a.b)([Object(o.a)(b),Object(o.a)(Ie)],e.prototype,"loadUserSpaceUsage",null),Object(a.b)([Object(o.a)(X)],e.prototype,"updateEntries",null),Object(a.b)([Object(o.a)(J)],e.prototype,"updateEntryDescription",null),Object(a.b)([Object(o.a)(De)],e.prototype,"breakpointChanged",null),Object(a.b)([Object(o.a)(H)],e.prototype,"setCurrentUser",null),Object(a.b)([Object(o.a)(Z)],e.prototype,"setWorkspace",null),Object(a.b)([Object(o.a)(W)],e.prototype,"resetState",null),Object(a.b)([Object(o.e)()],e,"flatFolders",null),Object(a.b)([Object(o.e)()],e,"userFoldersLoaded",null),Object(a.b)([Object(o.e)()],e,"activePage",null),Object(a.b)([Object(o.e)()],e,"activePageName",null),Object(a.b)([Object(o.e)()],e,"userFolders",null),Object(a.b)([Object(o.e)()],e,"selectedEntries",null),Object(a.b)([Object(o.e)([Ze.selectedEntries])],e,"selectedEntryIds",null),Object(a.b)([Object(o.e)([Ze.selectedEntries])],e,"selectedEntry",null),Object(a.b)([Object(o.e)([Ze.selectedEntry])],e,"selectedEntryOrActiveFolder",null),Object(a.b)([Object(o.e)([Ze.selectedEntryOrActiveFolder,Ze.flatFolders])],e,"selectedEntryParent",null),Object(a.b)([Object(o.e)([Ze.selectedEntries])],e,"anythingSelected",null),Object(a.b)([Object(o.e)([Ze.selectedEntries])],e,"allSelectedEntriesStarred",null),Object(a.b)([Object(o.e)([Ze.selectedEntries])],e,"onlyFoldersSelected",null),Object(a.b)([Object(o.e)()],e,"entries",null),Object(a.b)([Object(o.e)()],e,"entriesEmpty",null),Object(a.b)([Object(o.e)([Ze.selectedEntries])],e,"multipleEntriesSelected",null),Object(a.b)([Object(o.e)()],e,"activeFolder",null),Object(a.b)([Object(o.e)()],e,"rootFolder",null),Object(a.b)([Object(o.e)()],e,"meta",null),Object(a.b)([Object(o.e)()],e,"dragging",null),Object(a.b)([Object(o.e)()],e,"loading",null),Object(a.b)([Object(o.e)()],e,"currentPage",null),Object(a.b)([Object(o.e)()],e,"viewMode",null),Object(a.b)([Object(o.e)()],e,"detailsOpen",null),Object(a.b)([Object(o.e)()],e,"sidebarOpen",null),Object(a.b)([Object(o.e)()],e,"sortColumn",null),Object(a.b)([Object(o.e)()],e,"sortDirection",null),Object(a.b)([Object(o.e)()],e,"canLoadMoreEntries",null),Object(a.b)([Object(o.e)()],e,"userSpaceUsed",null),Object(a.b)([Object(o.e)()],e,"userSpaceAvailable",null),Object(a.b)([Object(o.e)([Ze.userSpaceUsed,Ze.userSpaceAvailable])],e,"spaceUsedPercent",null),Object(a.b)([Object(o.e)()],e,"isMobile",null),Object(a.b)([Object(o.e)()],e,"currentUser",null),Object(a.b)([Object(o.e)()],e,"activeWorkspace",null),Object(a.b)([Object(o.e)([Ze.activeFolder,Ze.currentUser])],e,"userOwnsActiveFolder",null),Object(a.b)([Object(o.e)([Ze.selectedEntries,Ze.currentUser])],e,"userCanEditSelectedEntries",null),Object(a.b)([Object(o.e)([Ze.activePage,Ze.currentUser,Ze.activeWorkspace])],e,"canUpload",null),e=Ze=Object(a.b)([Object(o.f)({name:"drive",defaults:je})],e),e})();const Ye=["audio","video","text","pdf","archive","folder","shared-folder","image","powerPoint","word","spreadsheet"];var et=i("Wf9w"),tt=i("NFeN");let it=(()=>{class e{ngOnChanges(){!this.type&&this.mime&&(this.type=this.mime.split("/")[0]),Ye.includes(this.type)||(this.type="default")}getType(){return e=this.type,Object(et.a)(e).replace("_","-");var e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Jb({type:e,selectors:[["file-icon"]],inputs:{type:"type",mime:"mime"},features:[r.Bb],decls:1,vars:2,consts:[[1,"file-color",3,"svgIcon","ngClass"]],template:function(e,t){1&e&&r.Qb(0,"mat-icon",0),2&e&&r.mc("svgIcon",t.getType()+"-file-custom")("ngClass",t.getType()+"-file")},directives:[tt.a,n.q],styles:["file-icon{display:inline-block;flex-shrink:0;width:24px;height:24px}file-icon .mat-icon{width:100%;height:100%}"],encapsulation:2,changeDetection:0}),e})();function nt(e,t){if(1&e&&(r.Vb(0,"div",4),r.Kc(1),r.Ub()),2&e){const e=r.gc(2).ngIf;r.Db(1),r.Lc(e.length)}}function st(e,t){if(1&e&&(r.Tb(0),r.Qb(1,"file-icon",1),r.Vb(2,"div",2),r.Kc(3),r.Ub(),r.Ic(4,nt,2,1,"div",3),r.Sb()),2&e){const e=r.gc().ngIf;r.Db(1),r.mc("type",e[0].type),r.Db(2),r.Lc(e[0].name),r.Db(1),r.mc("ngIf",e.length>1)}}function at(e,t){if(1&e&&(r.Tb(0),r.Ic(1,st,5,3,"ng-container",0),r.Sb()),2&e){const e=t.ngIf;r.Db(1),r.mc("ngIf",e[0])}}let rt=(()=>{class e{constructor(e){this.store=e,this.className="files-grid-item-footer"}get dragging(){return!this.store.selectSnapshot(Ge.dragging)}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(o.g))},e.\u0275cmp=r.Jb({type:e,selectors:[["entry-drag-preview"]],hostVars:4,hostBindings:function(e,t){2&e&&(r.Fb(t.className),r.Hb("hidden",t.dragging))},decls:2,vars:3,consts:[[4,"ngIf"],[3,"type"],[1,"text"],["class","selected-entry-count",4,"ngIf"],[1,"selected-entry-count"]],template:function(e,t){1&e&&(r.Ic(0,at,2,1,"ng-container",0),r.hc(1,"async")),2&e&&r.mc("ngIf",r.ic(1,1,t.entries))},directives:[n.t,it],pipes:[n.b],styles:["entry-drag-preview{position:fixed;top:0;left:0;z-index:10;background-color:var(--be-accent-emphasis);color:var(--be-accent-lighter);width:185px;box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12);pointer-events:none}entry-drag-preview .selected-entry-count{width:22px;height:22px;line-height:22px;text-align:center;font-weight:500;background-color:var(--be-accent-default);color:var(--be-accent-contrast);position:absolute;top:-7px;right:-7px;border-radius:50%;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}"],encapsulation:2,changeDetection:0}),Object(a.b)([Object(o.d)(Ge.selectedEntries)],e.prototype,"entries",void 0),e})();var ot=i("zP0r"),ct=i("pLZG"),lt=i("XNiG"),dt=i("2Vo4");const ht={edit:!0,view:!0,download:!0};var pt=i("BkRI"),ut=i.n(pt),bt=i("qPyV"),gt=i.n(bt);let mt=(()=>{class e{constructor(e){this.http=e}updateUsers(e){return this.http.put("drive/shares/update-users",e)}shareEntries(e){return this.http.post("drive/shares/add-users",Object.assign(Object.assign({},e),{entries:e.entries.map(e=>e.id)}))}detachUser(e,t){return this.http.delete("drive/shares/remove-user/"+e,{entries:t})}}return e.\u0275fac=function(t){return new(t||e)(r.Zb(Me.a))},e.\u0275prov=r.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),ft=(()=>{class e{}return e.type="[ShareDialog] Set Initial Users",e})(),vt=(()=>{class e{constructor(e,t){this.user=e,this.permissions=t}}return e.type="[ShareDialog] Update User Permissions",e})(),yt=(()=>{class e{constructor(e){this.user=e}}return e.type="[ShareDialog] Remove User",e})(),wt=(()=>{class e{constructor(e){this.users=e}}return e.type="[ShareDialog] Set Users",e})(),xt=(()=>{class e{}return e.type="[ShareDialog] Save Changes",e})(),_t=(()=>{class e{}return e.type="[ShareDialog] Reset",e})(),kt=(()=>{class e{constructor(e){this.payload=e}}return e.type="[ShareDialog] Share Entries",e})(),Ot=(()=>{class e{constructor(e){this.messages=e}}return e.type="[ShareDialog] Share Entries Failed",e})(),Ct=(()=>{let e=class{constructor(e,t){this.store=e,this.sharesApi=t}static usersWithAccess(e){return e.usersWithAccess}static dirty(e){return!p()(e.original,e.usersWithAccess)}static loading(e){return e.loading}setInitialUsers(e){const t=this.store.selectSnapshot(Ge.selectedEntries);let i=t.map(e=>e.users).reduce((e,t)=>e.concat(t),[]);i=ut()(i),i=i.filter(e=>!!e);const n=gt()(i,e=>e.id);t.length>1&&n.forEach(e=>{const i=t.map(t=>t.users.find(t=>t.id===e.id)).filter(e=>!!e).map(e=>Object.assign({},e.entry_permissions));(t.length!==i.length||i.some(e=>!p()(e,i[0])))&&(e.entry_permissions={varies:!0})}),e.patchState({usersWithAccess:ut()(n),original:n})}setUsers(e,t){e.patchState({usersWithAccess:t.users,original:ut()(t.users)})}updateUserPermissions(e,t){const i=e.getState().usersWithAccess;i.find(e=>e.id===t.user.id).entry_permissions=t.permissions,e.patchState({usersWithAccess:i})}removeUser(e,t){const i=e.getState().usersWithAccess;i.find(e=>e.id===t.user.id).removed=!0,e.patchState({usersWithAccess:i})}resetState(e){e.setState({loading:!1,usersWithAccess:[],original:[]})}saveChanges(e){e.patchState({loading:!0});const t=e.getState(),i=this.store.selectSnapshot(Ge.selectedEntries),n=t.usersWithAccess.filter(e=>!e.owns_entry).filter(e=>!e.entry_permissions.varies||e.removed).map(e=>({id:e.id,removed:e.removed,permissions:e.entry_permissions}));return this.sharesApi.updateUsers({entries:i.map(e=>e.id),users:n}).pipe(Object(l.a)(()=>e.patchState({loading:!1})),Object(c.a)(t=>{const i=t.users;e.patchState({usersWithAccess:i,original:ut()(i)}),this.updateEntriesInDriveStore(i)}))}shareEntries(e,t){e.patchState({loading:!0});const i=Object.assign(Object.assign({},t.payload),{entries:this.store.selectSnapshot(Ge.selectedEntries)});return this.sharesApi.shareEntries(i).pipe(Object(l.a)(()=>e.patchState({loading:!1})),Object(c.a)(t=>{e.dispatch(new wt(t.users)),this.updateEntriesInDriveStore(t.users)},t=>{e.dispatch(new Ot(t.errors))}))}updateEntriesInDriveStore(e){const t=this.store.selectSnapshot(Ge.selectedEntries).map(t=>(t.users=e,t));this.store.dispatch(new X(t))}};return e.\u0275fac=function(t){return new(t||e)(r.Zb(o.g),r.Zb(mt))},e.\u0275prov=r.Lb({token:e,factory:e.\u0275fac}),Object(a.b)([Object(o.a)(ft)],e.prototype,"setInitialUsers",null),Object(a.b)([Object(o.a)(wt)],e.prototype,"setUsers",null),Object(a.b)([Object(o.a)(vt)],e.prototype,"updateUserPermissions",null),Object(a.b)([Object(o.a)(yt)],e.prototype,"removeUser",null),Object(a.b)([Object(o.a)(_t)],e.prototype,"resetState",null),Object(a.b)([Object(o.a)(xt,{cancelUncompleted:!0})],e.prototype,"saveChanges",null),Object(a.b)([Object(o.a)(kt,{cancelUncompleted:!0})],e.prototype,"shareEntries",null),Object(a.b)([Object(o.e)()],e,"usersWithAccess",null),Object(a.b)([Object(o.e)()],e,"dirty",null),Object(a.b)([Object(o.e)()],e,"loading",null),e=Object(a.b)([Object(o.f)({name:"shareDialog",defaults:{usersWithAccess:[],original:[],loading:!1}})],e),e})();var Pt=i("3Pt+"),It=i("lJxs"),Dt=i("1G5W"),jt=i("0IaG"),St=i("kmQS"),Et=i("mWN8"),Ut=i("Rd8u"),Vt=i("bTqV"),At=i("I3oe"),Mt=i("STbY");function Tt(e,t){1&e&&(r.Tb(0),r.Qb(1,"mat-icon",9),r.Vb(2,"span",10),r.Kc(3,"Varies"),r.Ub(),r.Sb())}function Ft(e,t){1&e&&(r.Tb(0),r.Qb(1,"mat-icon",11),r.Vb(2,"span",10),r.Kc(3,"Can edit"),r.Ub(),r.Sb())}function Lt(e,t){1&e&&(r.Tb(0),r.Qb(1,"mat-icon",12),r.Vb(2,"span",10),r.Kc(3,"Can View"),r.Ub(),r.Sb())}function Rt(e,t){1&e&&(r.Tb(0),r.Qb(1,"mat-icon",13),r.Vb(2,"span",10),r.Kc(3,"Can Download"),r.Ub(),r.Sb())}let $t=(()=>{class e{constructor(){this.permissions=ht,this.change=new r.o,this.compact=!1}overallPermission(){return this.permissions.varies?"varies":this.permissions.edit?"edit":this.permissions.download?"download":"view"}selectPermission(e){this.permissions="edit"===e?Object.assign({},ht):Object.assign(Object.assign({},ht),"download"===e?{edit:!1}:{edit:!1,download:!1}),this.change.emit(this.permissions)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Jb({type:e,selectors:[["sharing-permissions-button"]],hostVars:2,hostBindings:function(e,t){2&e&&r.Hb("compact",t.compact)},inputs:{permissions:"permissions",compact:"compact"},outputs:{change:"change"},decls:29,vars:11,consts:[["mat-flat-button","","color","gray",3,"matMenuTriggerFor"],[4,"ngIf"],["svgIcon","arrow-drop-down",1,"dropdown-icon"],["classList","mat-menu-with-description"],["shareMenu","matMenu"],["mat-menu-item","",3,"click"],["svgIcon","check",1,"mat-icon"],["trans",""],["trans","",1,"description"],["svgIcon","priority-high",1,"button-icon"],["trans","",1,"button-text"],["svgIcon","edit",1,"button-icon"],["svgIcon","remove-red-eye",1,"button-icon"],["svgIcon","file-download",1,"button-icon"]],template:function(e,t){if(1&e&&(r.Vb(0,"button",0),r.Ic(1,Tt,4,0,"ng-container",1),r.Ic(2,Ft,4,0,"ng-container",1),r.Ic(3,Lt,4,0,"ng-container",1),r.Ic(4,Rt,4,0,"ng-container",1),r.Qb(5,"mat-icon",2),r.Ub(),r.Vb(6,"mat-menu",3,4),r.Vb(8,"div",5),r.cc("click",(function(){return t.selectPermission("edit")})),r.Qb(9,"mat-icon",6),r.Vb(10,"div"),r.Vb(11,"div",7),r.Kc(12,"Can edit"),r.Ub(),r.Vb(13,"div",8),r.Kc(14,"People can edit, delete and copy the item to their own drive."),r.Ub(),r.Ub(),r.Ub(),r.Vb(15,"div",5),r.cc("click",(function(){return t.selectPermission("download")})),r.Qb(16,"mat-icon",6),r.Vb(17,"div"),r.Vb(18,"div",7),r.Kc(19,"Can download"),r.Ub(),r.Vb(20,"div",8),r.Kc(21,"People can view and download the item."),r.Ub(),r.Ub(),r.Ub(),r.Vb(22,"div",5),r.cc("click",(function(){return t.selectPermission("view")})),r.Qb(23,"mat-icon",6),r.Vb(24,"div"),r.Vb(25,"div",7),r.Kc(26,"Can view"),r.Ub(),r.Vb(27,"div",8),r.Kc(28,"People can view the item."),r.Ub(),r.Ub(),r.Ub(),r.Ub()),2&e){const e=r.uc(7);r.mc("matMenuTriggerFor",e),r.Db(1),r.mc("ngIf","varies"===t.overallPermission()),r.Db(1),r.mc("ngIf","edit"===t.overallPermission()),r.Db(1),r.mc("ngIf","view"===t.overallPermission()),r.Db(1),r.mc("ngIf","download"===t.overallPermission()),r.Db(5),r.Hb("visually-hidden","edit"!==t.overallPermission()),r.Db(7),r.Hb("visually-hidden","download"!==t.overallPermission()),r.Db(7),r.Hb("visually-hidden","view"!==t.overallPermission())}},directives:[Vt.b,Mt.d,n.t,tt.a,Mt.e,Mt.b,Ut.a],styles:[".mat-menu-with-description .mat-menu-item{display:flex;height:auto;min-height:48px;line-height:normal;white-space:normal;padding:10px 16px;font-size:1.5rem}.mat-menu-with-description .mat-menu-item .mat-icon{flex:0 0 24px}.mat-menu-with-description .mat-menu-item .description{font-size:1.4rem;color:var(--be-secondary-text);margin-top:3px}sharing-permissions-button{display:inline-block}sharing-permissions-button.compact .button-text{display:none}sharing-permissions-button .dropdown-icon,sharing-permissions-button:not(.compact) .button-icon{width:18px;height:18px;line-height:18px}sharing-permissions-button:not(.compact) .button-icon{margin-right:5px}sharing-permissions-button .button-text{font-size:1.3rem}"],encapsulation:2,changeDetection:0}),e})();var Nt=i("R0Ic"),Bt=i("eIep"),zt=i("zW5C");const Kt=function(e){return{workspace:e}};function Qt(e,t){if(1&e&&(r.Vb(0,"div",6),r.Qb(1,"mat-icon",7),r.Vb(2,"div",8),r.Vb(3,"div",9),r.Kc(4,'Everyone at ":workspace" workspace'),r.Ub(),r.Vb(5,"div",10),r.Kc(6),r.hc(7,"trans"),r.Ub(),r.Ub(),r.Ub()),2&e){const e=t.ngIf;r.Db(3),r.mc("transValues",r.qc(5,Kt,e.name)),r.Db(3),r.Nc("",e.members_count," ",r.ic(7,3,"members"),"")}}function Wt(e,t){if(1&e&&(r.Vb(0,"span",15),r.Kc(1),r.Ub()),2&e){const e=r.gc().$implicit;r.Db(1),r.Mc(" ",e.owns_entry?"Owner":"You"," ")}}function Xt(e,t){if(1&e){const e=r.Wb();r.Vb(0,"sharing-permissions-button",16),r.cc("change",(function(t){r.xc(e);const i=r.gc().$implicit;return r.gc().updateUserPermissions(i,t)})),r.Ub(),r.Vb(1,"button",17),r.cc("click",(function(){r.xc(e);const t=r.gc().$implicit;return r.gc().removeUser(t)})),r.hc(2,"async"),r.Qb(3,"mat-icon",18),r.Ub()}if(2&e){const e=r.gc().$implicit,t=r.gc();r.mc("permissions",e.entry_permissions),r.Db(1),r.mc("disabled",r.ic(2,2,t.loading$))}}function Ht(e,t){if(1&e&&(r.Vb(0,"div",6),r.Qb(1,"img",11),r.Vb(2,"div",8),r.Vb(3,"div",12),r.Kc(4),r.Ub(),r.Vb(5,"div",10),r.Kc(6),r.Ub(),r.Ub(),r.Vb(7,"div",4),r.Ic(8,Wt,2,1,"span",13),r.Ic(9,Xt,4,4,"ng-template",null,14,r.Jc),r.Ub(),r.Ub()),2&e){const e=t.$implicit,i=r.uc(10),n=r.gc();r.Hb("removed",e.removed),r.mc("@flyInOut","in"),r.Db(1),r.mc("src",e.avatar,r.Ac),r.Db(3),r.Lc(e.display_name),r.Db(2),r.Lc(e.email),r.Db(2),r.mc("ngIf",e.owns_entry||n.currentUser.getModel().id===e.id)("ngIfElse",i)}}let Zt=(()=>{class e{constructor(e,t,i){this.store=e,this.currentUser=t,this.workspaces=i,this.activeWorkspace$=this.store.select(Ge.selectedEntries).pipe(Object(It.a)(e=>e.every(e=>e.workspace_id)),Object(ct.a)(e=>!!e),Object(Bt.a)(()=>this.workspaces.activeWorkspace$))}updateUserPermissions(e,t){this.store.dispatch(new vt(e,t))}removeUser(e){this.store.dispatch(new yt(e))}saveChanges(){this.store.dispatch(new xt)}trackByUser(e,t){return t.id}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(o.g),r.Pb(Te.a),r.Pb(Je.a))},e.\u0275cmp=r.Jb({type:e,selectors:[["entries-access-table"]],decls:12,vars:14,consts:[["trans","",1,"header"],[1,"users-list"],["class","list-item",4,"ngIf"],["class","list-item",3,"removed",4,"ngFor","ngForOf","ngForTrackBy"],[1,"actions"],["mat-flat-button","","color","accent","trans","",3,"disabled","click"],[1,"list-item"],["svgIcon","groups",1,"list-item-img"],[1,"text"],["trans","",1,"display_name",3,"transValues"],[1,"email"],["alt","",1,"list-item-img",3,"src"],[1,"display_name"],["class","owner-label","trans","",4,"ngIf","ngIfElse"],["permissionSelector",""],["trans","",1,"owner-label"],[3,"permissions","change"],["mat-icon-button","",3,"disabled","click"],["svgIcon","close"]],template:function(e,t){1&e&&(r.Vb(0,"div",0),r.Kc(1,"Who has access"),r.Ub(),r.Vb(2,"div",1),r.Ic(3,Qt,8,7,"div",2),r.hc(4,"async"),r.Ic(5,Ht,11,8,"div",3),r.hc(6,"async"),r.Ub(),r.Vb(7,"div",4),r.Vb(8,"button",5),r.cc("click",(function(){return t.saveChanges()})),r.hc(9,"async"),r.hc(10,"async"),r.Kc(11,"Save Changes"),r.Ub(),r.Ub()),2&e&&(r.Db(3),r.mc("ngIf",r.ic(4,6,t.activeWorkspace$)),r.Db(2),r.mc("ngForOf",r.ic(6,8,t.users))("ngForTrackBy",t.trackByUser),r.Db(3),r.Hb("visually-hidden",!r.ic(9,10,t.dirty)),r.mc("disabled",r.ic(10,12,t.loading$)))},directives:[Ut.a,n.t,n.s,Vt.b,tt.a,$t],pipes:[n.b,zt.a],styles:["entries-access-table{display:block;margin-top:25px}entries-access-table .users-list{overflow-x:hidden}entries-access-table .users-list .list-item{display:flex;align-items:center;padding:12px 0;border-bottom:1px solid var(--be-divider-default);transition:opacity .3s ease}entries-access-table .users-list .list-item.removed{opacity:.3;pointer-events:none}entries-access-table .users-list .display_name{text-transform:capitalize}entries-access-table .users-list .email{color:var(--be-secondary-text)}entries-access-table .users-list .actions{margin-left:auto;padding-right:5px}entries-access-table .users-list .actions button{color:var(--be-secondary-text)}entries-access-table .list-item-img{width:30px;height:30px;flex:0 0 30px;margin-right:15px;color:var(--be-secondary-text)}entries-access-table .actions{margin-top:10px;text-align:right}"],encapsulation:2,data:{animation:[Object(Nt.m)("flyInOut",[Object(Nt.j)("in",Object(Nt.k)({transform:"translateX(0)"})),Object(Nt.l)("void => *",[Object(Nt.k)({transform:"translateX(-100%)"}),Object(Nt.e)(100)]),Object(Nt.l)("* => void",[Object(Nt.e)(100,Object(Nt.k)({transform:"translateX(100%)"}))])])]},changeDetection:0}),Object(a.b)([Object(o.d)(Ct.usersWithAccess)],e.prototype,"users",void 0),Object(a.b)([Object(o.d)(Ct.dirty)],e.prototype,"dirty",void 0),Object(a.b)([Object(o.d)(Ct.loading)],e.prototype,"loading$",void 0),e})();function Jt(e,t){if(1&e&&(r.Vb(0,"div",11),r.Kc(1),r.Ub()),2&e){const e=t.$implicit;r.Db(1),r.Lc(e.value)}}function qt(e,t){if(1&e){const e=r.Wb();r.Vb(0,"button",12),r.cc("click",(function(){return r.xc(e),r.gc().share()})),r.hc(1,"async"),r.Kc(2,"Share"),r.Ub()}if(2&e){const e=r.gc();r.mc("disabled",r.ic(1,1,e.loading$))}}let Gt=(()=>{class e{constructor(e,t,i,n,s){this.dialogRef=e,this.settings=t,this.store=i,this.actions$=n,this.users=s,this.destroyed$=new lt.a,this.errors=new dt.a({}),this.suggestUserEmails=e=>this.users.getAll({query:e,perPage:7}).pipe(Object(It.a)(e=>e.map(e=>e.email))),this.resetModel(),this.store.dispatch(new ft),this.bindToShareError(),this.bindToShareModel()}ngOnDestroy(){this.store.dispatch(new _t),this.destroyed$.next(),this.destroyed$.complete()}share(){this.store.dispatch(new kt({emails:this.shareModel.emails.value,permissions:this.shareModel.permissions})).subscribe(()=>{this.setErrorMessages(),this.resetModel()})}resetModel(){this.shareModel={emails:new Pt.i([]),permissions:ht}}setErrorMessages(e){this.errors.next(e||{})}bindToShareModel(){this.shareModel.emails.valueChanges.pipe(Object(Dt.a)(this.destroyed$)).subscribe(()=>this.setErrorMessages())}bindToShareError(){this.actions$.pipe(Object(Dt.a)(this.destroyed$),Object(o.i)(Ot)).subscribe(e=>{this.setErrorMessages(e.messages)})}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(jt.h),r.Pb(St.a),r.Pb(o.g),r.Pb(o.b),r.Pb(Et.a))},e.\u0275cmp=r.Jb({type:e,selectors:[["share-dialog"]],decls:19,vars:13,consts:[[1,"modal-header"],["mat-dialog-title","","trans",""],["type","button","mat-icon-button","","tabindex","-1",1,"close-button",3,"click"],["svgIcon","close"],[1,"emails-container"],["placeholder","Enter email addresses...","email","","required","",3,"formControl","emailsInput","suggestFn"],[3,"compact","change"],[1,"errors"],["class","error",4,"ngFor","ngForOf"],["type","button","mat-button","","trans","",3,"disabled","click"],["type","submit","mat-raised-button","","color","accent","trans","",3,"disabled","click",4,"ngIf"],[1,"error"],["type","submit","mat-raised-button","","color","accent","trans","",3,"disabled","click"]],template:function(e,t){1&e&&(r.Vb(0,"div",0),r.Vb(1,"h2",1),r.Kc(2,"Add people"),r.Ub(),r.Vb(3,"button",2),r.cc("click",(function(){return t.dialogRef.close()})),r.Qb(4,"mat-icon",3),r.Ub(),r.Ub(),r.Vb(5,"mat-dialog-content"),r.Vb(6,"div",4),r.Qb(7,"chip-input",5),r.Vb(8,"sharing-permissions-button",6),r.cc("change",(function(e){return t.shareModel.permissions=e})),r.Ub(),r.Ub(),r.Vb(9,"div",7),r.Ic(10,Jt,2,1,"div",8),r.hc(11,"keyvalue"),r.hc(12,"async"),r.Ub(),r.Qb(13,"entries-access-table"),r.Ub(),r.Vb(14,"mat-dialog-actions"),r.Vb(15,"button",9),r.cc("click",(function(){return t.dialogRef.close()})),r.hc(16,"async"),r.Kc(17,"Close"),r.Ub(),r.Ic(18,qt,3,3,"button",10),r.Ub()),2&e&&(r.Db(7),r.mc("formControl",t.shareModel.emails)("emailsInput",!0)("suggestFn",t.settings.get("share.suggest_emails")?t.suggestUserEmails:null),r.Db(1),r.mc("compact",!0),r.Db(2),r.mc("ngForOf",r.ic(11,7,r.ic(12,9,t.errors))),r.Db(5),r.mc("disabled",r.ic(16,11,t.loading$)),r.Db(3),r.mc("ngIf",null==t.shareModel.emails.value?null:t.shareModel.emails.value.length))},directives:[jt.i,Ut.a,Vt.b,tt.a,jt.f,At.a,Pt.e,Pt.F,Pt.u,Pt.j,$t,n.s,Zt,jt.c,n.t],pipes:[n.l,n.b],styles:["share-dialog{display:block;width:500px;max-width:100%}share-dialog .emails-container{display:flex;min-height:54px}share-dialog .emails-container chip-input{flex:1 1 auto;border-bottom-right-radius:0;border-top-right-radius:0}share-dialog .emails-container .mat-flat-button{height:54px;border:1px solid var(--be-divider-default);border-left:none;border-top-left-radius:0;border-bottom-left-radius:0}share-dialog .mat-tab-body{padding:15px 0}"],encapsulation:2,changeDetection:0}),Object(a.b)([Object(o.d)(Ct.loading)],e.prototype,"loading$",void 0),e})(),Yt=(()=>{class e{constructor(e){this.http=e}findByEntryId(e,t){return this.http.get(`drive/entries/${e}/shareable-link`,t)}findByHash(e,t){return this.http.get("drive/shareable-links/"+e,t)}create(e,t){return this.http.post(`drive/entries/${e}/shareable-link`,t)}update(e,t){return this.http.put("drive/shareable-links/"+e,t)}delete(e){return this.http.delete(`drive/shareable-links/${e})`)}checkPassword(e,t){return this.http.post(`drive/shareable-links/${e}/check-password`,{password:t})}importEntry(e,t){return this.http.post(`drive/shareable-links/${e}/import`,{password:t})}}return e.\u0275fac=function(t){return new(t||e)(r.Zb(Me.a))},e.\u0275prov=r.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),ei=(()=>{class e{constructor(e={}){this.options=e}}return e.type="[Shareable Link] Load From Backend",e})(),ti=(()=>{class e{constructor(e){this.options=e}}return e.type="[Shareable Link] Update",e})(),ii=(()=>{class e{constructor(e){this.options=e}}return e.type="[Shareable Link] Create",e})(),ni=(()=>{class e{}return e.type="[Shareable Link] Delete",e})(),si=(()=>{class e{}return e.type="[Shareable Link] Toggle Options Panel Visibility",e})(),ai=(()=>{class e{}return e.type="[Shareable Link] Copy To Clipboard Success",e})(),ri=(()=>{class e{}return e.type="[Shareable Link] Reset State",e})();const oi={link:null,loading:!1,optionsPanelVisible:!0,backendErrors:{},cache:{},linkOptions:{allowDownload:!1,allowEdit:!1,expiresAt:null,password:null}};let ci=(()=>{let e=class{constructor(e,t,i){this.store=e,this.settings=t,this.linksApi=i}static loading(e){return e.loading}static link(e){return e.link}static optionsVisible(e){return!e.loading&&e.optionsPanelVisible}static backendErrors(e){return e.backendErrors}createShareableLink(e,t){const i=this.store.selectSnapshot(Ge.selectedEntryIds)[0];return e.patchState({loading:!0}),this.linksApi.create(i,t.options).pipe(Object(l.a)(()=>e.patchState({loading:!1,backendErrors:{}})),Object(c.a)(t=>{const i=t.link;e.patchState({cache:Object.assign(Object.assign({},e.getState().cache),{[i.entry_id]:i}),link:t.link,optionsPanelVisible:!1})},t=>{e.patchState({backendErrors:t.errors})}))}updateLink(e,t){const i=e.getState().link;return e.patchState({loading:!0}),this.linksApi.update(i.id,t.options).pipe(Object(l.a)(()=>e.patchState({loading:!1,backendErrors:{}})),Object(c.a)(t=>e.patchState({link:t.link,cache:Object.assign(Object.assign({},e.getState().cache),{[i.entry_id]:t.link}),optionsPanelVisible:!1}),t=>{e.patchState({backendErrors:t.errors})}))}loadShareableLink(e,t){const i=this.store.selectSnapshot(Ge.selectedEntryIds)[0],n=e.getState().cache[i];return n?e.patchState({link:n,optionsPanelVisible:!1}):(e.patchState({loading:!0}),this.linksApi.findByEntryId(i,{autoCreate:t.options.autoCreate}).pipe(Object(l.a)(()=>e.patchState({loading:!1})),Object(c.a)(t=>e.patchState({link:t.link,optionsPanelVisible:!1,cache:Object.assign(Object.assign({},e.getState().cache),{[t.link.entry_id]:t.link})}),()=>{})))}deleteShareableLink(e){const t=e.getState().link;return e.patchState({loading:!0}),this.linksApi.delete(t.id).pipe(Object(l.a)(()=>e.patchState({loading:!1})),Object(c.a)(()=>{const i=e.getState().cache;delete i[t.entry_id],e.patchState({link:null,cache:i})}))}toggleOptionsPanel(e){e.patchState({optionsPanelVisible:!e.getState().optionsPanelVisible})}resetShareLinkState(e){return e.patchState(Object.assign(Object.assign({},e.getState()),oi))}};return e.\u0275fac=function(t){return new(t||e)(r.Zb(o.g),r.Zb(St.a),r.Zb(Yt))},e.\u0275prov=r.Lb({token:e,factory:e.\u0275fac}),Object(a.b)([Object(o.a)(ii)],e.prototype,"createShareableLink",null),Object(a.b)([Object(o.a)(ti)],e.prototype,"updateLink",null),Object(a.b)([Object(o.a)(ei)],e.prototype,"loadShareableLink",null),Object(a.b)([Object(o.a)(ni)],e.prototype,"deleteShareableLink",null),Object(a.b)([Object(o.a)(si)],e.prototype,"toggleOptionsPanel",null),Object(a.b)([Object(o.a)(ri,{cancelUncompleted:!0})],e.prototype,"resetShareLinkState",null),Object(a.b)([Object(o.e)()],e,"loading",null),Object(a.b)([Object(o.e)()],e,"link",null),Object(a.b)([Object(o.e)()],e,"optionsVisible",null),Object(a.b)([Object(o.e)()],e,"backendErrors",null),e=Object(a.b)([Object(o.f)({name:"shareLink",defaults:oi})],e),e})();var li=i("+QRC"),di=i.n(li),hi=i("bSwM");function pi(e,t){if(1&e&&(r.Vb(0,"div",16),r.Kc(1),r.Ub()),2&e){const e=t.ngIf;r.Db(1),r.Lc(e)}}function ui(e,t){1&e&&(r.Tb(0),r.Vb(1,"div",17),r.Qb(2,"input",18),r.Ub(),r.Sb())}let bi=(()=>{class e{constructor(e){this.store=e,this.form=new Pt.l({password:new Pt.i,expiresAt:new Pt.l({date:new Pt.i,time:new Pt.i}),allowEdit:new Pt.i(!1),allowDownload:new Pt.i(!0)}),this.passwordVisible=new Pt.i(!1),this.expirationVisible=new Pt.i(!1)}ngOnInit(){this.bindToLinkChange()}toggleOptionsPanel(){this.store.dispatch(new si)}saveChanges(){this.store.selectSnapshot(ci.link)?this.store.dispatch(new ti(this.getPayload())):this.store.dispatch(new ii(this.getPayload()))}getPayload(){const e={allowEdit:this.form.get("allowEdit").value,allowDownload:this.form.get("allowDownload").value};return this.expirationVisible.value&&(e.expiresAt=this.form.get("expiresAt.date").value,this.form.get("expiresAt.time").value&&(e.expiresAt+=" "+this.form.get("expiresAt.time").value)),this.passwordVisible.value&&(e.password=this.form.get("password").value),e}bindToLinkChange(){this.link$.pipe(Object(ct.a)(e=>!!e)).subscribe(e=>{this.hydrateExpirationForm(e),this.passwordVisible.setValue(!!e.password),this.expirationVisible.setValue(!!e.expires_at),this.form.patchValue({allowEdit:e.allow_edit,allowDownload:e.allow_download})})}hydrateExpirationForm(e){if(!e||!e.expires_at)return;const t=e.expires_at.split(" ");this.form.get("expiresAt").setValue({date:t[0],time:t[1]})}getMinDate(){return(new Date).toJSON().split("T")[0]}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(o.g))},e.\u0275cmp=r.Jb({type:e,selectors:[["link-options"]],decls:38,vars:18,consts:[[1,"update-link-panel",3,"formGroup","ngSubmit"],[1,"link-options"],[1,"link-option"],["trans","",1,"label"],[1,"content"],["color","accent","trans","",3,"formControl"],["formGroupName","expiresAt",1,"input-container","expiration-input-container"],[1,"date-input-container"],["type","date","formControlName","date","placeholder","Expiration date...","trans-placeholder","",1,"date-input",3,"min"],["type","time","formControlName","time","placeholder","Expiration time...","trans-placeholder","",1,"time-input"],["class","error",4,"ngIf"],[4,"ngIf"],["color","accent","formControlName","allowEdit","trans",""],["color","accent","formControlName","allowDownload","trans",""],["type","button","mat-button","","trans","",3,"click"],["type","submit","mat-raised-button","","color","accent",1,"update-button",3,"disabled"],[1,"error"],[1,"input-container","password-input-container"],["type","password","formControlName","password","placeholder","Enter new password...","trans-placeholder",""]],template:function(e,t){var i;1&e&&(r.Vb(0,"form",0),r.cc("ngSubmit",(function(){return t.saveChanges()})),r.Vb(1,"div",1),r.Vb(2,"div",2),r.Vb(3,"div",3),r.Kc(4,"Link expiration"),r.Ub(),r.Vb(5,"div",4),r.Vb(6,"mat-checkbox",5),r.Kc(7,"Link is valid until:"),r.Ub(),r.Vb(8,"div",6),r.Vb(9,"div",7),r.Qb(10,"input",8),r.Ub(),r.Qb(11,"input",9),r.Ub(),r.Ic(12,pi,2,1,"div",10),r.hc(13,"async"),r.Ub(),r.Ub(),r.Vb(14,"div",2),r.Vb(15,"div",3),r.Kc(16,"Password Protect"),r.Ub(),r.Vb(17,"div",4),r.Vb(18,"mat-checkbox",5),r.Kc(19,"Require password:"),r.Ub(),r.Ic(20,ui,3,0,"ng-container",11),r.Ub(),r.Ub(),r.Vb(21,"div",2),r.Vb(22,"div",3),r.Kc(23,"Allow editing"),r.Ub(),r.Vb(24,"mat-checkbox",12),r.Kc(25,"Users with link can modify this item."),r.Ub(),r.Ub(),r.Vb(26,"div",2),r.Vb(27,"div",3),r.Kc(28,"Allow download"),r.Ub(),r.Vb(29,"mat-checkbox",13),r.Kc(30,"Users with link can download this item."),r.Ub(),r.Ub(),r.Ub(),r.Vb(31,"button",14),r.cc("click",(function(){return t.toggleOptionsPanel()})),r.Kc(32,"Cancel"),r.Ub(),r.Vb(33,"button",15),r.hc(34,"async"),r.Kc(35),r.hc(36,"trans"),r.hc(37,"async"),r.Ub(),r.Ub()),2&e&&(r.mc("formGroup",t.form),r.Db(6),r.mc("formControl",t.expirationVisible),r.Db(2),r.Hb("hidden",!t.expirationVisible.value),r.Db(2),r.mc("min",t.getMinDate()),r.Db(2),r.mc("ngIf",null==(i=r.ic(13,10,t.backendErrors$))?null:i.expiresAt),r.Db(6),r.mc("formControl",t.passwordVisible),r.Db(2),r.mc("ngIf",t.passwordVisible.value),r.Db(13),r.mc("disabled",r.ic(34,12,t.loading$)),r.Db(2),r.Mc(" ",r.ic(36,14,r.ic(37,16,t.link$)?"Update Link":"Create Link")," "))},directives:[Pt.K,Pt.v,Pt.m,Ut.a,hi.a,Pt.u,Pt.j,Pt.n,Pt.d,Pt.k,n.t,Vt.b],pipes:[n.b,zt.a],styles:["link-options{display:block;padding:15px;border:1px solid var(--be-divider-default);border-radius:4px}link-options .link-option{padding-bottom:25px;margin-bottom:25px;border-bottom:1px solid var(--be-divider-default)}link-options .link-option .label{font-weight:500;margin-bottom:8px}link-options .link-option .expiration-input-container,link-options .link-option .password-input-container{margin-top:15px}link-options .link-option .content .error{margin-top:10px}link-options .expiration-input-container{display:flex}link-options .expiration-input-container .date-input-container{flex:1 1 auto;margin-right:10px;position:relative}link-options .expiration-input-container .time-input{max-width:150px;margin-right:20px}link-options .update-button{margin-top:15px}"],encapsulation:2,changeDetection:0}),Object(a.b)([Object(o.d)(ci.link)],e.prototype,"link$",void 0),Object(a.b)([Object(o.d)(ci.loading)],e.prototype,"loading$",void 0),Object(a.b)([Object(o.d)(ci.backendErrors)],e.prototype,"backendErrors$",void 0),e})();var gi=i("FBzJ");function mi(e,t){if(1&e){const e=r.Wb();r.Tb(0),r.Vb(1,"div",7),r.Vb(2,"div",8),r.Kc(3),r.hc(4,"trans"),r.Vb(5,"span",9),r.Vb(6,"button",10),r.cc("click",(function(){return r.xc(e),r.gc().deleteLink()})),r.Kc(7,"on"),r.Ub(),r.Ub(),r.Ub(),r.Vb(8,"div",11),r.Vb(9,"button",12),r.cc("click",(function(){return r.xc(e),r.gc().deleteLink()})),r.Qb(10,"mat-icon",13),r.Ub(),r.Vb(11,"button",12),r.cc("click",(function(){return r.xc(e),r.gc().toggleOptionsPanel()})),r.Qb(12,"mat-icon",14),r.Ub(),r.Ub(),r.Ub(),r.Vb(13,"div",15),r.Vb(14,"div",16),r.Vb(15,"input",17),r.cc("click",(function(){return r.xc(e),r.gc().focusInput()}))("change",(function(){return r.xc(e),r.gc().focusInput()})),r.hc(16,"async"),r.Ub(),r.Vb(17,"button",18),r.cc("click",(function(){return r.xc(e),r.gc().copyLinkToClipboard()})),r.Kc(18,"Copy"),r.Ub(),r.Ub(),r.Vb(19,"div",19),r.Vb(20,"button",20),r.cc("click",(function(){return r.xc(e),r.gc().shareLink("facebook")})),r.Qb(21,"mat-icon",21),r.Ub(),r.Vb(22,"button",22),r.cc("click",(function(){return r.xc(e),r.gc().shareLink("twitter")})),r.Qb(23,"mat-icon",23),r.Ub(),r.Vb(24,"button",24),r.cc("click",(function(){return r.xc(e),r.gc().shareLink("mail")})),r.Qb(25,"mat-icon",25),r.Ub(),r.Ub(),r.Ub(),r.Sb()}if(2&e){const e=r.gc();r.Db(3),r.Mc(" ",r.ic(4,2,"Link sharing is")," "),r.Db(12),r.mc("value",r.ic(16,4,e.shareableLink$))}}let fi=(()=>{class e{constructor(e,t,i,n,s){this.store=e,this.toast=t,this.actions$=i,this.settings=n,this.dialogRef=s,this.shareableLink$=new dt.a(null),this.subscriptions=[]}ngOnInit(){this.store.dispatch(new ei),this.bindToOptionsPanelToggle()}ngAfterViewInit(){this.bindToLinkChange()}ngOnDestroy(){this.store.dispatch(new ri),this.subscriptions.forEach(e=>e.unsubscribe())}toggleOptionsPanel(){this.store.dispatch(new si)}deleteLink(){this.store.dispatch(new ni).subscribe(()=>{this.toast.open("Link deleted."),this.dialogRef.close()})}copyLinkToClipboard(){this.focusInput(),di()(this.shareableLink$.value)&&this.store.dispatch(new ai)}bindToLinkChange(){this.link$.subscribe(e=>{e&&(this.shareableLink$.next(this.settings.getBaseUrl()+"drive/s/"+e.hash),setTimeout(()=>this.focusInput()))})}bindToOptionsPanelToggle(){const e=this.actions$.pipe(Object(o.i)(si)).subscribe(()=>{this.store.selectSnapshot(ci.optionsVisible)||this.shareableLink$.value||this.close()});this.subscriptions.push(e)}shareLink(e){!function(e,t,i,n){const s=function(e,t,i,n){switch(e){case"facebook":return"https://www.facebook.com/sharer/sharer.php?u="+t;case"twitter":return"https://twitter.com/intent/tweet?text=undefined&url="+t;case"google-plus":return"https://plus.google.com/share?url="+t;case"pinterest":return"https://pinterest.com/pin/create/button/?url="+t+"&media="+undefined;case"tumblr":return"https://www.tumblr.com/widgets/share/tool?shareSource=legacy&canonicalUrl=&posttype=photo&title=&caption=undefined&content=undefined&url="+t;case"blogger":return"https://www.blogger.com/blog_this.pyra?t&u="+t+"&n="+undefined;case"mail":return"mailto:?subject=Check out this link.&body="+t}}(e,t);"mail"===e?window.location.href=s:function(e){const t=(window.innerWidth-575)/2,i=(window.innerHeight-400)/2;window.open(e,"share","status=1, scrollbars=1,width=575,height=400,top="+i+",left="+t)}(s)}(e,this.shareableLink$.value)}focusInput(){const e=document.getElementById("link-input");e.focus(),e.select()}close(){this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(o.g),r.Pb(qe.b),r.Pb(o.b),r.Pb(St.a),r.Pb(jt.h))},e.\u0275cmp=r.Jb({type:e,selectors:[["share-link-dialog"]],decls:16,vars:12,consts:[[1,"modal-header"],["mat-dialog-title","","trans",""],["type","button","mat-icon-button","","tabindex","-1",1,"close-button",3,"click"],["svgIcon","close"],[4,"ngIf"],[1,"overlay-transparent",3,"isVisible"],["type","button","mat-button","","trans","",1,"submit-button",3,"disabled","click"],[1,"title"],[1,"left"],[1,"state","on"],["trans","",1,"on-text","text","no-style",3,"click"],[1,"right"],["type","button","mat-icon-button","",3,"click"],["svgIcon","delete"],["svgIcon","settings"],[1,"link-container"],[1,"link-input-container","input-container"],["type","text","id","link-input","readonly","","tabindex","1",3,"value","click","change"],["mat-flat-button","","color","accent","trans","",3,"click"],[1,"social-icons"],["type","button","mat-icon-button","",1,"social-icon","no-style","facebook",3,"click"],["svgIcon","facebook"],["type","button","mat-icon-button","",1,"social-icon","no-style","twitter",3,"click"],["svgIcon","twitter"],["type","button","mat-icon-button","",1,"social-icon","no-style","mail",3,"click"],["svgIcon","mail"]],template:function(e,t){1&e&&(r.Vb(0,"div",0),r.Vb(1,"h2",1),r.Kc(2,"Shareable link"),r.Ub(),r.Vb(3,"button",2),r.cc("click",(function(){return t.close()})),r.Qb(4,"mat-icon",3),r.Ub(),r.Ub(),r.Vb(5,"mat-dialog-content"),r.Ic(6,mi,26,6,"ng-container",4),r.hc(7,"async"),r.Qb(8,"link-options"),r.hc(9,"async"),r.Qb(10,"loading-indicator",5),r.hc(11,"async"),r.Ub(),r.Vb(12,"mat-dialog-actions"),r.Vb(13,"button",6),r.cc("click",(function(){return t.close()})),r.hc(14,"async"),r.Kc(15,"Close"),r.Ub(),r.Ub()),2&e&&(r.Db(6),r.mc("ngIf",r.ic(7,4,t.link$)),r.Db(2),r.mc("@visibility",r.ic(9,6,t.optionsVisible$)),r.Db(2),r.mc("isVisible",r.ic(11,8,t.loading$)),r.Db(3),r.mc("disabled",r.ic(14,10,t.loading$)))},directives:[jt.i,Ut.a,Vt.b,tt.a,jt.f,n.t,bi,gi.a,jt.c],pipes:[n.b,zt.a],styles:["share-link-dialog{display:block;min-height:273px;width:500px;max-width:100%}share-link-dialog .title{display:flex;align-items:center;margin-bottom:5px}share-link-dialog .title .right{margin-left:auto;color:var(--be-secondary-text)}share-link-dialog .link-input-container{display:flex;margin-bottom:10px}share-link-dialog .link-input-container input{flex:1 1 auto;border-top-right-radius:0;border-bottom-right-radius:0}share-link-dialog .link-input-container button{width:88px;flex:0 0 88px;border-top-left-radius:0;border-bottom-left-radius:0}share-link-dialog .mat-dialog-content{min-height:144px}share-link-dialog .social-icons{margin-bottom:10px}share-link-dialog loading-indicator{top:0;left:0;bottom:0;right:0;margin:auto}"],encapsulation:2,data:{animation:[Object(Nt.m)("visibility",[Object(Nt.j)("true",Object(Nt.k)({height:"*",padding:"*",opacity:"1",overflow:"*"})),Object(Nt.j)("false",Object(Nt.k)({height:"0",padding:"0",opacity:"0",overflow:"hidden"})),Object(Nt.l)("true <=> false",Object(Nt.e)("225ms cubic-bezier(.4,0,.2,1)"))])]},changeDetection:0}),Object(a.b)([Object(o.d)(ci.loading)],e.prototype,"loading$",void 0),Object(a.b)([Object(o.d)(ci.link)],e.prototype,"link$",void 0),Object(a.b)([Object(o.d)(ci.optionsVisible)],e.prototype,"optionsVisible$",void 0),e})();function vi(e,t){if(1&e&&(r.Vb(0,"div",11),r.Kc(1),r.Ub()),2&e){const e=r.gc();r.Db(1),r.Lc(e.errors.name)}}let yi=(()=>{class e{constructor(e,t,i,n,s){this.dialogRef=e,this.data=t,this.store=i,this.foldersApi=n,this.changeDetection=s,this.folderName=new Pt.i,this.loading=new dt.a(!1),this.errors={}}confirm(){this.loading.next(!0);const e=this.data.folder||this.store.selectSnapshot(Ge.activeFolder);return this.foldersApi.create({name:this.folderName.value,parentId:(null==e?void 0:e.id)||null}).pipe(Object(l.a)(()=>this.loading.next(!1))).subscribe(e=>{this.setErrors(),this.store.dispatch(new ve(e.folder)),this.close()},e=>this.setErrors(e))}setErrors(e){this.errors=e?e.errors:{},this.changeDetection.detectChanges()}close(){this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(jt.h),r.Pb(jt.a),r.Pb(o.g),r.Pb(Fe),r.Pb(r.i))},e.\u0275cmp=r.Jb({type:e,selectors:[["crupdate-folder-dialog"]],decls:16,vars:5,consts:[[1,"modal-header"],["mat-dialog-title","","trans",""],["type","button","mat-icon-button","","tabindex","-1",1,"close-button",3,"click"],["svgIcon","close"],["ngNativeValidate","",3,"ngSubmit"],[1,"many-inputs"],[1,"input-container"],["type","text","placeholder","Folder name...","trans-placeholder","","required","","min","3",3,"formControl"],["class","error",4,"ngIf"],["type","button","mat-button","","trans","",1,"cancel-button",3,"click"],["type","submit","mat-raised-button","","color","accent","trans","",1,"submit-button",3,"disabled"],[1,"error"]],template:function(e,t){1&e&&(r.Vb(0,"div",0),r.Vb(1,"h2",1),r.Kc(2,"New Folder"),r.Ub(),r.Vb(3,"button",2),r.cc("click",(function(){return t.close()})),r.Qb(4,"mat-icon",3),r.Ub(),r.Ub(),r.Vb(5,"form",4),r.cc("ngSubmit",(function(){return t.confirm()})),r.Vb(6,"mat-dialog-content",5),r.Vb(7,"div",6),r.Qb(8,"input",7),r.Ic(9,vi,2,1,"div",8),r.Ub(),r.Ub(),r.Vb(10,"mat-dialog-actions"),r.Vb(11,"button",9),r.cc("click",(function(){return t.close()})),r.Kc(12,"Cancel"),r.Ub(),r.Vb(13,"button",10),r.hc(14,"async"),r.Kc(15,"Create"),r.Ub(),r.Ub(),r.Ub()),2&e&&(r.Db(8),r.mc("formControl",t.folderName),r.Db(1),r.mc("ngIf",t.errors.name),r.Db(4),r.mc("disabled",r.ic(14,3,t.loading)))},directives:[jt.i,Ut.a,Vt.b,tt.a,Pt.v,Pt.w,jt.f,Pt.d,Pt.F,Pt.u,Pt.j,n.t,jt.c],pipes:[n.b],styles:["[_nghost-%COMP%]{display:block;width:400px;max-width:100%}"],changeDetection:0}),e})();var wi=i("IzEk"),xi=i("0EQZ"),_i=i("7+OI"),ki=i("LRne"),Oi=i("8LU1"),Ci=i("cH1L");class Pi extends class{constructor(){this.expansionModel=new xi.c(!0)}toggle(e){this.expansionModel.toggle(this._trackByValue(e))}expand(e){this.expansionModel.select(this._trackByValue(e))}collapse(e){this.expansionModel.deselect(this._trackByValue(e))}isExpanded(e){return this.expansionModel.isSelected(this._trackByValue(e))}toggleDescendants(e){this.expansionModel.isSelected(this._trackByValue(e))?this.collapseDescendants(e):this.expandDescendants(e)}collapseAll(){this.expansionModel.clear()}expandDescendants(e){let t=[e];t.push(...this.getDescendants(e)),this.expansionModel.select(...t.map(e=>this._trackByValue(e)))}collapseDescendants(e){let t=[e];t.push(...this.getDescendants(e)),this.expansionModel.deselect(...t.map(e=>this._trackByValue(e)))}_trackByValue(e){return this.trackBy?this.trackBy(e):e}}{constructor(e,t,i){super(),this.getLevel=e,this.isExpandable=t,this.options=i,this.options&&(this.trackBy=this.options.trackBy)}getDescendants(e){const t=[];for(let i=this.dataNodes.indexOf(e)+1;i<this.dataNodes.length&&this.getLevel(e)<this.getLevel(this.dataNodes[i]);i++)t.push(this.dataNodes[i]);return t}expandAll(){this.expansionModel.select(...this.dataNodes.map(e=>this._trackByValue(e)))}}const Ii=new r.s("CDK_TREE_NODE_OUTLET_NODE");let Di=(()=>{class e{constructor(e,t){this.viewContainer=e,this._node=t}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(r.S),r.Pb(Ii,8))},e.\u0275dir=r.Kb({type:e,selectors:[["","cdkTreeNodeOutlet",""]]}),e})();class ji{constructor(e){this.$implicit=e}}let Si=(()=>{class e{constructor(e){this.template=e}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(r.O))},e.\u0275dir=r.Kb({type:e,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:["cdkTreeNodeDefWhen","when"]}}),e})(),Ei=(()=>{class e{constructor(e,t){this._differs=e,this._changeDetectorRef=t,this._onDestroy=new lt.a,this._levels=new Map,this.viewChange=new dt.a({start:0,end:Number.MAX_VALUE})}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}ngOnInit(){this._dataDiffer=this._differs.find([]).create(this.trackBy)}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null)}ngAfterContentChecked(){const e=this._nodeDefs.filter(e=>!e.when);this._defaultNodeDef=e[0],this.dataSource&&this._nodeDefs&&!this._dataSubscription&&this._observeRenderChanges()}_switchDataSource(e){this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),e||this._nodeOutlet.viewContainer.clear(),this._dataSource=e,this._nodeDefs&&this._observeRenderChanges()}_observeRenderChanges(){let e;Object(xi.g)(this._dataSource)?e=this._dataSource.connect(this):Object(_i.a)(this._dataSource)?e=this._dataSource:Array.isArray(this._dataSource)&&(e=Object(ki.a)(this._dataSource)),e&&(this._dataSubscription=e.pipe(Object(Dt.a)(this._onDestroy)).subscribe(e=>this.renderNodeChanges(e)))}renderNodeChanges(e,t=this._dataDiffer,i=this._nodeOutlet.viewContainer,n){const s=t.diff(e);s&&(s.forEachOperation((t,s,a)=>{if(null==t.previousIndex)this.insertNode(e[a],a,i,n);else if(null==a)i.remove(s),this._levels.delete(t.item);else{const e=i.get(s);i.move(e,a)}}),this._changeDetectorRef.detectChanges())}_getNodeDef(e,t){return 1===this._nodeDefs.length?this._nodeDefs.first:this._nodeDefs.find(i=>i.when&&i.when(t,e))||this._defaultNodeDef}insertNode(e,t,i,n){const s=this._getNodeDef(e,t),a=new ji(e);a.level=this.treeControl.getLevel?this.treeControl.getLevel(e):void 0!==n&&this._levels.has(n)?this._levels.get(n)+1:0,this._levels.set(e,a.level),(i||this._nodeOutlet.viewContainer).createEmbeddedView(s.template,a,t),Ui.mostRecentTreeNode&&(Ui.mostRecentTreeNode.data=e)}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(r.u),r.Pb(r.i))},e.\u0275cmp=r.Jb({type:e,selectors:[["cdk-tree"]],contentQueries:function(e,t,i){var n;1&e&&r.Ib(i,Si,!0),2&e&&r.tc(n=r.dc())&&(t._nodeDefs=n)},viewQuery:function(e,t){var i;1&e&&r.Ec(Di,!0),2&e&&r.tc(i=r.dc())&&(t._nodeOutlet=i.first)},hostAttrs:["role","tree",1,"cdk-tree"],inputs:{dataSource:"dataSource",treeControl:"treeControl",trackBy:"trackBy"},exportAs:["cdkTree"],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(e,t){1&e&&r.Rb(0,0)},directives:[Di],encapsulation:2}),e})(),Ui=(()=>{class e{constructor(t,i){this._elementRef=t,this._tree=i,this._destroyed=new lt.a,this._dataChanges=new lt.a,this.role="treeitem",e.mostRecentTreeNode=this}get data(){return this._data}set data(e){e!==this._data&&(this._data=e,this._setRoleFromData(),this._dataChanges.next())}get isExpanded(){return this._tree.treeControl.isExpanded(this._data)}get level(){return this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._data):0}ngOnDestroy(){e.mostRecentTreeNode===this&&(e.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}focus(){this._elementRef.nativeElement.focus()}_setRoleFromData(){this.role="treeitem"}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(r.m),r.Pb(Ei))},e.\u0275dir=r.Kb({type:e,selectors:[["cdk-tree-node"]],hostAttrs:[1,"cdk-tree-node"],hostVars:3,hostBindings:function(e,t){2&e&&r.Eb("aria-expanded",t.isExpanded)("aria-level",t.level+1)("role",t.role)},inputs:{role:"role"},exportAs:["cdkTreeNode"]}),e.mostRecentTreeNode=null,e})(),Vi=(()=>{class e extends Ui{constructor(e,t,i){super(e,t),this._elementRef=e,this._tree=t,this._differs=i}ngAfterContentInit(){this._dataDiffer=this._differs.find([]).create(this._tree.trackBy);const e=this._tree.treeControl.getChildren(this.data);Array.isArray(e)?this.updateChildrenNodes(e):Object(_i.a)(e)&&e.pipe(Object(Dt.a)(this._destroyed)).subscribe(e=>this.updateChildrenNodes(e)),this.nodeOutlet.changes.pipe(Object(Dt.a)(this._destroyed)).subscribe(()=>this.updateChildrenNodes())}ngOnDestroy(){this._clear(),super.ngOnDestroy()}updateChildrenNodes(e){const t=this._getNodeOutlet();e&&(this._children=e),t&&this._children?this._tree.renderNodeChanges(this._children,this._dataDiffer,t.viewContainer,this._data):this._dataDiffer.diff([])}_clear(){const e=this._getNodeOutlet();e&&(e.viewContainer.clear(),this._dataDiffer.diff([]))}_getNodeOutlet(){const e=this.nodeOutlet;return e&&e.find(e=>!e._node||e._node===this)}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(r.m),r.Pb(Ei),r.Pb(r.u))},e.\u0275dir=r.Kb({type:e,selectors:[["cdk-nested-tree-node"]],contentQueries:function(e,t,i){var n;1&e&&r.Ib(i,Di,!0),2&e&&r.tc(n=r.dc())&&(t.nodeOutlet=n)},hostAttrs:[1,"cdk-tree-node","cdk-nested-tree-node"],hostVars:2,hostBindings:function(e,t){2&e&&r.Eb("aria-expanded",t.isExpanded)("role",t.role)},exportAs:["cdkNestedTreeNode"],features:[r.Cb([{provide:Ui,useExisting:e},{provide:Ii,useExisting:e}]),r.Ab]}),e})();const Ai=/([A-Za-z%]+)$/;let Mi=(()=>{class e{constructor(e,t,i,n,s){this._treeNode=e,this._tree=t,this._element=n,this._dir=s,this._destroyed=new lt.a,this.indentUnits="px",this._indent=40,this._setPadding(),s&&s.change.pipe(Object(Dt.a)(this._destroyed)).subscribe(()=>this._setPadding(!0)),e._dataChanges.subscribe(()=>this._setPadding())}get level(){return this._level}set level(e){this._setLevelInput(e)}get indent(){return this._indent}set indent(e){this._setIndentInput(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_paddingIndent(){const e=this._treeNode.data&&this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._treeNode.data):null,t=null==this._level?e:this._level;return"number"==typeof t?`${t*this._indent}${this.indentUnits}`:null}_setPadding(e=!1){const t=this._paddingIndent();if(t!==this._currentPadding||e){const e=this._element.nativeElement,i=this._dir&&"rtl"===this._dir.value?"paddingRight":"paddingLeft",n="paddingLeft"===i?"paddingRight":"paddingLeft";e.style[i]=t||"",e.style[n]="",this._currentPadding=t}}_setLevelInput(e){this._level=Object(Oi.f)(e,null),this._setPadding()}_setIndentInput(e){let t=e,i="px";if("string"==typeof e){const n=e.split(Ai);t=n[0],i=n[1]||i}this.indentUnits=i,this._indent=Object(Oi.f)(t),this._setPadding()}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(Ui),r.Pb(Ei),r.Pb(r.H),r.Pb(r.m),r.Pb(Ci.c,8))},e.\u0275dir=r.Kb({type:e,selectors:[["","cdkTreeNodePadding",""]],inputs:{level:["cdkTreeNodePadding","level"],indent:["cdkTreeNodePaddingIndent","indent"]}}),e})(),Ti=(()=>{class e{constructor(e,t){this._tree=e,this._treeNode=t,this._recursive=!1}get recursive(){return this._recursive}set recursive(e){this._recursive=Object(Oi.c)(e)}_toggle(e){this.recursive?this._tree.treeControl.toggleDescendants(this._treeNode.data):this._tree.treeControl.toggle(this._treeNode.data),e.stopPropagation()}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(Ei),r.Pb(Ui))},e.\u0275dir=r.Kb({type:e,selectors:[["","cdkTreeNodeToggle",""]],hostBindings:function(e,t){1&e&&r.cc("click",(function(e){return t._toggle(e)}))},inputs:{recursive:["cdkTreeNodeToggleRecursive","recursive"]}}),e})(),Fi=(()=>{class e{}return e.\u0275mod=r.Nb({type:e}),e.\u0275inj=r.Mb({factory:function(t){return new(t||e)}}),e})();var Li=i("FKr1"),Ri=i("VRyK");const $i=Object(Li.y)(Object(Li.w)(Ui));let Ni=(()=>{class e extends $i{constructor(e,t,i){super(e,t),this._elementRef=e,this._tree=t,this.role="treeitem",this.tabIndex=Number(i)||0}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(r.m),r.Pb(Ei),r.ac("tabindex"))},e.\u0275dir=r.Kb({type:e,selectors:[["mat-tree-node"]],hostAttrs:[1,"mat-tree-node"],hostVars:3,hostBindings:function(e,t){2&e&&r.Eb("aria-expanded",t.isExpanded)("aria-level",t.level+1)("role",t.role)},inputs:{disabled:"disabled",tabIndex:"tabIndex",role:"role"},exportAs:["matTreeNode"],features:[r.Cb([{provide:Ui,useExisting:e}]),r.Ab]}),e})(),Bi=(()=>{class e extends Si{}return e.\u0275fac=function(t){return zi(t||e)},e.\u0275dir=r.Kb({type:e,selectors:[["","matTreeNodeDef",""]],inputs:{when:["matTreeNodeDefWhen","when"],data:["matTreeNode","data"]},features:[r.Cb([{provide:Si,useExisting:e}]),r.Ab]}),e})();const zi=r.Xb(Bi);let Ki=(()=>{class e extends Vi{constructor(e,t,i,n){super(e,t,i),this._elementRef=e,this._tree=t,this._differs=i,this._disabled=!1,this.tabIndex=Number(n)||0}get disabled(){return this._disabled}set disabled(e){this._disabled=Object(Oi.c)(e)}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?e:0}ngAfterContentInit(){super.ngAfterContentInit()}ngOnDestroy(){super.ngOnDestroy()}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(r.m),r.Pb(Ei),r.Pb(r.u),r.ac("tabindex"))},e.\u0275dir=r.Kb({type:e,selectors:[["mat-nested-tree-node"]],hostAttrs:[1,"mat-nested-tree-node"],hostVars:2,hostBindings:function(e,t){2&e&&r.Eb("aria-expanded",t.isExpanded)("role",t.role)},inputs:{tabIndex:"tabIndex",disabled:"disabled",node:["matNestedTreeNode","node"]},exportAs:["matNestedTreeNode"],features:[r.Cb([{provide:Vi,useExisting:e},{provide:Ui,useExisting:e},{provide:Ii,useExisting:e}]),r.Ab]}),e})(),Qi=(()=>{class e extends Mi{get level(){return this._level}set level(e){this._setLevelInput(e)}get indent(){return this._indent}set indent(e){this._setIndentInput(e)}}return e.\u0275fac=function(t){return Wi(t||e)},e.\u0275dir=r.Kb({type:e,selectors:[["","matTreeNodePadding",""]],inputs:{level:["matTreeNodePadding","level"],indent:["matTreeNodePaddingIndent","indent"]},features:[r.Cb([{provide:Mi,useExisting:e}]),r.Ab]}),e})();const Wi=r.Xb(Qi);let Xi=(()=>{class e{constructor(e,t){this.viewContainer=e,this._node=t}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(r.S),r.Pb(Ii,8))},e.\u0275dir=r.Kb({type:e,selectors:[["","matTreeNodeOutlet",""]],features:[r.Cb([{provide:Di,useExisting:e}])]}),e})(),Hi=(()=>{class e extends Ei{}return e.\u0275fac=function(t){return Zi(t||e)},e.\u0275cmp=r.Jb({type:e,selectors:[["mat-tree"]],viewQuery:function(e,t){var i;1&e&&r.Ec(Xi,!0),2&e&&r.tc(i=r.dc())&&(t._nodeOutlet=i.first)},hostAttrs:["role","tree",1,"mat-tree"],exportAs:["matTree"],features:[r.Cb([{provide:Ei,useExisting:e}]),r.Ab],decls:1,vars:0,consts:[["matTreeNodeOutlet",""]],template:function(e,t){1&e&&r.Rb(0,0)},directives:[Xi],styles:[".mat-tree{display:block}.mat-tree-node{display:flex;align-items:center;flex:1;word-wrap:break-word}.mat-nested-tree-node{border-bottom-width:0}\n"],encapsulation:2}),e})();const Zi=r.Xb(Hi);let Ji=(()=>{class e extends Ti{get recursive(){return this._recursive}set recursive(e){this._recursive=Object(Oi.c)(e)}}return e.\u0275fac=function(t){return qi(t||e)},e.\u0275dir=r.Kb({type:e,selectors:[["","matTreeNodeToggle",""]],inputs:{recursive:["matTreeNodeToggleRecursive","recursive"]},features:[r.Cb([{provide:Ti,useExisting:e}]),r.Ab]}),e})();const qi=r.Xb(Ji);let Gi=(()=>{class e{}return e.\u0275mod=r.Nb({type:e}),e.\u0275inj=r.Mb({factory:function(t){return new(t||e)},imports:[[Fi,Li.h],Li.h]}),e})();class Yi{constructor(e,t,i,n){this.transformFunction=e,this.getLevel=t,this.isExpandable=i,this.getChildren=n}_flattenNode(e,t,i,n){const s=this.transformFunction(e,t);if(i.push(s),this.isExpandable(s)){const s=this.getChildren(e);s&&(Array.isArray(s)?this._flattenChildren(s,t,i,n):s.pipe(Object(wi.a)(1)).subscribe(e=>{this._flattenChildren(e,t,i,n)}))}return i}_flattenChildren(e,t,i,n){e.forEach((s,a)=>{let r=n.slice();r.push(a!=e.length-1),this._flattenNode(s,t+1,i,r)})}flattenNodes(e){let t=[];return e.forEach(e=>this._flattenNode(e,0,t,[])),t}expandFlattenedNodes(e,t){let i=[],n=[];return n[0]=!0,e.forEach(e=>{let s=!0;for(let t=0;t<=this.getLevel(e);t++)s=s&&n[t];s&&i.push(e),this.isExpandable(e)&&(n[this.getLevel(e)+1]=t.isExpanded(e))}),i}}class en extends xi.b{constructor(e,t,i=[]){super(),this._treeControl=e,this._treeFlattener=t,this._flattenedData=new dt.a([]),this._expandedData=new dt.a([]),this._data=new dt.a(i)}get data(){return this._data.value}set data(e){this._data.next(e),this._flattenedData.next(this._treeFlattener.flattenNodes(this.data)),this._treeControl.dataNodes=this._flattenedData.value}connect(e){const t=[e.viewChange,this._treeControl.expansionModel.changed,this._flattenedData];return Object(Ri.a)(...t).pipe(Object(It.a)(()=>(this._expandedData.next(this._treeFlattener.expandFlattenedNodes(this._flattenedData.value,this._treeControl)),this._expandedData.value)))}disconnect(){}}let tn=(()=>{class e{constructor(){this.createTreeFlattener(),this.createTreeControl(),this.createTreeDataSource()}set data(e){this.dataSource.data=e}createTreeFlattener(){this.flattener=new Yi(this.transformer,this.getLevel,this.isExpandable,this.getChildren)}createTreeControl(){this.control=new Pi(this.getLevel,this.isExpandable)}createTreeDataSource(){this.dataSource=new en(this.control,this.flattener)}transformer(e,t){const i=Object.assign({},e);return i.level=t,i.expandable=!!e.children,i}getLevel(e){return e.level}isExpandable(e){return e.expandable}getChildren(e){return Object(ki.a)(e.children)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const nn=new r.s("AVAILABLE_CONTEXT_MENUS");var sn=i("+rOU");class an{constructor(e){this.overlayRef=e}close(){this.overlayRef&&this.overlayRef.dispose()}backdropClick(){return this.overlayRef.backdropClick()}attachments(){return this.overlayRef.attachments()}detachments(){return this.overlayRef.detachments()}backdropElement(){return this.overlayRef.backdropElement}contextMenuElement(){return this.overlayRef.overlayElement}}const rn=new r.s("CONTEXT_MENU_DATA");var on=i("rDax");let cn=(()=>{class e{constructor(e,t,i,n,a){this.router=e,this.zone=t,this.injector=i,this.resolver=n,this.overlay=a,this.router.events.pipe(Object(ct.a)(e=>e instanceof s.e)).subscribe(()=>this.close())}open(e,t,i={}){if(this.close(),!e)return;const n=this.createOverlay(t,i);this.openContextMenu=new an(n);const s=new sn.g(this.injector,new WeakMap([[rn,i.data],[an,this.openContextMenu]])),a=new sn.d(e,null,s);return n.attach(a),this.bindEventsToOverlay(),this.openContextMenu}close(){this.removeLastOrigin(),this.openContextMenu&&(this.openContextMenu.close(),this.openContextMenu=null)}createOverlay(e,t){return this.overlay.create({positionStrategy:this.getMenuPositionStrategy(e,t),scrollStrategy:this.overlay.scrollStrategies.close(),hasBackdrop:!0,backdropClass:"context-menu-backdrop",panelClass:"context-menu-overlay"})}bindEventsToOverlay(){this.openContextMenu.contextMenuElement().addEventListener("click",()=>{this.close()}),this.openContextMenu.backdropClick().subscribe(()=>{this.close()}),this.openContextMenu.backdropElement().addEventListener("contextmenu",e=>{e.preventDefault(),this.close()}),this.openContextMenu.detachments().subscribe(()=>{this.close()})}getMenuPositionStrategy(e,t){this.createOriginFromEvent(e,t);const i={originX:t.originX||"center",originY:t.originY||"bottom",overlayX:t.overlayX||"center",overlayY:t.overlayY||"top"};return this.overlay.position().flexibleConnectedTo(new r.m(this.lastOrigin)).withPositions([i,{originX:"end",originY:"bottom",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"bottom"}])}createOriginFromEvent(e,t){this.removeLastOrigin(),e instanceof HTMLElement||e instanceof EventTarget?this.lastOrigin=e:(this.lastOrigin=document.createElement("div"),this.lastOrigin.style.position="fixed",this.lastOrigin.style.top=e.clientY+(t.offsetY||0)+"px",this.lastOrigin.style.left=e.clientX+(t.offsetX||0)+"px",this.lastOrigin.id="dynamic-context-menu-origin",document.body.appendChild(this.lastOrigin))}removeLastOrigin(){this.lastOrigin&&"dynamic-context-menu-origin"===this.lastOrigin.id&&this.lastOrigin.remove()}}return e.\u0275fac=function(t){return new(t||e)(r.Zb(s.g),r.Zb(r.B),r.Zb(r.t),r.Zb(r.k),r.Zb(on.a))},e.\u0275prov=r.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),ln=(()=>{class e{constructor(e,t,i){this.el=e,this.contextMenu=t,this.disableContextMenu=!1,this.availableMenus={},i.forEach(e=>{Object.assign(this.availableMenus,e)})}ngOnInit(){this.el.nativeElement.addEventListener("contextmenu",e=>{e.preventDefault(),e.stopPropagation(),this.disableContextMenu||this.contextMenu.open(this.getMenuComponent(),e,{overlayX:"start",overlayY:"top",data:this.getMenuData()})})}getMenuComponent(){return"string"==typeof this.params?this.availableMenus[this.params]:this.availableMenus[this.params.type]}getMenuData(){return"string"==typeof this.params?{type:this.params}:this.params}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(r.m),r.Pb(cn),r.Pb(nn))},e.\u0275dir=r.Kb({type:e,selectors:[["","contextMenu",""]],inputs:{params:["contextMenu","params"],disableContextMenu:"disableContextMenu"}}),e})();var dn=i("xgIS");let hn=(()=>{class e{constructor(){this.subs=[]}ngOnInit(){this.dragging.subscribe(e=>{e?this.onDragStart():this.onDragEnd()})}ngOnDestroy(){this.unsubscribe()}onDragStart(){const e=Object(dn.a)(this.el.nativeElement,"mouseenter").subscribe(()=>this.onDragEnter()),t=Object(dn.a)(this.el.nativeElement,"mouseleave").subscribe(()=>this.onDragLeave());this.subs.push(e,t)}onDragEnter(){const e=["drag-over"];this.canDrop()&&(this.active=!0,e.push("can-drop")),this.el.nativeElement.classList.add(...e)}onDragLeave(){this.active=!1,this.removeDragOverClass()}onDragEnd(){this.unsubscribe(),this.removeDragOverClass(),this.active&&this.canDrop()&&(this.executeAction(),this.active=!1)}unsubscribe(){this.subs.forEach(e=>e&&e.unsubscribe())}removeDragOverClass(){this.el.nativeElement.classList.remove("drag-over","can-drop")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.Kb({type:e}),Object(a.b)([Object(o.d)(Ge.dragging)],e.prototype,"dragging",void 0),e})(),pn=(()=>{class e extends hn{constructor(e,t){super(),this.el=e,this.store=t}canDrop(){const e=this.store.selectSnapshot(Ge.selectedEntries);return Ge.canMoveEntriesTo(e,this.folder)}executeAction(){return this.store.dispatch(new C(this.folder))}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(r.m),r.Pb(o.g))},e.\u0275dir=r.Kb({type:e,selectors:[["","folderDropTarget",""]],inputs:{folder:["folderDropTarget","folder"]},features:[r.Ab]}),e})();function un(e,t){if(1&e){const e=r.Wb();r.Vb(0,"div",3),r.cc("click",(function(){return r.xc(e),r.gc().selectFolder()})),r.hc(1,"async"),r.Qb(2,"mat-icon",4),r.Vb(3,"span",5),r.Kc(4,"My Drive"),r.Ub(),r.Ub()}if(2&e){const e=r.gc();r.Hb("active",!r.ic(1,2,e.selectedFolderId$))}}const bn=function(e){return{type:"entry",entry:e}};function gn(e,t){if(1&e){const e=r.Wb();r.Vb(0,"mat-tree-node",6),r.hc(1,"async"),r.Qb(2,"mat-icon",7),r.Vb(3,"button",8),r.cc("click",(function(){r.xc(e);const i=t.$implicit;return r.gc().selectFolder(i)})),r.Qb(4,"mat-icon",9),r.Vb(5,"span",10),r.Kc(6),r.Ub(),r.Ub(),r.Ub()}if(2&e){const e=t.$implicit,i=r.gc();r.Hb("active",r.ic(1,9,i.selectedFolderId$)===e.hash),r.mc("matTreeNodePaddingIndent",i.showRootNode?40:24)("contextMenu",r.qc(11,bn,e))("disableContextMenu",i.disableContextMenu)("folderDropTarget",e),r.Db(2),r.Hb("expanded",i.tree.control.isExpanded(e)),r.Db(4),r.Lc(e.name)}}let mn=(()=>{class e{constructor(e,t){this.tree=e,this.store=t,this.expanded=!1,this.showRootNode=!1,this.disableContextMenu=!1,this.folderSelected=new r.o,this.subscriptions=[],this.selectedFolderId$=new dt.a(null)}selectFolder(e){this.selectedFolderId$.next(e.hash),this.folderSelected.emit(e)}toggle(){this.expanded=!this.expanded}ngOnInit(){const e=this.store.select(Ge.userFolders).pipe(Object(ct.a)(e=>!!e)).subscribe(e=>{this.tree.data=e}),t=this.store.select(Ge.activePage).subscribe(e=>{this.selectedFolderId$.next(e.folderHash)});this.subscriptions.push(e,t)}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(tn),r.Pb(o.g))},e.\u0275cmp=r.Jb({type:e,selectors:[["folders-tree"]],hostVars:4,hostBindings:function(e,t){2&e&&r.Hb("expanded",t.expanded)("has-root-node",t.showRootNode)},inputs:{expanded:"expanded",showRootNode:"showRootNode",disableContextMenu:"disableContextMenu"},outputs:{folderSelected:"folderSelected"},features:[r.Cb([tn])],decls:3,vars:3,consts:[["class","mat-tree-node root-tree-node",3,"active","click",4,"ngIf"],[3,"dataSource","treeControl"],["matTreeNodePadding","","class","tree-node",3,"matTreeNodePaddingIndent","contextMenu","disableContextMenu","folderDropTarget","active",4,"matTreeNodeDef"],[1,"mat-tree-node","root-tree-node",3,"click"],["svgIcon","network-drive-custom",1,"folder-icon"],["trans","",1,"text"],["matTreeNodePadding","",1,"tree-node",3,"matTreeNodePaddingIndent","contextMenu","disableContextMenu","folderDropTarget"],["matTreeNodeToggle","","svgIcon","arrow-drop-down",1,"toggle-expansion-icon"],["type","button",1,"no-style","folder-button",3,"click"],["svgIcon","folder",1,"folder-icon"],[1,"folder-name","text"]],template:function(e,t){1&e&&(r.Ic(0,un,5,4,"div",0),r.Vb(1,"mat-tree",1),r.Ic(2,gn,7,13,"mat-tree-node",2),r.Ub()),2&e&&(r.mc("ngIf",t.showRootNode),r.Db(1),r.mc("dataSource",t.tree.dataSource)("treeControl",t.tree.control))},directives:[n.t,Hi,Bi,tt.a,Ut.a,Ni,Qi,ln,pn,Ji],pipes:[n.b],styles:["folders-tree{display:none;color:var(--be-text)}folders-tree.expanded{display:block}folders-tree.has-root-node .mat-tree-node:not(.root-tree-node){padding-left:16px}folders-tree .folder-icon{margin-right:5px;color:var(--be-secondary-text);flex:0 0 24px}folders-tree .mat-tree .folder-button{display:flex;align-items:center;color:inherit;width:100%;min-height:inherit;line-height:inherit}folders-tree .mat-tree .folder-name{padding-top:2.5px}folders-tree .mat-tree-node{padding-right:24px;white-space:nowrap;color:inherit;background-color:var(--be-background-alternative)}folders-tree .mat-tree-node.disabled{pointer-events:none;opacity:.5}folders-tree .mat-tree-node:not(.active):not(.drag-over):hover{background-color:var(--be-hover)}folders-tree .mat-tree-node.active{color:var(--be-accent-default);background-color:var(--be-accent-emphasis)}folders-tree .mat-tree-node.active .folder-icon{color:inherit}folders-tree .mat-tree-node.active .text{font-weight:500}folders-tree .root-tree-node{padding-left:12px;cursor:pointer}folders-tree .root-tree-node .mat-icon{margin-right:6px}"],encapsulation:2,changeDetection:0}),e})(),fn=(()=>{class e{constructor(e,t,i){this.dialogRef=e,this.store=t,this.actions=i,this.destination$=new dt.a(this.store.selectSnapshot(Ge.activePage).folder),this.loading$=new dt.a(!1),this.subscriptions=[],this.canMove$=this.destination$.pipe(Object(It.a)(e=>{const t=this.store.selectSnapshot(Ge.selectedEntries);return Ge.canMoveEntriesTo(t,e)}))}ngOnInit(){const e=this.actions.pipe(Object(o.h)(ke)).subscribe(()=>{this.loading$.next(!1)}),t=this.actions.pipe(Object(o.h)(_e),Object(wi.a)(1)).subscribe(()=>{this.close()});this.subscriptions.push(t,e)}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}confirm(){this.loading$.next(!0),this.store.dispatch(new C(this.destination$.value)).subscribe(()=>{this.loading$.next(!1)})}close(){this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(jt.h),r.Pb(o.g),r.Pb(o.b))},e.\u0275cmp=r.Jb({type:e,selectors:[["move-entries-dialog"]],decls:15,vars:8,consts:[[1,"modal-header"],["mat-dialog-title","","trans",""],["type","button","mat-icon-button","","tabindex","-1",1,"close-button",3,"click"],["svgIcon","close"],["ngNativeValidate","",3,"ngSubmit"],[3,"expanded","disableContextMenu","showRootNode","folderSelected"],["type","button","mat-button","","trans","",1,"cancel-button",3,"click"],["type","submit","mat-raised-button","","color","accent","trans","",1,"submit-button",3,"disabled"]],template:function(e,t){1&e&&(r.Vb(0,"div",0),r.Vb(1,"h2",1),r.Kc(2,"Move items"),r.Ub(),r.Vb(3,"button",2),r.cc("click",(function(){return t.close()})),r.Qb(4,"mat-icon",3),r.Ub(),r.Ub(),r.Vb(5,"form",4),r.cc("ngSubmit",(function(){return t.confirm()})),r.Vb(6,"mat-dialog-content"),r.Vb(7,"folders-tree",5),r.cc("folderSelected",(function(e){return t.destination$.next(e)})),r.Ub(),r.Ub(),r.Vb(8,"mat-dialog-actions"),r.Vb(9,"button",6),r.cc("click",(function(){return t.close()})),r.Kc(10,"Cancel"),r.Ub(),r.Vb(11,"button",7),r.hc(12,"async"),r.hc(13,"async"),r.Kc(14,"Move"),r.Ub(),r.Ub(),r.Ub()),2&e&&(r.Db(7),r.mc("expanded",!0)("disableContextMenu",!0)("showRootNode",!0),r.Db(4),r.mc("disabled",!r.ic(12,4,t.canMove$)||r.ic(13,6,t.loading$)))},directives:[jt.i,Ut.a,Vt.b,tt.a,Pt.v,Pt.w,jt.f,mn,jt.c],pipes:[n.b],styles:[".move-entries-dialog-container{width:350px}move-entries-dialog{display:block;width:400px;max-width:100%}move-entries-dialog folders-tree{border:1px solid var(--be-divider-lighter);border-radius:3px}move-entries-dialog .mat-dialog-actions{margin-top:15px}"],encapsulation:2,changeDetection:0}),Object(a.b)([Object(o.d)(Ge.selectedEntries)],e.prototype,"selectedEntries$",void 0),e})();function vn(e,t){if(1&e&&(r.Vb(0,"div",11),r.Kc(1),r.Ub()),2&e){const e=r.gc();r.Db(1),r.Lc(e.errors.name)}}let yn=(()=>{class e{constructor(e,t,i,n,s){this.dialogRef=e,this.store=t,this.toast=i,this.entriesApi=n,this.changeDetection=s,this.entryName=new Pt.i,this.loading=new dt.a(!1),this.errors={}}ngOnInit(){this.entry=this.store.selectSnapshot(Ge.selectedEntries)[0],this.entryName.setValue(this.entry.name)}confirm(){const e=this.entryName.value;return e===this.entry.name?this.close():(this.loading.next(!0),this.entriesApi.update(this.entry.id,{name:e}).pipe(Object(l.a)(()=>this.loading.next(!1))).subscribe(()=>{this.setErrors(),this.store.dispatch(new ye(this.entry,e)),this.close()},e=>this.setErrors(e)))}setErrors(e){this.loading.next(!1),this.errors=e?e.errors:{},this.changeDetection.detectChanges()}close(){this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(jt.h),r.Pb(o.g),r.Pb(qe.b),r.Pb(Le),r.Pb(r.i))},e.\u0275cmp=r.Jb({type:e,selectors:[["rename-entry-dialog"]],decls:16,vars:5,consts:[[1,"modal-header"],["mat-dialog-title","","trans",""],["type","button","mat-icon-button","","tabindex","-1",1,"close-button",3,"click"],["svgIcon","close"],["ngNativeValidate","",3,"ngSubmit"],[1,"many-inputs"],[1,"input-container"],["type","text","placeholder","Enter a name...","trans-placeholder","","required","","min","3",3,"formControl"],["class","error",4,"ngIf"],["type","button","mat-button","","trans","",1,"cancel-button",3,"click"],["type","submit","mat-raised-button","","color","accent","trans","",1,"submit-button",3,"disabled"],[1,"error"]],template:function(e,t){1&e&&(r.Vb(0,"div",0),r.Vb(1,"h2",1),r.Kc(2,"Rename"),r.Ub(),r.Vb(3,"button",2),r.cc("click",(function(){return t.close()})),r.Qb(4,"mat-icon",3),r.Ub(),r.Ub(),r.Vb(5,"form",4),r.cc("ngSubmit",(function(){return t.confirm()})),r.Vb(6,"mat-dialog-content",5),r.Vb(7,"div",6),r.Qb(8,"input",7),r.Ic(9,vn,2,1,"div",8),r.Ub(),r.Ub(),r.Vb(10,"mat-dialog-actions"),r.Vb(11,"button",9),r.cc("click",(function(){return t.close()})),r.Kc(12,"Cancel"),r.Ub(),r.Vb(13,"button",10),r.hc(14,"async"),r.Kc(15,"Rename"),r.Ub(),r.Ub(),r.Ub()),2&e&&(r.Db(8),r.mc("formControl",t.entryName),r.Db(1),r.mc("ngIf",t.errors.name),r.Db(4),r.mc("disabled",r.ic(14,3,t.loading)))},directives:[jt.i,Ut.a,Vt.b,tt.a,Pt.v,Pt.w,jt.f,Pt.d,Pt.F,Pt.u,Pt.j,n.t,jt.c],pipes:[n.b],styles:["[_nghost-%COMP%]{display:block;width:400px;max-width:100%}"],changeDetection:0}),e})(),wn=(()=>{class e{constructor(e,t,i){this.store=e,this.workspaces=t,this.currentUser=i}getActions(){return this.updateStatus(),this.actions}getSelectedEntries(){return this.store.selectSnapshot(Ge.selectedEntries)}updateStatus(){this.multipleEntriesSelected=this.store.selectSnapshot(Ge.multipleEntriesSelected),this.allStarred=this.store.selectSnapshot(Ge.allSelectedEntriesStarred),this.onlyFoldersSelected=this.store.selectSnapshot(Ge.onlyFoldersSelected)}hasPermission(e){if("files.create"===e){const e=this.store.selectSnapshot(Ge.activePage).folder,t=!this.multipleEntriesSelected&&this.getSelectedFolder()||e;return((null==t?void 0:t.permissions)||[])["files.update"]}return this.getSelectedEntries().every(t=>t.permissions[e])}getSelectedFolder(){return this.getSelectedEntries().find(e=>"folder"===e.type)}openUploadWindow(e){this.store.dispatch(new z(e))}}return e.\u0275fac=function(t){return new(t||e)(r.Zb(o.g),r.Zb(Je.a),r.Zb(Te.a))},e.\u0275prov=r.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),xn=(()=>{class e extends wn{constructor(){super(...arguments),this.actions=[{viewName:"Preview",icon:"visibility",showInCompact:!0,execute:()=>{this.store.dispatch(new M)},visible:()=>!this.onlyFoldersSelected},{viewName:"Manage People",icon:"person-add",showInCompact:!0,execute:()=>{this.store.dispatch(new P(Gt))},visible:()=>this.hasPermission("files.update")},{viewName:"Get shareable link",icon:"link",execute:()=>{this.store.dispatch(new P(fi,null,{panelClass:"share-link-dialog-container",autoFocus:!1}))},visible:()=>!this.multipleEntriesSelected&&this.hasPermission("files.update")},{viewName:"Add a star",icon:"star",execute:()=>{this.store.dispatch(new F(this.getSelectedEntries()))},visible:()=>!this.allStarred},{viewName:"Remove star",icon:"star-border",execute:()=>{this.store.dispatch(new L(this.getSelectedEntries()))},visible:()=>this.allStarred},{viewName:"New Folder",icon:"create-new-folder",separatorBefore:this.store.selectSnapshot(Ge.isMobile),execute:()=>{this.store.dispatch(new P(yi,{folder:this.getSelectedFolder()}))},visible:()=>this.hasPermission("files.create")},{viewName:"Upload Files",icon:"cloud-upload",execute:()=>{this.openUploadWindow("file")},visible:()=>this.hasPermission("files.create")&&this.store.selectSnapshot(Ge.isMobile)},{viewName:"Upload Folder",icon:"upload-folder-custom",execute:()=>{this.openUploadWindow("directory")},visible:()=>this.hasPermission("files.create")&&this.store.selectSnapshot(Ge.isMobile)},{viewName:"Move to",icon:"subdirectory-arrow-right",separatorBefore:this.store.selectSnapshot(Ge.isMobile),execute:()=>{this.store.dispatch(new P(fn,null,{panelClass:"move-entries-dialog-container"}))},visible:()=>this.hasPermission("files.update")},{viewName:"Rename",icon:"edit",execute:()=>{this.store.dispatch(new P(yn))},visible:()=>!this.multipleEntriesSelected&&this.hasPermission("files.update")},{viewName:"Make a copy",icon:"file-copy",execute:()=>{this.store.dispatch(new B)},visible:()=>this.hasPermission("files.create")},{viewName:"Download",icon:"file-download",execute:()=>{this.store.dispatch(new T)},visible:()=>this.hasPermission("files.download")},{viewName:"Delete",icon:"delete",showInCompact:!0,separatorBefore:!0,execute:()=>{this.store.dispatch(new x)},visible:()=>this.hasPermission("files.delete")}]}}return e.\u0275fac=function(t){return _n(t||e)},e.\u0275prov=r.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const _n=r.Xb(xn);let kn=(()=>{class e extends wn{constructor(){super(...arguments),this.actions=[{viewName:"New Folder",icon:"create-new-folder",execute:()=>{this.store.dispatch(new P(yi))},visible:()=>this.hasPermission("files.create")},{viewName:"Upload Files",icon:"cloud-upload",separatorBefore:!0,execute:()=>{this.openUploadWindow("file")},visible:()=>this.hasPermission("files.create")},{viewName:"Upload Folder",icon:"upload-folder-custom",execute:()=>{this.openUploadWindow("directory")},visible:()=>this.hasPermission("files.create")}]}}return e.\u0275fac=function(t){return On(t||e)},e.\u0275prov=r.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const On=r.Xb(kn),Cn=()=>!0;let Pn=(()=>{class e extends wn{constructor(e,t,i,n){super(e,n,t),this.store=e,this.currentUser=t,this.shares=i,this.workspaces=n,this.actions=[{viewName:"Preview",icon:"visibility",execute:()=>{this.store.dispatch(new M)},visible:()=>!this.onlyFoldersSelected},{viewName:"Manage People",icon:"person-add",showInCompact:!0,execute:()=>{this.store.dispatch(new P(Gt))},visible:()=>this.hasPermission("files.update")},{viewName:"Get shareable link",icon:"link",execute:()=>{this.store.dispatch(new P(fi,null,{panelClass:"share-link-dialog-container",autoFocus:!1}))},visible:()=>!this.multipleEntriesSelected&&this.hasPermission("files.update")},{viewName:"Rename",icon:"edit",execute:()=>{this.store.dispatch(new P(yn))},visible:()=>!this.multipleEntriesSelected&&this.hasPermission("files.update")},{viewName:"Make a copy",icon:"file-copy",execute:()=>{this.store.dispatch(new B)},visible:()=>this.hasPermission("files.download")&&this.hasPermission("files.create")},{viewName:"Download",icon:"file-download",execute:()=>{this.store.dispatch(new T)},visible:()=>this.hasPermission("files.download")},{viewName:"Remove",icon:"delete",showInCompact:!0,execute:()=>{const e=this.getSelectedEntries();this.shares.detachUser(this.currentUser.get("id"),e.map(e=>e.id)).subscribe(()=>{this.store.dispatch(new R(e))})},visible:Cn}]}}return e.\u0275fac=function(t){return new(t||e)(r.Zb(o.g),r.Zb(Te.a),r.Zb(mt),r.Zb(Je.a))},e.\u0275prov=r.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),In=(()=>{class e extends wn{constructor(){super(...arguments),this.actions=[{viewName:"Restore",icon:"restore",showInCompact:!0,execute:()=>{this.store.dispatch(new U)},visible:()=>this.hasPermission("files.update")},{viewName:"Delete Forever",icon:"delete-forever",showInCompact:!0,execute:()=>{this.deleteForever()},visible:()=>this.hasPermission("files.delete")}]}deleteForever(){this.store.dispatch(new I({title:"Delete Forever",body:"This will permanently delete selected items.",bodyBold:"This action can not be undone.",ok:"Delete Forever"},new V))}}return e.\u0275fac=function(t){return Dn(t||e)},e.\u0275prov=r.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Dn=r.Xb(In);let jn=(()=>{class e extends wn{constructor(){super(...arguments),this.actions=[{viewName:"Empty Trash",icon:"delete-forever",execute:()=>{this.emptyTrash()},visible:()=>this.hasPermission("files.delete")}]}emptyTrash(){this.store.dispatch(new I({title:"Empty Trash",body:"All files and folders in your trash will be permanently deleted.",bodyBold:"This action can not be undone.",ok:"Empty Trash"},new A))}}return e.\u0275fac=function(t){return Sn(t||e)},e.\u0275prov=r.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Sn=r.Xb(jn);let En=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Un=i("0MNC"),Vn=i("N2vX");const An=[{name:"Folders",type:"folder"},{name:"Images",type:"image"},{name:"Text documents",type:"text"},{name:"Video",type:"video"},{name:"Audio",type:"audio"},{name:"PDFs",type:"pdf"}];var Mn=i("/1cH"),Tn=i("Kj3r"),Fn=i("/uUt");const Ln={pagination:{data:[]}};var Rn=i("iB19");const $n=["trigger"],Nn=["auto"];function Bn(e,t){if(1&e){const e=r.Wb();r.Vb(0,"button",9),r.cc("click",(function(){return r.xc(e),r.gc().resetForm()})),r.Qb(1,"mat-icon",10),r.Ub()}}function zn(e,t){if(1&e&&(r.Vb(0,"div",17),r.Kc(1),r.Ub()),2&e){const e=r.gc().$implicit;r.Db(1),r.Lc(null==e.content.users[0]?null:e.content.users[0].display_name)}}function Kn(e,t){if(1&e&&(r.Vb(0,"div",18),r.Kc(1),r.hc(2,"formattedDate"),r.Ub()),2&e){const e=r.gc().$implicit;r.Db(1),r.Lc(r.ic(2,1,e.content.updated_at))}}function Qn(e,t){if(1&e&&(r.Tb(0),r.Vb(1,"mat-option",11),r.Qb(2,"file-icon",12),r.Vb(3,"div",13),r.Vb(4,"div",14),r.Kc(5),r.hc(6,"trans"),r.Ub(),r.Ic(7,zn,2,1,"div",15),r.Ub(),r.Ic(8,Kn,3,3,"div",16),r.Ub(),r.Sb()),2&e){const e=t.$implicit;r.Db(1),r.mc("value",e),r.Db(1),r.mc("type",e.content.type),r.Db(3),r.Lc("entryType"===e.type?r.ic(6,5,e.content.name):e.content.name),r.Db(2),r.mc("ngIf",e.content.users),r.Db(1),r.mc("ngIf",e.content.updated_at)}}let Wn=(()=>{class e{constructor(e,t){this.store=e,this.driveApi=t,this.defaultResults=[],this.formControl=new Pt.i,this.results$=new dt.a([]),this.displayFn=()=>this.lastQuery||"",this.setDefaultResults()}ngOnInit(){this.formControl.valueChanges.pipe(Object(Tn.a)(300),Object(Fn.a)(),Object(ct.a)(e=>"string"==typeof e),Object(Bt.a)(e=>this.search(e))).subscribe(e=>{this.results$.next((e.data||[]).map(e=>({type:"entry",content:e})))})}executeAction(e){const t=e.option.value;"entryType"===t.type?(this.openSearchPage({type:t.content.type}),this.resetForm()):this.store.dispatch(new ge(t.content)),this.closePanelAndBlur()}openSearchPage(e){this.store.dispatch(new f(e)).subscribe(()=>{this.closePanelAndBlur()})}search(e){return this.lastQuery=e,!e||e.length<3?Object(ki.a)(Ln):this.driveApi.getCurrentUserEntries({query:e,per_page:8})}setDefaultResults(){this.defaultResults=An.map(e=>({type:"entryType",content:e})),this.results$.next(this.defaultResults)}resetForm(){this.formControl.reset(),this.setDefaultResults(),this.lastQuery=null}closePanelAndBlur(){this.trigger.closePanel(),this.input.nativeElement.blur()}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(o.g),r.Pb(Le))},e.\u0275cmp=r.Jb({type:e,selectors:[["main-searchbar"]],viewQuery:function(e,t){var i;1&e&&(r.Qc($n,!0,Mn.d),r.Qc($n,!0,r.m),r.Qc(Nn,!0)),2&e&&(r.tc(i=r.dc())&&(t.trigger=i.first),r.tc(i=r.dc())&&(t.input=i.first),r.tc(i=r.dc())&&(t.autocomplete=i.first))},decls:10,vars:7,consts:[[1,"input-container",3,"ngSubmit"],["type","text","placeholder","Search files and folders...","trans-placeholder","",3,"matAutocomplete","formControl"],["trigger",""],["type","button","mat-icon-button","",1,"search-icon"],["svgIcon","search"],["type","button","mat-icon-button","","class","cancel-icon",3,"click",4,"ngIf"],[1,"file-types-autocomplete","mat-elevation-z1",3,"displayWith","optionSelected"],["auto","matAutocomplete"],[4,"ngFor","ngForOf"],["type","button","mat-icon-button","",1,"cancel-icon",3,"click"],["svgIcon","close"],[3,"value"],[3,"type"],[1,"meta"],[1,"name"],["class","owner",4,"ngIf"],["class","date",4,"ngIf"],[1,"owner"],[1,"date"]],template:function(e,t){if(1&e&&(r.Vb(0,"form",0),r.cc("ngSubmit",(function(){return t.openSearchPage({query:t.formControl.value})})),r.Qb(1,"input",1,2),r.Vb(3,"button",3),r.Qb(4,"mat-icon",4),r.Ub(),r.Ic(5,Bn,2,0,"button",5),r.Ub(),r.Vb(6,"mat-autocomplete",6,7),r.cc("optionSelected",(function(e){return t.executeAction(e)})),r.Ic(8,Qn,9,7,"ng-container",8),r.hc(9,"async"),r.Ub()),2&e){const e=r.uc(7);r.Db(1),r.mc("matAutocomplete",e)("formControl",t.formControl),r.Db(4),r.mc("ngIf",t.formControl.value),r.Db(1),r.mc("displayWith",t.displayFn),r.Db(2),r.mc("ngForOf",r.ic(9,5,t.results$))}},directives:[Pt.K,Pt.v,Pt.w,Mn.d,Pt.d,Ut.a,Pt.u,Pt.j,Vt.b,tt.a,n.t,Mn.a,n.s,Li.k,it],pipes:[n.b,zt.a,Rn.a],styles:["main-searchbar{display:block;width:100%;position:relative;border-radius:3px}main-searchbar .input-container input{padding:0 45px;box-shadow:none!important}main-searchbar .search-icon{position:absolute;top:2px;left:6px;z-index:5}main-searchbar .cancel-icon{position:absolute;top:3px;right:6px;z-index:1}.file-types-autocomplete.mat-autocomplete-panel{max-height:350px;color:var(--be-text);background-color:var(--be-background)}.file-types-autocomplete.mat-autocomplete-panel .mat-option{line-height:normal;margin-bottom:5px;font-size:1.4rem}.file-types-autocomplete.mat-autocomplete-panel .mat-option-text{display:flex;align-items:center}.file-types-autocomplete.mat-autocomplete-panel .mat-option-text .date,.file-types-autocomplete.mat-autocomplete-panel .mat-option-text file-icon{align-self:start}.file-types-autocomplete.mat-autocomplete-panel .mat-option-text .owner{color:var(--be-secondary-text)}.file-types-autocomplete.mat-autocomplete-panel .mat-option-text file-icon{margin-right:10px}.file-types-autocomplete.mat-autocomplete-panel .mat-option-text .date{margin-left:auto}"],encapsulation:2,changeDetection:0}),e})();var Xn=i("XhcP"),Hn=i("QGXG"),Zn=i("DzUk");let Jn=(()=>{class e{constructor(e,t,i){this.dialog=e,this.store=t,this.uploadInputConfig=i}openNewFolderDialog(){this.dialog.open(yi)}openUploadsPanel(e){this.store.dispatch(new E(e))}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(Hn.a),r.Pb(o.g),r.Pb(Ue))},e.\u0275cmp=r.Jb({type:e,selectors:[["sidebar-action-buttons"]],decls:8,vars:7,consts:[["mat-raised-button","","color","accent",1,"upload-button",3,"disabled","uploadButton","filesSelected"],["svgIcon","cloud-upload"],["trans",""],["mat-raised-button","","color","accent",1,"new-folder-button",3,"disabled","click"],["svgIcon","create-new-folder"]],template:function(e,t){1&e&&(r.Vb(0,"button",0),r.cc("filesSelected",(function(e){return t.openUploadsPanel(e)})),r.hc(1,"async"),r.Qb(2,"mat-icon",1),r.Vb(3,"span",2),r.Kc(4,"Upload"),r.Ub(),r.Ub(),r.Vb(5,"button",3),r.cc("click",(function(){return t.openNewFolderDialog()})),r.hc(6,"async"),r.Qb(7,"mat-icon",4),r.Ub()),2&e&&(r.mc("disabled",!r.ic(1,3,t.canUpload$))("uploadButton",t.uploadInputConfig),r.Db(5),r.mc("disabled",!r.ic(6,5,t.canUpload$)))},directives:[Vt.b,Zn.a,tt.a,Ut.a],pipes:[n.b],styles:["sidebar-action-buttons{display:block;text-align:center}sidebar-action-buttons .upload-button{margin-right:5px;margin-bottom:2px}sidebar-action-buttons .upload-button .mat-icon{margin-right:5px}sidebar-action-buttons .new-folder-button{max-width:60px;min-width:auto}"],encapsulation:2,changeDetection:0}),Object(a.b)([Object(o.d)(Ge.canUpload)],e.prototype,"canUpload$",void 0),e})();var qn=i("nQeM");const Gn=[Object(Nt.m)("fadeIn",[Object(Nt.l)(":enter",[Object(Nt.k)({opacity:0}),Object(Nt.e)("325ms ease-in",Object(Nt.k)({opacity:1}))])]),Object(Nt.m)("fadeOut",[Object(Nt.l)(":leave",[Object(Nt.k)({opacity:1,position:"absolute",left:"0",right:"0"}),Object(Nt.e)("325ms ease-out",Object(Nt.k)({opacity:0}))])])];var Yn=i("bv9b"),es=i("JxJJ"),ts=i("6SKC");function is(e,t){if(1&e&&(r.Vb(0,"div",4),r.Kc(1),r.hc(2,"formattedFileSize"),r.hc(3,"async"),r.hc(4,"trans"),r.hc(5,"formattedFileSize"),r.hc(6,"async"),r.hc(7,"trans"),r.Ub()),2&e){const e=r.gc();r.mc("@fadeIn",void 0),r.Db(1),r.Pc(" ",r.ic(2,5,r.ic(3,7,e.spaceUsed$))," ",r.ic(4,9,"of")," ",r.ic(5,11,r.ic(6,13,e.spaceAvailable$))," ",r.ic(7,15,"used"),"\n")}}function ns(e,t){1&e&&r.Qb(0,"skeleton",4),2&e&&r.mc("@fadeOut",void 0)}function ss(e,t){1&e&&(r.Vb(0,"div"),r.Vb(1,"a",5),r.Kc(2,"Upgrade Storage"),r.Ub(),r.Ub())}let as=(()=>{class e{constructor(e,t){this.settings=e,this.workspaces=t}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(St.a),r.Pb(Je.a))},e.\u0275cmp=r.Jb({type:e,selectors:[["available-space-indicator"]],decls:9,vars:12,consts:[["mode","determinate","color","accent",3,"value"],["class","usage-info",4,"ngIf","ngIfElse"],["skeleton",""],[4,"ngIf"],[1,"usage-info"],["mat-button","","routerLink","/billing/upgrade","target","_blank","trans","",1,"upgrade-link"]],template:function(e,t){if(1&e&&(r.Qb(0,"mat-progress-bar",0),r.hc(1,"async"),r.Ic(2,is,8,17,"div",1),r.hc(3,"async"),r.Ic(4,ns,1,1,"ng-template",null,2,r.Jc),r.Ic(6,ss,3,0,"div",3),r.hc(7,"async"),r.hc(8,"async")),2&e){const e=r.uc(5);var i=null;r.mc("value",r.ic(1,4,t.spaceUsedPercent$)),r.Db(2),r.mc("ngIf",null!==r.ic(3,6,t.spaceUsed$))("ngIfElse",e),r.Db(4),r.mc("ngIf",t.settings.get("billing.enable")&&(!r.ic(7,8,t.workspaces.activeId$)||(null==(i=r.ic(8,10,t.workspaces.activeWorkspace$))||null==i.currentUser?null:i.currentUser.is_owner)))}},directives:[Yn.a,n.t,es.a,Vt.a,s.j,Ut.a],pipes:[n.b,ts.a,zt.a],styles:["[_nghost-%COMP%]{display:block;flex:1 1 auto;position:relative}skeleton.text[_ngcontent-%COMP%]{height:18px}.usage-info[_ngcontent-%COMP%]{margin:5px 0;font-size:1.3rem;color:var(--be-secondary-text)}.upgrade-link[_ngcontent-%COMP%]{color:var(--be-link);font-size:1.3rem;margin-left:-16px}.mat-progress-bar[_ngcontent-%COMP%]{max-width:132px}"],data:{animation:[Gn]},changeDetection:0}),Object(a.b)([Object(o.d)(Ge.userSpaceUsed)],e.prototype,"spaceUsed$",void 0),Object(a.b)([Object(o.d)(Ge.userSpaceAvailable)],e.prototype,"spaceAvailable$",void 0),Object(a.b)([Object(o.d)(Ge.spaceUsedPercent)],e.prototype,"spaceUsedPercent$",void 0),e})();var rs=i("VfAk"),os=i("/RwR"),cs=i("iH1U");function ls(e,t){1&e&&(r.Vb(0,"span",12),r.Kc(1,"Personal workspace"),r.Ub())}const ds=function(e){return{count:e}};function hs(e,t){if(1&e&&(r.Vb(0,"span",12),r.Kc(1),r.hc(2,"trans"),r.Ub()),2&e){const e=r.gc().ngIf;r.Db(1),r.Lc(r.jc(2,1,":count members",r.qc(4,ds,(null==e?null:e.members_count)||0)))}}function ps(e,t){if(1&e&&(r.Vb(0,"div",5),r.Vb(1,"div",6),r.Vb(2,"div",7),r.Kc(3),r.Ub(),r.Vb(4,"div",8),r.Ic(5,ls,2,0,"span",9),r.Ic(6,hs,3,6,"span",9),r.Ub(),r.Ub(),r.Vb(7,"div",10),r.Qb(8,"mat-icon",11),r.Ub(),r.Ub()),2&e){const e=t.ngIf;r.gc();const i=r.uc(3);r.mc("matMenuTriggerFor",i),r.Db(3),r.Lc(e.name),r.Db(2),r.mc("ngIf",e.default),r.Db(1),r.mc("ngIf",!e.default)}}function us(e,t){1&e&&(r.Vb(0,"span",12),r.Kc(1,"Personal workspace"),r.Ub())}function bs(e,t){if(1&e&&(r.Vb(0,"span",12),r.Kc(1),r.hc(2,"trans"),r.Ub()),2&e){const e=r.gc().$implicit;r.Db(1),r.Lc(r.jc(2,1,":count members",r.qc(4,ds,(null==e?null:e.members_count)||0)))}}function gs(e,t){if(1&e){const e=r.Wb();r.Vb(0,"button",17),r.cc("click",(function(t){r.xc(e);const i=r.gc().$implicit;return r.gc().openWorkspaceMembersModal(i),t.stopPropagation()})),r.Qb(1,"mat-icon",18),r.Ub()}}function ms(e,t){if(1&e){const e=r.Wb();r.Vb(0,"div",13),r.cc("click",(function(){r.xc(e);const i=t.$implicit;return r.gc().selectWorkspace(i)})),r.hc(1,"async"),r.Qb(2,"mat-icon",14),r.hc(3,"async"),r.Vb(4,"div"),r.Vb(5,"div",15),r.Kc(6),r.Ub(),r.Vb(7,"div",8),r.Ic(8,us,2,0,"span",9),r.Ic(9,bs,3,6,"span",9),r.Ub(),r.Ub(),r.Ic(10,gs,2,0,"button",16),r.Ub()}if(2&e){const e=t.$implicit,i=r.gc();r.Hb("active",r.ic(1,8,i.workspaces.activeId$)===e.id),r.Db(2),r.Hb("visually-hidden",r.ic(3,10,i.workspaces.activeId$)!==e.id),r.Db(4),r.Lc(e.name),r.Db(2),r.mc("ngIf",e.default),r.Db(1),r.mc("ngIf",!e.default),r.Db(1),r.mc("ngIf",!e.default)}}function fs(e,t){if(1&e){const e=r.Wb();r.Vb(0,"div",19),r.cc("click",(function(){return r.xc(e),r.gc().openCrupdateWorkspaceModal()})),r.Qb(1,"mat-icon",20),r.Vb(2,"span",12),r.Kc(3,"Create new workspace"),r.Ub(),r.Ub()}}let vs=(()=>{class e{constructor(e,t,i,n,s,a){this.modal=e,this.workspaces=t,this.currentUser=i,this.toast=n,this.vcr=s,this.cd=a}ngOnInit(){this.workspaces.index({userId:this.currentUser.get("id"),withCount:["members"]}).subscribe()}openCrupdateWorkspaceModal(e){i.e(1).then(i.bind(null,"fm7k")).then(t=>{this.modal.open(t.WorkspaceModule.components.crupdateModal,{workspace:e},{viewContainerRef:this.vcr}),this.cd.markForCheck()})}openWorkspaceMembersModal(e){i.e(1).then(i.bind(null,"fm7k")).then(t=>{this.modal.open(t.WorkspaceModule.components.manageMembers,{workspace:e},{viewContainerRef:this.vcr}),this.cd.markForCheck(),this.menuTrigger.closeMenu()})}maybeDeleteWorkspace(e){const t=Object.assign(Object.assign({},cs.a),{replacements:{resource:"workspace"}});this.modal.open(os.a,t).afterClosed().pipe(Object(ct.a)(e=>e)).subscribe(()=>{this.workspaces.delete([e.id]).subscribe(()=>{this.toast.open("Workspace deleted.")},e=>{this.toast.open(e.message||rs.a.Default)})})}selectWorkspace(e){this.workspaces.select(e.id),this.menuTrigger.closeMenu()}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(Hn.a),r.Pb(Je.a),r.Pb(Te.a),r.Pb(qe.b),r.Pb(r.S),r.Pb(r.i))},e.\u0275cmp=r.Jb({type:e,selectors:[["workspace-selector"]],viewQuery:function(e,t){var i;1&e&&r.Qc(Mt.d,!0),2&e&&r.tc(i=r.dc())&&(t.menuTrigger=i.first)},decls:7,vars:7,consts:[[3,"matMenuTriggerFor",4,"ngIf"],[1,"workspace-menu"],["workspaceMenu","matMenu"],["mat-menu-item","","class","workspace-menu-item",3,"active","click",4,"ngFor","ngForOf"],["mat-menu-item","","class","new-workspace-menu-item",3,"click",4,"ngIf"],[3,"matMenuTriggerFor"],[1,"left"],[1,"role-name"],[1,"member-count"],["trans","",4,"ngIf"],[1,"right"],["svgIcon","unfold-more"],["trans",""],["mat-menu-item","",1,"workspace-menu-item",3,"click"],["svgIcon","check"],[1,"name"],["type","button","class","settings-button","mat-icon-button","",3,"click",4,"ngIf"],["type","button","mat-icon-button","",1,"settings-button",3,"click"],["svgIcon","settings"],["mat-menu-item","",1,"new-workspace-menu-item",3,"click"],["svgIcon","add"]],template:function(e,t){1&e&&(r.Ic(0,ps,9,4,"div",0),r.hc(1,"async"),r.Vb(2,"mat-menu",1,2),r.Ic(4,ms,11,12,"div",3),r.hc(5,"async"),r.Ic(6,fs,4,0,"div",4),r.Ub()),2&e&&(r.mc("ngIf",r.ic(1,3,t.workspaces.activeWorkspace$)),r.Db(4),r.mc("ngForOf",r.ic(5,5,t.workspaces.available$)),r.Db(2),r.mc("ngIf",t.currentUser.hasPermission("workspaces.create")))},directives:[n.t,Mt.e,n.s,Mt.d,tt.a,Ut.a,Mt.b,Vt.b],pipes:[n.b,zt.a],styles:[".mat-menu-trigger[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;cursor:pointer;height:100%}.right[_ngcontent-%COMP%]{margin-left:auto;flex-shrink:0}.role-name[_ngcontent-%COMP%]{font-weight:500;text-transform:capitalize}.workspace-menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:normal;min-width:248px;line-height:normal;height:52px}.workspace-menu-item.active[_ngcontent-%COMP%]{color:var(--be-accent-default)}.workspace-menu-item.active[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]{color:inherit}.workspace-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{flex-shrink:0;color:inherit}.workspace-menu-item[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{margin-right:10px;flex:1 1 auto;font-size:1.5rem;text-transform:capitalize}.new-workspace-menu-item[_ngcontent-%COMP%]{border-top:1px solid var(--be-divider-default);margin-top:8px;padding-top:4px;font-size:1.5rem}.member-count[_ngcontent-%COMP%]{color:var(--be-secondary-text);font-size:1.3rem}.settings-button[_ngcontent-%COMP%]{margin-left:auto;color:var(--be-secondary-text);width:30px;height:30px;line-height:30px}.settings-button[_ngcontent-%COMP%]:hover{color:var(--be-accent-default)}.settings-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:18px;height:18px;line-height:18px;margin-right:0}"],changeDetection:0}),e})();const ys=function(){return{exact:!0}};let ws=(()=>{class e{constructor(e,t){this.urls=e,this.store=t}openFolder(e){this.store.dispatch(new m(e))}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(Re),r.Pb(o.g))},e.\u0275cmp=r.Jb({type:e,selectors:[["sidebar"]],decls:17,vars:8,consts:[[1,"sidebar-body"],[1,"drive-folders"],["routerLinkActive","active",1,"sidebar-menu-item",3,"routerLink","routerLinkActiveOptions","folderDropTarget"],["svgIcon","arrow-drop-down",1,"toggle-expansion-icon",3,"click"],["svgIcon","network-drive-custom"],["trans","",1,"text"],[3,"folderSelected"],["driveTree",""],["position","drive-sidebar","itemClass","sidebar-menu-item",1,"sidebar-menu"],[1,"usage-container"],["svgIcon","storage"],[1,"sidebar-footer"]],template:function(e,t){if(1&e){const e=r.Wb();r.Vb(0,"div",0),r.Qb(1,"sidebar-action-buttons"),r.Vb(2,"div",1),r.Vb(3,"div",2),r.hc(4,"async"),r.Vb(5,"mat-icon",3),r.cc("click",(function(t){return r.xc(e),r.uc(10).toggle(),t.stopPropagation()})),r.Ub(),r.Qb(6,"mat-icon",4),r.Vb(7,"span",5),r.Kc(8,"All Files"),r.Ub(),r.Ub(),r.Vb(9,"folders-tree",6,7),r.cc("folderSelected",(function(e){return t.openFolder(e)})),r.Ub(),r.Ub(),r.Qb(11,"custom-menu",8),r.Vb(12,"div",9),r.Qb(13,"mat-icon",10),r.Qb(14,"available-space-indicator"),r.Ub(),r.Ub(),r.Vb(15,"div",11),r.Qb(16,"workspace-selector"),r.Ub()}if(2&e){const e=r.uc(10);r.Db(3),r.mc("routerLink",t.urls.driveRoot())("routerLinkActiveOptions",r.pc(7,ys))("folderDropTarget",r.ic(4,5,t.rootFolder$)),r.Db(2),r.Hb("expanded",e.expanded)}},directives:[Jn,s.i,s.h,pn,tt.a,Ut.a,mn,qn.a,as,vs],pipes:[n.b],styles:['.be-light-mode sidebar{background-color:var(--be-background-alternative)}sidebar{display:flex;flex-direction:column;width:100%;min-height:100%;color:var(--be-text);position:relative}sidebar .sidebar-body{flex:1 1 auto}sidebar sidebar-action-buttons{padding:28px 0}sidebar .drag-over.can-drop{background-color:var(--be-accent-emphasis)}sidebar .sidebar-menu-item{display:flex;align-items:center;width:100%;height:48px;min-height:inherit;line-height:inherit;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;color:inherit;outline:none;cursor:pointer;-webkit-user-drag:none}sidebar .sidebar-menu-item.active{color:var(--be-accent-default);background-color:var(--be-accent-emphasis)}sidebar .sidebar-menu-item.active .mat-icon{color:inherit}sidebar .sidebar-menu-item.active .text{font-weight:500}sidebar .sidebar-menu-item:not(.active):not(.drag-over):hover{background-color:var(--be-hover)}sidebar .sidebar-menu-item .mat-icon:not(.toggle-expansion-icon){margin-right:15px}sidebar .sidebar-menu-item .mat-icon{color:var(--be-secondary-text)}sidebar .sidebar-menu-item:not(.active) .text{opacity:.8}sidebar .sidebar-menu .sidebar-menu-item{padding-left:24px;padding-right:24px}sidebar .sidebar-footer:hover{background-color:var(--be-hover)}sidebar workspace-selector{display:block;border-top:1px solid var(--be-divider-default);border-radius:4px;margin:0 20px;height:80px}sidebar .usage-container{display:flex;margin-top:24px;padding:24px 0 0 24px;border-top:1px solid var(--be-divider-default)}sidebar .usage-container .mat-icon{margin-right:15px;margin-top:-4px;color:var(--be-secondary-text)}sidebar folders-tree .mat-tree-node:before{display:block;content:" ";width:24px;flex:0 0 24px}'],encapsulation:2,changeDetection:0}),Object(a.b)([Object(o.d)(Ge.activePage)],e.prototype,"activePage$",void 0),Object(a.b)([Object(o.d)(Ge.rootFolder)],e.prototype,"rootFolder$",void 0),e})();var xs=i("Qu3c");const _s=["textArea"];function ks(e,t){1&e&&(r.Tb(0),r.Vb(1,"span",3),r.Kc(2,"Saving..."),r.Ub(),r.Sb())}function Os(e,t){if(1&e){const e=r.Wb();r.Vb(0,"div",6),r.Vb(1,"label",7),r.Kc(2,"Description"),r.Ub(),r.Vb(3,"textarea",8,9),r.cc("enterKeybind",(function(){return r.xc(e),r.uc(4).blur()}))("blur",(function(){r.xc(e);const t=r.uc(4),i=r.gc(2).ngIf;return r.gc().updateDescription(i,t.value)})),r.Ub(),r.Ub()}if(2&e){const e=r.gc(2).ngIf;r.Db(3),r.mc("value",e.description)}}function Cs(e,t){if(1&e){const e=r.Wb();r.Vb(0,"div",10),r.cc("click",(function(){return r.xc(e),r.gc(3).editDescription()})),r.Kc(1),r.hc(2,"trans"),r.Ub(),r.Vb(3,"button",11),r.cc("click",(function(){return r.xc(e),r.gc(3).editDescription()})),r.hc(4,"trans"),r.Qb(5,"mat-icon",12),r.Ub()}if(2&e){const e=r.gc(2).ngIf;r.Db(1),r.Lc(e.description||r.ic(2,2,"Add a description")),r.Db(2),r.mc("matTooltip",r.ic(4,4,"Edit description"))}}function Ps(e,t){if(1&e&&(r.Ic(0,Os,5,1,"div",4),r.hc(1,"async"),r.Ic(2,Cs,6,6,"ng-template",null,5,r.Jc)),2&e){const e=r.uc(3),t=r.gc(2);r.mc("ngIf",r.ic(1,2,t.editingDescription$))("ngIfElse",e)}}function Is(e,t){if(1&e&&(r.Tb(0),r.Ic(1,ks,3,0,"ng-container",1),r.hc(2,"async"),r.Ic(3,Ps,4,4,"ng-template",null,2,r.Jc),r.Sb()),2&e){const e=r.uc(4),t=r.gc();r.Db(1),r.mc("ngIf",r.ic(2,2,t.savingDescription$))("ngIfElse",e)}}let Ds=(()=>{class e{constructor(e){this.store=e,this.editingDescription$=new dt.a(!1),this.savingDescription$=new dt.a(!1)}ngAfterViewInit(){this.textArea.changes.subscribe(e=>{e.length&&e.first.nativeElement.focus()})}editDescription(){this.editingDescription$.next(!0)}updateDescription(e,t){this.editingDescription$.next(!1),e.description!==t&&(this.savingDescription$.next(!0),this.store.dispatch(new J(e,t)).pipe(Object(l.a)(()=>this.savingDescription$.next(!1))).subscribe())}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(o.g))},e.\u0275cmp=r.Jb({type:e,selectors:[["entry-description-panel"]],viewQuery:function(e,t){var i;1&e&&r.Qc(_s,!0),2&e&&r.tc(i=r.dc())&&(t.textArea=i)},decls:2,vars:3,consts:[[4,"ngIf"],[4,"ngIf","ngIfElse"],["descriptionSaved",""],["trans",""],["class","input-container",4,"ngIf","ngIfElse"],["descriptionEl",""],[1,"input-container"],["for","description","trans","",1,"hidden"],["rows","4","id","description",3,"value","enterKeybind","blur"],["textArea",""],[1,"description-text",3,"click"],["mat-icon-button","",3,"matTooltip","click"],["svgIcon","edit"]],template:function(e,t){1&e&&(r.Ic(0,Is,5,4,"ng-container",0),r.hc(1,"async")),2&e&&r.mc("ngIf",r.ic(1,1,t.entry$))},directives:[n.t,Ut.a,Vt.b,xs.a,tt.a],pipes:[n.b,zt.a],styles:["entry-description-panel{color:var(--be-text);display:flex;align-items:center;max-width:215px}entry-description-panel .description-text{cursor:text;vertical-align:sub;flex:1 1 auto;opacity:.8}"],encapsulation:2,changeDetection:0}),Object(a.b)([Object(o.d)(Ge.selectedEntryOrActiveFolder)],e.prototype,"entry$",void 0),e})();function js(e,t){if(1&e&&r.Qb(0,"img",2),2&e){const e=r.gc();r.mc("src",e.getPreviewUrl(),r.Ac)("ngClass",e.file.type+"-file")}}function Ss(e,t){if(1&e&&r.Qb(0,"file-icon",3),2&e){const e=r.gc();r.mc("type","folder"===e.file.type?e.getFolderIcon():e.file.type)}}let Es=(()=>{class e{getPreviewUrl(){let e=this.file.url;if(this.file.thumbnail){const t=e.includes("?")?"&":"?";e+=t+"thumbnail=true"}return e}getFolderIcon(){return this.file.users&&this.file.users.length>1?"shared-folder":"folder"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Jb({type:e,selectors:[["file-thumbnail"]],inputs:{file:"file"},decls:2,vars:2,consts:[["class","file-color","draggable","false",3,"src","ngClass",4,"ngIf"],[3,"type",4,"ngIf"],["draggable","false",1,"file-color",3,"src","ngClass"],[3,"type"]],template:function(e,t){1&e&&(r.Ic(0,js,1,2,"img",0),r.Ic(1,Ss,1,1,"file-icon",1)),2&e&&(r.mc("ngIf","image"===t.file.type),r.Db(1),r.mc("ngIf","image"!==t.file.type))},directives:[n.t,n.q,it],styles:[".be-light-mode file-thumbnail{background-color:var(--be-background-alternative)}file-thumbnail{display:block}file-thumbnail img{display:block;max-width:100%;height:auto}"],encapsulation:2,changeDetection:0}),e})();function Us(e,t){if(1&e&&r.Qb(0,"file-thumbnail",16),2&e){const e=r.gc(2).ngIf;r.mc("file",e)}}const Vs=function(e){return{workspace:e}};function As(e,t){if(1&e&&(r.Qb(0,"mat-icon",17),r.hc(1,"trans"),r.hc(2,"async")),2&e){const e=r.gc(3);var i;r.mc("matTooltip",r.jc(1,1,"Everyone at :workspace workspace",r.qc(6,Vs,null==(i=r.ic(2,4,e.workspaces.activeWorkspace$))?null:i.name)))}}function Ms(e,t){if(1&e&&r.Qb(0,"img",18),2&e){const e=t.$implicit;r.mc("src",e.avatar,r.Ac)("matTooltip",e.display_name)}}function Ts(e,t){if(1&e&&(r.Vb(0,"div",7),r.Vb(1,"div",8),r.Kc(2,"Owner"),r.Ub(),r.Vb(3,"div",10),r.Kc(4),r.Ub(),r.Ub()),2&e){const e=r.gc(2).ngIf;r.Db(4),r.Lc(e.users[0].display_name)}}function Fs(e,t){if(1&e){const e=r.Wb();r.Tb(0),r.Ic(1,Us,1,1,"file-thumbnail",2),r.Vb(2,"div",3),r.Ic(3,As,3,8,"mat-icon",4),r.Ic(4,Ms,1,2,"img",5),r.Ub(),r.Vb(5,"div",6),r.Vb(6,"div",7),r.Vb(7,"div",8),r.Kc(8,"Type"),r.Ub(),r.Vb(9,"div",9),r.Kc(10),r.Ub(),r.Ub(),r.Vb(11,"div",7),r.Vb(12,"div",8),r.Kc(13,"Size"),r.Ub(),r.Vb(14,"div",10),r.Kc(15),r.hc(16,"formattedFileSize"),r.Ub(),r.Ub(),r.Vb(17,"div",7),r.Vb(18,"div",8),r.Kc(19,"Storage Used"),r.Ub(),r.Vb(20,"div",10),r.Kc(21),r.hc(22,"formattedFileSize"),r.Ub(),r.Ub(),r.Vb(23,"div",11),r.Vb(24,"div",8),r.Kc(25,"Location"),r.Ub(),r.Vb(26,"div",12),r.cc("click",(function(){return r.xc(e),r.gc(2).openLocation()})),r.Qb(27,"mat-icon",13),r.Vb(28,"span",14),r.Kc(29),r.hc(30,"trans"),r.hc(31,"async"),r.Ub(),r.Ub(),r.Ub(),r.Ic(32,Ts,5,1,"div",15),r.Vb(33,"div",7),r.Vb(34,"div",8),r.Kc(35,"Last Updated"),r.Ub(),r.Vb(36,"div",10),r.Kc(37),r.hc(38,"formattedDate"),r.Ub(),r.Ub(),r.Vb(39,"div",7),r.Vb(40,"div",8),r.Kc(41,"Created"),r.Ub(),r.Vb(42,"div",10),r.Kc(43),r.hc(44,"formattedDate"),r.Ub(),r.Ub(),r.Qb(45,"entry-description-panel"),r.Ub(),r.Sb()}if(2&e){const e=r.gc().ngIf,t=r.gc();var i;r.Db(1),r.mc("ngIf","image"===e.type),r.Db(2),r.mc("ngIf",e.workspace_id),r.Db(1),r.mc("ngForOf",e.users),r.Db(6),r.Lc(e.type),r.Db(5),r.Lc(r.ic(16,10,e.file_size)),r.Db(6),r.Lc(r.ic(22,12,e.file_size)),r.Db(8),r.Lc(r.ic(30,14,(null==(i=r.ic(31,16,t.parent$))?null:i.name)||"All Files")),r.Db(3),r.mc("ngIf",e.users&&e.users.length),r.Db(5),r.Lc(r.ic(38,18,e.updated_at)),r.Db(6),r.Lc(r.ic(44,20,e.created_at))}}function Ls(e,t){if(1&e&&(r.Tb(0),r.Ic(1,Fs,46,22,"ng-container",0),r.Sb()),2&e){const e=t.ngIf;r.gc();const i=r.uc(3);r.Db(1),r.mc("ngIf",e.updated_at)("ngIfElse",i)}}function Rs(e,t){1&e&&(r.Vb(0,"div",19),r.Qb(1,"mat-icon",20),r.Vb(2,"div",21),r.Kc(3,"Select file or folder to view its details."),r.Ub(),r.Ub())}let $s=(()=>{class e{constructor(e,t){this.store=e,this.workspaces=t}openLocation(){const e=this.store.selectSnapshot(Ge.selectedEntryParent);this.store.dispatch(new m(e))}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(o.g),r.Pb(Je.a))},e.\u0275cmp=r.Jb({type:e,selectors:[["details-panel"]],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["nothingSelected",""],["class","preview",3,"file",4,"ngIf"],[1,"users-list"],["class","users-list-img workspace-img","svgIcon","groups",3,"matTooltip",4,"ngIf"],["class","users-list-img",3,"src","matTooltip",4,"ngFor","ngForOf"],[1,"details-list"],[1,"item"],["trans","",1,"name"],["trans","",1,"value","type-value"],[1,"value"],[1,"item","location-item"],[1,"value",3,"click"],["svgIcon","folder"],[1,"text"],["class","item",4,"ngIf"],[1,"preview",3,"file"],["svgIcon","groups",1,"users-list-img","workspace-img",3,"matTooltip"],[1,"users-list-img",3,"src","matTooltip"],[1,"nothing-selected"],["svgIcon","selection-tool-custom",1,"icon"],["trans","",1,"text"]],template:function(e,t){if(1&e&&(r.Ic(0,Ls,2,2,"ng-container",0),r.hc(1,"async"),r.Ic(2,Rs,4,0,"ng-template",null,1,r.Jc)),2&e){const e=r.uc(3);r.mc("ngIf",r.ic(1,2,t.entry$))("ngIfElse",e)}},directives:[n.t,n.s,Ut.a,tt.a,Ds,Es,xs.a],pipes:[n.b,ts.a,zt.a,Rn.a],styles:["details-panel{display:block;padding:24px}details-panel file-thumbnail{margin-bottom:20px}details-panel .users-list{display:flex;flex-wrap:wrap;margin-bottom:20px}details-panel .users-list-img{width:36px;height:36px;flex:0 0 36px;-o-object-fit:cover;object-fit:cover;margin-right:10px;border-radius:50%;overflow:hidden;color:var(--be-secondary-text)}details-panel .workspace-img{border:2px solid var(--be-secondary-text);border-radius:4px;padding:4px}details-panel .details-list .item{display:flex;align-items:center;margin-bottom:10px}details-panel .details-list .item .name{width:120px;flex-shrink:0;color:var(--be-text);opacity:.8}details-panel .details-list .item .value{flex-shrink:0}details-panel .details-list .item .type-value{text-transform:capitalize}details-panel .nothing-selected{display:flex;align-items:center;font-size:1.7rem;font-weight:400}details-panel .nothing-selected .mat-icon{margin-right:5px;width:36px;height:36px;flex-shrink:0}details-panel .location-item .value{font-weight:500;cursor:pointer}details-panel .location-item .value .mat-icon{color:var(--be-secondary-text);margin-right:4px;vertical-align:bottom}details-panel .location-item .value:hover .text{color:var(--be-link);text-decoration:underline}"],encapsulation:2,changeDetection:0}),Object(a.b)([Object(o.d)(Ge.selectedEntryOrActiveFolder)],e.prototype,"entry$",void 0),Object(a.b)([Object(o.d)(Ge.selectedEntryParent)],e.prototype,"parent$",void 0),e})();function Ns(e,t){if(1&e&&(r.Tb(0),r.Qb(1,"file-icon",6),r.Vb(2,"div",7),r.Kc(3),r.Ub(),r.Sb()),2&e){const e=r.gc().ngIf;r.Db(1),r.mc("type",e.type),r.Db(2),r.Lc(e.name)}}function Bs(e,t){if(1&e&&(r.Tb(0),r.Ic(1,Ns,4,2,"ng-container",2),r.Sb()),2&e){const e=t.ngIf;r.gc();const i=r.uc(5);r.Db(1),r.mc("ngIf",e.type)("ngIfElse",i)}}function zs(e,t){if(1&e&&(r.Qb(0,"file-icon",8),r.Vb(1,"div",7),r.Kc(2),r.hc(3,"trans"),r.hc(4,"async"),r.Ub()),2&e){const e=r.gc();var i;r.Db(2),r.Lc(r.ic(3,1,null==(i=r.ic(4,3,e.activePage$))?null:i.viewName))}}let Ks=(()=>{class e{constructor(e){this.store=e}close(){this.store.dispatch(new j)}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(o.g))},e.\u0275cmp=r.Jb({type:e,selectors:[["details-sidebar"]],decls:9,vars:4,consts:[[1,"header"],[1,"title"],[4,"ngIf","ngIfElse"],["defaultTitle",""],["mat-icon-button","",1,"close-button",3,"click"],["svgIcon","close"],[3,"type"],[1,"name"],["type","folder"]],template:function(e,t){if(1&e&&(r.Vb(0,"div",0),r.Vb(1,"div",1),r.Ic(2,Bs,2,2,"ng-container",2),r.hc(3,"async"),r.Ic(4,zs,5,5,"ng-template",null,3,r.Jc),r.Vb(6,"button",4),r.cc("click",(function(){return t.close()})),r.Qb(7,"mat-icon",5),r.Ub(),r.Ub(),r.Ub(),r.Qb(8,"details-panel")),2&e){const e=r.uc(5);r.Db(2),r.mc("ngIf",r.ic(3,2,t.entry$))("ngIfElse",e)}},directives:[n.t,Vt.b,tt.a,$s,it],pipes:[n.b,zt.a],styles:["details-sidebar{display:block;padding:28px 0}details-sidebar>.header{margin-bottom:20px;padding:0 24px}details-sidebar>.header .title{display:flex;align-items:center}details-sidebar>.header .title .name{font-size:2.1rem;word-wrap:break-word;overflow:hidden;text-overflow:ellipsis}details-sidebar>.header .title file-icon{width:24px;height:24px;margin-right:18px}details-sidebar>.header .close-button{color:var(--be-secondary-text);margin-left:auto}details-sidebar .mat-tab-label{min-width:50%}"],encapsulation:2,changeDetection:0}),Object(a.b)([Object(o.d)(Ge.selectedEntryOrActiveFolder)],e.prototype,"entry$",void 0),Object(a.b)([Object(o.d)(Ge.activePage)],e.prototype,"activePage$",void 0),e})(),Qs=(()=>{class e{constructor(){this.driveEntry=!0}get fileId(){return this.entry.id}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Jb({type:e,selectors:[["files-grid-item"]],hostVars:3,hostBindings:function(e,t){2&e&&(r.Eb("data-id",t.fileId),r.Hb("drive-entry",t.driveEntry))},inputs:{entry:"entry"},decls:6,vars:3,consts:[[1,"preview-container"],[1,"preview",3,"file"],[1,"files-grid-item-footer"],[3,"type"],[1,"text"]],template:function(e,t){1&e&&(r.Vb(0,"div",0),r.Qb(1,"file-thumbnail",1),r.Ub(),r.Vb(2,"figcaption",2),r.Qb(3,"file-icon",3),r.Vb(4,"div",4),r.Kc(5),r.Ub(),r.Ub()),2&e&&(r.Db(1),r.mc("file",t.entry),r.Db(2),r.mc("type",t.entry.type),r.Db(2),r.Lc(t.entry.name))},directives:[Es,it],styles:["files-grid{display:flex;flex-wrap:wrap;align-content:flex-start;margin:-8px}files-grid:empty{margin:0}files-grid-item{box-shadow:0 1px 5px rgba(50,50,50,.1);border:1px solid var(--be-divider-default);background-color:var(--be-background);flex:0 0 auto;margin:8px;border-radius:4px;overflow:hidden;transition:opacity .2s ease-in-out}@media only screen and (max-width:360px){files-grid-item{width:calc(100% - 16px)}}@media only screen and (min-width:360px) and (max-width:600px){files-grid-item{width:calc(50% - 16px)}}@media only screen and (min-width:600px) and (max-width:950px){files-grid-item{width:calc(33.3333333333% - 16px)}}@media only screen and (min-width:950px) and (max-width:1200px){files-grid-item{width:calc(25% - 16px)}}@media only screen and (min-width:1200px) and (max-width:1470px){files-grid-item{width:calc(20% - 16px)}}@media only screen and (min-width:1470px){files-grid-item{width:calc(16.6666666667% - 16px)}}files-grid-item.drag-over .files-grid-item-footer{background-color:var(--be-accent-emphasis)}files-grid-item.selected{border-color:var(--be-accent-default)}files-grid-item.selected .files-grid-item-footer{background-color:var(--be-accent-emphasis);color:var(--be-accent-default)}files-grid-item .preview-container{width:100%;padding-top:calc(100% - 48px);position:relative}files-grid-item .preview-container .preview{width:100%;height:100%;position:absolute;top:0;left:0;right:0;bottom:0}files-grid-item .preview-container .preview file-icon{width:74px;height:74px;position:absolute;top:0;left:0;bottom:0;right:0;margin:auto}files-grid-item .preview-container .preview img{width:auto;max-width:100%;height:100%;margin:auto;-o-object-fit:cover;object-fit:cover}.files-grid-item-footer{display:flex;align-items:center;padding:16px}.files-grid-item-footer file-icon{width:16px;height:16px;margin-right:16px}.files-grid-item-footer .text{line-height:16px;margin-right:auto;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"],encapsulation:2,changeDetection:0}),e})(),Ws=(()=>{class e{constructor(e,t){this.store=e,this.cache=t,this.initial={x:0,y:0,scrollTop:0}}start(e){this.cacheClientRects(),this.createSelectBox(),this.bindScroll(),this.gridElements=this.getGridElements(),this.initial=Object.assign(Object.assign({},this.hammerToRelative(e)),{scrollTop:this.cache.scrollCont.scrollTop}),this.selectBox.style.top=this.initial.y+"px",this.selectBox.style.left=this.initial.x+"px"}move(e){this.lastPanEvent=e,this.resizeBox(e)}end(){this.removeSelectBox(),this.dispatchSelectedAction(),this.unbindScroll(),this.gridElements=[]}resizeBox(e){if(e||(e=this.lastPanEvent),!e||!this.selectBox)return;const t=this.getNewSelectorPosition(e);this.scrollAndRepositionSelector(t),this.selectIntersectingElements()}getNewSelectorPosition(e){const t=this.hammerToRelative(e);let i,n=this.initial.x,s=this.initial.y,a=t.x,r=t.y;return n>a&&(i=a,a=n,n=i),s>r&&(i=r,r=s,s=i),{width:a-n,height:r-s,top:s,right:n+(a-n),bottom:s+(r-s),left:n}}reachedAreaEdge(e){const t=this.rectToRelative(this.cache.filesContRect);return e.left<=t.left?"left":e.top<=t.top?"top":e.right>=t.right?"right":e.bottom>=t.bottom&&"bottom"}scrollAndRepositionSelector(e){const t=this.cache.scrollCont,i=this.reachedAreaEdge(e);e.top+=this.initial.scrollTop,"bottom"===i?t.scrollBy({top:4}):"top"===i&&t.scrollBy({top:-4});const n=this.cache.scrollCont.scrollTop-this.initial.scrollTop,s=Math.abs(n);n<0&&(e.top-=s),e.height+=s,"left"===i||"right"===i||e.top+e.height>=this.cache.scrollCont.scrollHeight||this.applyPosition(e)}applyPosition(e){this.selectBox.style.width=e.width+"px",this.selectBox.style.height=e.height+"px",this.selectBox.style.left=e.left+"px",this.selectBox.style.top=e.top+"px"}selectIntersectingElements(){const e=this.selectBox.getBoundingClientRect();this.gridElements.forEach(t=>{const i=t.getBoundingClientRect();i.top+i.height>e.top&&i.left+i.width>e.left&&i.bottom-i.height<e.bottom&&i.right-i.width<e.right?t.classList.add("selected"):t.classList.remove("selected")})}rectToRelative(e){return{width:e.width,height:e.height,left:e.left-this.cache.filesContRect.left,top:e.top-this.cache.filesContRect.top,right:e.right-this.cache.filesContRect.left,bottom:e.bottom-this.cache.filesContRect.top}}hammerToRelative(e){return{x:e.center.x-this.cache.filesContRect.left,y:e.center.y-this.cache.filesContRect.top}}dispatchSelectedAction(){const e=this.gridElements.filter(e=>e.classList.contains("selected")).map(e=>+e.dataset.id),t=this.store.selectSnapshot(Ge.entries).filter(t=>e.indexOf(t.id)>-1);this.store.dispatch(new pe(t))}createSelectBox(){this.selectBox=document.createElement("div"),this.selectBox.classList.add("files-select-box"),this.cache.filesCont.appendChild(this.selectBox)}removeSelectBox(){this.selectBox&&(this.selectBox.remove(),this.selectBox=null)}dragging(){return!!this.selectBox}cacheClientRects(){this.cache.filesContRect=this.cache.filesCont.getBoundingClientRect(),this.cache.scrollContRect=this.cache.scrollCont.getBoundingClientRect()}getGridElements(){return Array.from(this.cache.filesCont.querySelectorAll(".drive-entry"))}bindScroll(){this.scrollListener=()=>this.resizeBox(),this.cache.scrollCont.addEventListener("scroll",this.scrollListener)}unbindScroll(){this.cache.scrollCont.removeEventListener("scroll",this.scrollListener)}}return e.\u0275fac=function(t){return new(t||e)(r.Zb(o.g),r.Zb(En))},e.\u0275prov=r.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Xs=(()=>{class e{constructor(e,t){this.domCache=e,this.store=t}start(e){this.store.dispatch(new we)}move(e){this.domCache.dragPreview.style.top=e.center.y+"px",this.domCache.dragPreview.style.left=e.center.x+"px"}end(){this.store.dispatch(new xe)}}return e.\u0275fac=function(t){return new(t||e)(r.Zb(En),r.Zb(o.g))},e.\u0275prov=r.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Hs=(()=>{class e{constructor(e,t,i,n,s,a){this.zone=e,this.el=t,this.store=i,this.dragSelect=n,this.dragEntry=s,this.domCache=a,this.subscriptions=[]}ngOnInit(){this.bindToHammer();const e=this.store.select(Ge.isMobile).subscribe(e=>{this.hammerManager.get("pan").set({enable:!e}),this.hammerManager.get("doubletap").set({enable:!e})});this.subscriptions.push(e)}ngOnDestroy(){this.dragSelect.removeSelectBox(),this.subscriptions.forEach(e=>e.unsubscribe())}bindToHammer(){this.createHammerManager(),this.onPanStart(),this.onPan(),this.onPanEnd(),this.onTap(),this.onDoubleTap()}createHammerManager(){this.zone.runOutsideAngular(()=>{this.hammerManager=new Hammer.Manager(this.domCache.filesCont);const e=new Hammer.Tap,t=new Hammer.Pan,i=new Hammer.Tap({event:"doubletap",taps:2});this.hammerManager.add([e,i,t]),this.hammerManager.get("doubletap").recognizeWith("tap")})}onPanStart(){this.hammerManager.on("panstart",e=>{const t=this.getEntryEl(e);if(t){this.panService=this.dragEntry;const e=this.getEntryByEl(t);this.store.selectSnapshot(Ge.selectedEntries).find(t=>t.id===e.id)||this.store.dispatch(new v([this.getEntryByEl(t)]))}else this.panService=this.dragSelect;this.panService.start(e)})}onPan(){this.hammerManager.on("pan",e=>{this.panService&&this.panService.move(e)})}onPanEnd(){this.hammerManager.on("panend",()=>{this.panService&&this.panService.end()})}onTap(){this.hammerManager.on("tap",e=>{const t=this.getEntryEl(e);this.dragSelect.removeSelectBox(),t?this.store.dispatch(new be(this.getEntryByEl(t),e.srcEvent.ctrlKey||e.srcEvent.metaKey)):e.target.closest(".files-container")&&this.store.dispatch(new w)})}onDoubleTap(){this.hammerManager.on("doubletap",e=>{const t=this.getEntryEl(e);t&&this.store.dispatch(new ge(this.getEntryByEl(t)))})}getEntryEl(e){return e.target.closest(".drive-entry")}getEntryByEl(e){const t=+e.dataset.id;return this.store.selectSnapshot(Ge.entries).find(e=>e.id===+t)}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(r.B),r.Pb(r.m),r.Pb(o.g),r.Pb(Ws),r.Pb(Xs),r.Pb(En))},e.\u0275dir=r.Kb({type:e,selectors:[["","driveHammerInteractions",""]],contentQueries:function(e,t,i){var n;1&e&&r.Ib(i,Qs,!0),2&e&&r.tc(n=r.dc())&&(t.gridItems=n)}}),e})();var Zs=i("INnT");let Js=(()=>{class e{constructor(e){this.el=e}ngAfterViewInit(){this.selectedEntryIds.subscribe(e=>{const t=this.el.nativeElement.querySelectorAll(".drive-entry");t.length&&Array.from(t).forEach(t=>{e.indexOf(parseInt(t.dataset.id,10))>-1?t.classList.add("selected"):t.classList.remove("selected")})})}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(r.m))},e.\u0275dir=r.Kb({type:e,selectors:[["","toggleSelectedClass",""]]}),Object(a.b)([Object(o.d)(Ge.selectedEntryIds)],e.prototype,"selectedEntryIds",void 0),e})();var qs=i("sgCb");function Gs(e,t=[]){return Object(a.a)(this,void 0,void 0,(function*(){const i=yield(n=e,new Promise(e=>{n.createReader().readEntries(t=>e(t))}));var n;for(const e in i){const n=i[e];n.isDirectory?yield Gs(n,t):t.push(yield Ys(n))}return t}))}function Ys(e){return new Promise(t=>{e.file(i=>{t(new qs.a(i,e.fullPath))})})}let ea=(()=>{class e{constructor(e){this.el=e,this.disableDropzoneClick=!1,this.disableDropzone=!1,this.uploadConfig={},this.filesDropped=new r.o}ngOnInit(){const e=this.el.nativeElement;e.addEventListener("dragenter",e=>this.handleDragEnter(e)),e.addEventListener("dragover",e=>this.handleDragOver(e)),e.addEventListener("dragleave",e=>this.handleDragLeave(e)),e.addEventListener("drop",e=>this.handleDrop(e)),this.disableDropzoneClick||(this.clickButton?this.clickButton.nativeElement:e).addEventListener("click",()=>this.handleClick())}ngOnDestroy(){this.removeClassesFromDropzone()}handleClick(){this.disableDropzone||Object(Se.a)(this.uploadConfig).then(e=>{this.emitUploadEvent(e)})}handleDragEnter(e){this.dropzoneDisabled(e)||this.el.nativeElement.classList.add("file-over-dropzone")}handleDragOver(e){return e.preventDefault&&e.preventDefault(),e.dataTransfer.dropEffect=this.dropzoneDisabled(e)?"none":"move",!1}handleDragLeave(e){const t=document.elementFromPoint(e.clientX,e.clientY);this.el.nativeElement.contains(t)||this.removeClassesFromDropzone()}handleDrop(e){return Object(a.a)(this,void 0,void 0,(function*(){if(e.stopPropagation(),e.preventDefault(),this.removeClassesFromDropzone(),this.dropzoneDisabled(e)||!e.dataTransfer.items)return;const t=Array.from(e.dataTransfer.items).filter(e=>"file"===e.kind).map(e=>e.webkitGetAsEntry());t.length&&this.emitUploadEvent(yield function(e){return Object(a.a)(this,void 0,void 0,(function*(){let t=[];for(const i in e){const n=e[i];n.isDirectory?t=t.concat(yield Gs(n)):t.push(yield Ys(n))}return t}))}(t))}))}emitUploadEvent(e){this.filesDropped.emit(e)}removeClassesFromDropzone(){this.el.nativeElement.classList.remove("file-over-dropzone")}dropzoneDisabled(e){const t=e.dataTransfer.types.find(e=>"files"===e.toLowerCase());return this.disableDropzone||!t}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(r.m))},e.\u0275dir=r.Kb({type:e,selectors:[["","fileDropzone",""]],inputs:{disableDropzoneClick:"disableDropzoneClick",disableDropzone:"disableDropzone",clickButton:"clickButton",uploadConfig:["fileDropzone","uploadConfig"]},outputs:{filesDropped:"filesDropped"}}),e})(),ta=(()=>{class e{constructor(){this.threshold=50}ngOnInit(){this.el||(this.el=new r.m(document)),this.zone.runOutsideAngular(()=>{this.scrollSub=Object(dn.a)(this.getScrollContainer(),"scroll",{capture:!0,passive:!0}).pipe(Object(Tn.a)(20)).subscribe(e=>this.onScroll(e.target))})}ngOnDestroy(){this.scrollSub&&this.scrollSub.unsubscribe()}getScrollContainer(){return this.el?this.el.nativeElement:document}onScroll(e){if(!e||e!==this.el.nativeElement||!this.canLoadMore()||this.isLoading())return;const t=parseInt(this.threshold),i=this.el&&void 0!==e.scrollTop;(i?e.scrollTop+e.offsetHeight:window.scrollY+window.innerHeight)>=(i?e.scrollHeight-t:document.documentElement.scrollHeight-t)&&this.zone.run(()=>{this.loadMoreItems()})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.Kb({type:e}),e})(),ia=(()=>{class e extends ta{constructor(e,t,i){super(),this.el=e,this.store=t,this.zone=i}loadMoreItems(){const e=this.store.selectSnapshot(Ge.currentPage)+1;this.store.dispatch(new $({page:e}))}isLoading(){return this.store.selectSnapshot(Ge.loading)}canLoadMore(){return this.store.selectSnapshot(Ge.canLoadMoreEntries)}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(r.m),r.Pb(o.g),r.Pb(r.B))},e.\u0275dir=r.Kb({type:e,selectors:[["","driveInfiniteScroll",""]],features:[r.Ab]}),e})();var na=i("itXk");let sa=(()=>{class e{constructor(e,t,i){this.data=e,this.store=t,this.currentUser=i,this.contextMenu=!0,this.store.dispatch(this.data&&this.data.entry?new fe(this.data.entry):new w)}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(rn,8),r.Pb(o.g),r.Pb(Te.a))},e.\u0275cmp=r.Jb({type:e,selectors:[["drive-context-menu"]],hostVars:2,hostBindings:function(e,t){2&e&&r.Hb("context-menu",t.contextMenu)},decls:1,vars:0,template:function(e,t){1&e&&r.Qb(0,"context-actions-container")},encapsulation:2,changeDetection:0}),e})();var aa=i("VaLf");function ra(e,t){1&e&&r.Qb(0,"skeleton"),2&e&&r.mc("@fadeOut",void 0)}function oa(e,t){1&e&&r.Qb(0,"mat-icon",9)}function ca(e,t){1&e&&r.Qb(0,"mat-icon",10)}function la(e,t){if(1&e){const e=r.Wb();r.Tb(0),r.Vb(1,"div",4,5),r.cc("click",(function(){r.xc(e);const i=t.last,n=t.$implicit,s=r.uc(2),a=r.gc(2);return i?a.openContextMenu(n,s):a.openPage(n)})),r.Vb(3,"span",6),r.Kc(4),r.hc(5,"trans"),r.Ub(),r.Ic(6,oa,1,0,"mat-icon",7),r.Ub(),r.Ic(7,ca,1,0,"mat-icon",8),r.Sb()}if(2&e){const e=t.$implicit,i=t.last,n=t.first;r.Db(1),r.Hb("no-action",!e.hasActions),r.Db(3),r.Lc(n?r.ic(5,5,e.viewName):e.viewName),r.Db(2),r.mc("ngIf",i&&e.hasActions),r.Db(1),r.mc("ngIf",!i)}}function da(e,t){if(1&e&&(r.Vb(0,"div",2),r.Ic(1,la,8,7,"ng-container",3),r.hc(2,"async"),r.Ub()),2&e){const e=r.gc();r.mc("@fadeIn",void 0),r.Db(1),r.mc("ngForOf",r.ic(2,2,e.breadcrumb))}}let ha=(()=>{class e{constructor(e,t,i,n,s){this.entriesApi=e,this.i18n=t,this.contextMenu=i,this.store=n,this.workspaces=s,this.breadcrumb=new dt.a([]),this.loading$=new dt.a(!0)}ngOnInit(){Object(na.a)([this.store.select(Ge.meta),this.store.select(Ge.userFoldersLoaded),this.workspaces.activeWorkspace$]).pipe(Object(ct.a)(([e,t,i])=>e.currentPage&&t&&!!i),Object(wi.a)(1)).subscribe(()=>{this.loading$.next(!1),this.bindToActivePage()})}ngOnDestroy(){this.activePageSub&&this.activePageSub.unsubscribe()}openPage(e){this.store.dispatch(e.folder?new m(e.folder):new d.a(["/drive/shares"]))}openContextMenu(e,t){let i={originX:"start",overlayX:"start"};switch(e.name){case"trash":return this.contextMenu.open(sa,t,i);case"folder":return i=Object.assign({data:{entry:this.store.selectSnapshot(Ge.activeFolder)}},i),this.contextMenu.open(sa,t,i)}}generateBreadCrumb(e){var t;const i=[this.getRootBreadcrumb(e)];if(null===(t=e.folder)||void 0===t?void 0:t.id){const t=this.getBreadcrumbForFolder(e.folder);i.push(...t)}this.breadcrumb.next(i)}getBreadcrumbForFolder(e){const t=this.store.selectSnapshot(Ge.flatFolders)||[];return(e.path?e.path.split("/"):[e.id]).map(i=>{const n=e.id===+i?e:t.find(e=>e.id===+i);if(n)return new se(n)}).filter(e=>!!e)}getRootBreadcrumb(e){if("folder"===e.name){const t=this.workspaces.activeId$.value,i=new se(this.store.selectSnapshot(Ge.rootFolder));return t&&e.folder.workspace_id===t?Object.assign(Object.assign({},i),{viewName:this.workspaces.activeWorkspace$.value.name}):this.store.selectSnapshot(Ge.userOwnsActiveFolder)?i:ee}return e}bindToActivePage(){this.activePageSub=Object(na.a)([this.store.select(Ge.activePage),this.store.select(Ge.flatFolders)]).pipe(Object(Fn.a)(),Object(ct.a)(([e])=>{var t;return"folder"!==e.name||(null===(t=e.folder)||void 0===t?void 0:t.name)})).subscribe(([e])=>{this.generateBreadCrumb(e)})}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(Le),r.Pb(aa.a),r.Pb(cn),r.Pb(o.g),r.Pb(Je.a))},e.\u0275cmp=r.Jb({type:e,selectors:[["entry-breadcrumbs"]],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["breadcrumbs",""],[1,"breadcrumb-container"],[4,"ngFor","ngForOf"],[1,"breadcrumb-item",3,"click"],["button",""],[1,"name"],["svgIcon","arrow-drop-down",4,"ngIf"],["class","separator","svgIcon","keyboard-arrow-right",4,"ngIf"],["svgIcon","arrow-drop-down"],["svgIcon","keyboard-arrow-right",1,"separator"]],template:function(e,t){if(1&e&&(r.Ic(0,ra,1,1,"skeleton",0),r.hc(1,"async"),r.Ic(2,da,3,4,"ng-template",null,1,r.Jc)),2&e){const e=r.uc(3);r.mc("ngIf",r.ic(1,2,t.loading$))("ngIfElse",e)}},directives:[n.t,es.a,n.s,tt.a],pipes:[n.b,zt.a],styles:["[_nghost-%COMP%]{display:block;position:relative;min-height:33px;max-width:100%;overflow:hidden}.breadcrumb-container[_ngcontent-%COMP%]{display:flex;align-items:center}skeleton.text[_ngcontent-%COMP%]{position:absolute;max-width:250px;height:1.8rem;margin:auto 0;top:0;bottom:0}.breadcrumb-item[_ngcontent-%COMP%]{font-size:1.8rem;color:var(--be-text);border-radius:8px;padding:4px 8px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;cursor:pointer}.breadcrumb-item[_ngcontent-%COMP%]:hover{background-color:var(--be-hover)}.breadcrumb-item[_ngcontent-%COMP%]:first-of-type{text-transform:capitalize}.breadcrumb-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{vertical-align:middle}.breadcrumb-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .separator[_ngcontent-%COMP%]{color:var(--be-secondary-text)}"],data:{animation:[Gn]},changeDetection:0}),e})(),pa=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Jb({type:e,selectors:[["drive-toolbar"]],decls:1,vars:0,template:function(e,t){1&e&&r.Qb(0,"entry-breadcrumbs")},directives:[ha],styles:["drive-toolbar{display:block;padding:14px 28px;width:100%;overflow:hidden}drive-toolbar entry-breadcrumbs{margin:0 -8px}"],encapsulation:2,changeDetection:0}),e})();const ua=[{name:"file_size",viewName:"Size"},{name:"name",viewName:"Name"},{name:"updated_at",viewName:"Last Modified"},{name:"created_at",viewName:"Upload Date"},{name:"type",viewName:"Type"},{name:"extension",viewName:"Extension"}];function ba(e,t){if(1&e){const e=r.Wb();r.Vb(0,"button",9),r.cc("click",(function(){r.xc(e);const i=t.$implicit;return r.gc(2).changeSort(i)})),r.Qb(1,"mat-icon",10),r.Vb(2,"span",11),r.Kc(3),r.Ub(),r.Ub()}if(2&e){const e=t.$implicit,i=r.gc().ngIf;r.Hb("active",i.column===e.name),r.Db(3),r.Lc(e.viewName)}}function ga(e,t){if(1&e){const e=r.Wb();r.Tb(0),r.Vb(1,"span",1),r.Kc(2,"Sort by"),r.Ub(),r.Vb(3,"button",2),r.Vb(4,"span",3),r.Vb(5,"span"),r.Kc(6),r.hc(7,"trans"),r.Ub(),r.Qb(8,"mat-icon",4),r.Ub(),r.Qb(9,"mat-icon",5),r.Ub(),r.Vb(10,"mat-menu",6,7),r.Vb(12,"div",8),r.Kc(13,"Direction"),r.Ub(),r.Vb(14,"button",9),r.cc("click",(function(){return r.xc(e),r.gc().changeDirection("asc")})),r.Qb(15,"mat-icon",10),r.Vb(16,"span",11),r.Kc(17,"Ascending"),r.Ub(),r.Ub(),r.Vb(18,"button",9),r.cc("click",(function(){return r.xc(e),r.gc().changeDirection("desc")})),r.Qb(19,"mat-icon",10),r.Vb(20,"span",11),r.Kc(21,"Descending"),r.Ub(),r.Ub(),r.Qb(22,"div",12),r.Vb(23,"div",8),r.Kc(24,"Sort By"),r.Ub(),r.Ic(25,ba,4,3,"button",13),r.Ub(),r.Sb()}if(2&e){const e=t.ngIf,i=r.uc(11),n=r.gc();r.Db(3),r.mc("matMenuTriggerFor",i)("disabled",n.btnDisabled),r.Db(3),r.Lc(r.ic(7,8,n.getSortViewName(e.column))),r.Db(8),r.Hb("active","asc"===e.direction),r.Db(4),r.Hb("active","desc"===e.direction),r.Db(7),r.mc("ngForOf",n.availableSorts)}}const ma={column:"updated_at",direction:"desc"};let fa=(()=>{class e{constructor(){this.btnDisabled=!1,this.availableSorts=ua,this.sort$=new dt.a(ma)}changeSort(e){this.sort$.next(Object.assign(Object.assign({},this.sort$.value),{column:e.name})),this.propagateChange(this.sort$.value)}changeDirection(e){this.sort$.next(Object.assign(Object.assign({},this.sort$.value),{direction:e})),this.propagateChange(this.sort$.value)}getSortViewName(e){return this.availableSorts.find(t=>t.name===e).viewName}writeValue(e){this.sort$.next(e||ma)}registerOnChange(e){this.propagateChange=e}registerOnTouched(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Jb({type:e,selectors:[["entries-sort-button"]],inputs:{btnDisabled:"btnDisabled"},features:[r.Cb([{provide:Pt.s,useExisting:e,multi:!0}])],decls:2,vars:3,consts:[[4,"ngIf"],["trans","",1,"label"],[1,"no-style",3,"matMenuTriggerFor","disabled"],[1,"sort-button-content"],["svgIcon","keyboard-arrow-down",1,"arrow-icon"],["svgIcon","sort",1,"mobile-sort-button-content"],[1,"drive-sort-menu"],["menu","matMenu"],["trans","",1,"title"],["mat-menu-item","",3,"click"],["svgIcon","check"],["trans",""],[1,"separator"],["mat-menu-item","",3,"active","click",4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(r.Ic(0,ga,26,10,"ng-container",0),r.hc(1,"async")),2&e&&r.mc("ngIf",r.ic(1,1,t.sort$))},directives:[n.t,Ut.a,Mt.d,tt.a,Mt.e,Mt.b,n.s],pipes:[n.b,zt.a],styles:["entries-sort-button{display:inline-block}entries-sort-button .label{color:var(--be-secondary-text);padding-right:3px}entries-sort-button .arrow-icon{width:14px;height:14px;position:relative;top:2px}entries-sort-button button:disabled{color:var(--be-secondary-text);cursor:default}entries-sort-button .mobile-sort-button-content,entries-sort-button button:disabled .mat-icon{display:none}.drive-sort-menu .mat-menu-item{padding-left:8px;line-height:35px;height:35px;font-size:1.5rem}.drive-sort-menu .mat-menu-item.active{color:var(--be-accent-default)}.drive-sort-menu .mat-menu-item.active .mat-icon{visibility:visible;color:inherit}.drive-sort-menu .mat-menu-item .mat-icon{visibility:hidden;margin-right:8px;width:20px;height:20px}.drive-sort-menu .separator{height:1px;background-color:var(--be-divider-default);margin:5px 0 20px}.drive-sort-menu .title{text-transform:uppercase;padding-left:32px;font-size:1.2rem;font-weight:500;margin-bottom:10px}"],encapsulation:2,changeDetection:0}),e})();const va=["moreActionsButton"];function ya(e,t){1&e&&r.Qb(0,"div",5)}function wa(e,t){if(1&e){const e=r.Wb();r.Vb(0,"button",6),r.cc("click",(function(){return r.xc(e),r.gc(2).$implicit.execute()})),r.Qb(1,"mat-icon",7),r.Vb(2,"span",8),r.Kc(3),r.Ub(),r.Ub()}if(2&e){const e=r.gc(2).$implicit;r.Db(1),r.mc("svgIcon",e.icon),r.Db(2),r.Lc(e.viewName)}}function xa(e,t){if(1&e){const e=r.Wb();r.Vb(0,"button",9),r.cc("click",(function(){return r.xc(e),r.gc(2).$implicit.execute()})),r.hc(1,"trans"),r.Qb(2,"mat-icon",7),r.Ub()}if(2&e){const e=r.gc(2).$implicit;r.mc("matTooltip",r.ic(1,2,e.viewName)),r.Db(2),r.mc("svgIcon",e.icon)}}function _a(e,t){if(1&e&&(r.Tb(0),r.Ic(1,ya,1,0,"div",3),r.Ic(2,wa,4,2,"button",4),r.Ic(3,xa,3,4,"button",1),r.Sb()),2&e){const e=r.gc().$implicit,t=r.gc();r.Db(1),r.mc("ngIf",!t.compact&&e.separatorBefore),r.Db(1),r.mc("ngIf",!t.compact),r.Db(1),r.mc("ngIf",t.compact&&e.showInCompact)}}function ka(e,t){if(1&e&&(r.Tb(0),r.Ic(1,_a,4,3,"ng-container",2),r.Sb()),2&e){const e=t.$implicit;r.Db(1),r.mc("ngIf",e.visible())}}function Oa(e,t){if(1&e){const e=r.Wb();r.Vb(0,"button",9,10),r.cc("click",(function(){return r.xc(e),r.gc().openMoreActionsMenu()})),r.hc(2,"trans"),r.Qb(3,"mat-icon",11),r.Ub()}2&e&&r.mc("matTooltip",r.ic(2,1,"More actions"))}let Ca=(()=>{class e{constructor(e,t,i){this.store=e,this.injector=t,this.contextMenu=i,this.compact=!1,this.hasMoreActions$=new dt.a(!1),this.actions$=new dt.a([]),this.subscription=Object(na.a)([this.store.select(Ge.activePage),this.store.select(Ge.selectedEntry)]).subscribe(e=>{this.setActions(e[0],e[1]),this.hasMoreActions$.next(this.actions$.value.some(e=>!e.showInCompact))})}ngOnDestroy(){this.subscription.unsubscribe()}openMoreActionsMenu(){const e=this.store.selectSnapshot(Ge.selectedEntryOrActiveFolder);this.contextMenu.open(sa,this.moreActionsButton.nativeElement,{data:{entry:e}})}setActions(e,t){"trash"!==e.name||t?"trash"===e.name&&t?this.actions$.next(this.injector.get(In).getActions()):"shares"===e.name&&t?this.actions$.next(this.injector.get(Pn).getActions()):e.folder&&!(null==t?void 0:t.id)?this.actions$.next(this.injector.get(kn).getActions()):"starred"===e.name||"recent"===e.name?this.actions$.next(this.injector.get(xn).getActions()):t?this.setActionsForEntry():this.actions$.next([]):this.actions$.next(this.injector.get(jn).getActions())}setActionsForEntry(){this.store.selectSnapshot(Ge.userOwnsActiveFolder)?this.actions$.next(this.injector.get(xn).getActions()):this.actions$.next(this.injector.get(Pn).getActions())}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(o.g),r.Pb(r.t),r.Pb(cn))},e.\u0275cmp=r.Jb({type:e,selectors:[["context-actions-container"]],viewQuery:function(e,t){var i;1&e&&r.Qc(va,!0,r.m),2&e&&r.tc(i=r.dc())&&(t.moreActionsButton=i.first)},hostVars:2,hostBindings:function(e,t){2&e&&r.Hb("compact",t.compact)},inputs:{compact:"compact"},decls:4,vars:6,consts:[[4,"ngFor","ngForOf"],["mat-icon-button","",3,"matTooltip","click",4,"ngIf"],[4,"ngIf"],["class","separator",4,"ngIf"],["class","context-menu-item",3,"click",4,"ngIf"],[1,"separator"],[1,"context-menu-item",3,"click"],[3,"svgIcon"],["trans",""],["mat-icon-button","",3,"matTooltip","click"],["moreActionsButton",""],["svgIcon","more-vert"]],template:function(e,t){1&e&&(r.Ic(0,ka,2,1,"ng-container",0),r.hc(1,"async"),r.Ic(2,Oa,4,3,"button",1),r.hc(3,"async")),2&e&&(r.mc("ngForOf",r.ic(1,2,t.actions$)),r.Db(2),r.mc("ngIf",r.ic(3,4,t.compact&&t.hasMoreActions$)))},directives:[n.s,n.t,tt.a,Ut.a,Vt.b,xs.a],pipes:[n.b,zt.a],encapsulation:2,changeDetection:0}),e})();const Pa=["moreActionsButton"];let Ia=(()=>{class e{constructor(e,t){this.store=e,this.contextMenu=t}toggleViewMode(){const e=this.store.selectSnapshot(Ge.viewMode);this.store.dispatch(new D("list"===e?"grid":"list"))}ToggleDetails(){this.store.dispatch(new j)}openMoreActionsMenu(){const e=this.store.selectSnapshot(Ge.selectedEntry);this.contextMenu.open(sa,this.moreActionsButton.nativeElement,{data:{entry:e}})}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(o.g),r.Pb(cn))},e.\u0275cmp=r.Jb({type:e,selectors:[["toolbar-actions"]],viewQuery:function(e,t){var i;1&e&&r.Qc(Pa,!0,r.m),2&e&&r.tc(i=r.dc())&&(t.moreActionsButton=i.first)},decls:8,vars:8,consts:[[3,"compact"],[1,"always-visible-actions"],["mat-icon-button","",3,"click"],[3,"svgIcon"],["svgIcon","info"]],template:function(e,t){1&e&&(r.Qb(0,"context-actions-container",0),r.Vb(1,"div",1),r.Vb(2,"button",2),r.cc("click",(function(){return t.toggleViewMode()})),r.Qb(3,"mat-icon",3),r.hc(4,"async"),r.Ub(),r.Vb(5,"button",2),r.cc("click",(function(){return t.ToggleDetails()})),r.hc(6,"async"),r.Qb(7,"mat-icon",4),r.Ub(),r.Ub()),2&e&&(r.mc("compact",!0),r.Db(3),r.mc("svgIcon","list"===r.ic(4,4,t.viewMode)?"view-list":"view-module"),r.Db(2),r.Hb("active",r.ic(6,6,t.activityOpen)))},directives:[Ca,Vt.b,tt.a],pipes:[n.b],styles:["toolbar-actions{display:flex;align-items:center;color:var(--be-secondary-text)}toolbar-actions context-actions-container{border-right:1px solid var(--be-divider-default);padding-right:5px;margin-right:5px}toolbar-actions .always-visible-actions .active{color:var(--be-accent-default)}"],encapsulation:2,changeDetection:0}),Object(a.b)([Object(o.d)(Ge.anythingSelected)],e.prototype,"anythingSelected",void 0),Object(a.b)([Object(o.d)(Ge.viewMode)],e.prototype,"viewMode",void 0),Object(a.b)([Object(o.d)(Ge.detailsOpen)],e.prototype,"activityOpen",void 0),Object(a.b)([Object(o.d)(Ge.multipleEntriesSelected)],e.prototype,"multipleEntriesSelected$",void 0),e})(),Da=(()=>{class e{constructor(e){this.store=e,this.sortFormControl=new Pt.i({column:this.store.selectSnapshot(Ge.sortColumn),direction:this.store.selectSnapshot(Ge.sortDirection)})}ngOnInit(){Object(na.a)([this.store.select(Ge.sortColumn),this.store.select(Ge.sortDirection)]).subscribe(([e,t])=>{this.sortFormControl.setValue({column:e,direction:t},{emitEvent:!1})}),this.sortFormControl.valueChanges.subscribe(e=>{this.store.dispatch(new N({orderBy:e.column,orderDir:e.direction}))})}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(o.g))},e.\u0275cmp=r.Jb({type:e,selectors:[["file-list-header"]],decls:4,vars:4,consts:[[1,"sort-header"],[3,"btnDisabled","formControl"]],template:function(e,t){var i;1&e&&(r.Vb(0,"div",0),r.Qb(1,"entries-sort-button",1),r.hc(2,"async"),r.Ub(),r.Qb(3,"toolbar-actions")),2&e&&(r.Db(1),r.mc("btnDisabled",null==(i=r.ic(2,2,t.activePage$))?null:i.disableSort)("formControl",t.sortFormControl))},directives:[fa,Pt.u,Pt.j,Ia],pipes:[n.b],styles:["file-list-header{display:flex;align-items:center;border-bottom:1px solid var(--be-divider-default);padding-bottom:8px;margin:0 28px;color:var(--be-text);max-height:49px}file-list-header toolbar-actions{margin-left:auto}@media only screen and (max-width:450px){file-list-header entries-sort-button .label,file-list-header entries-sort-button .sort-button-content{display:none}file-list-header entries-sort-button .mobile-sort-button-content{display:inline-block}}"],encapsulation:2,changeDetection:0}),Object(a.b)([Object(o.d)(Ge.sortColumn)],e.prototype,"sortColumn$",void 0),Object(a.b)([Object(o.d)(Ge.activePage)],e.prototype,"activePage$",void 0),e})();const ja=["scrollContainer"],Sa=["filesContainer"];function Ea(e,t){1&e&&(r.Tb(0),r.Qb(1,"drive-toolbar"),r.Qb(2,"file-list-header"),r.Sb())}const Ua=[xn,kn,Pn,In,jn];let Va=(()=>{class e{constructor(e,t,i,n,s,a,r,o){this.store=e,this.route=t,this.currentUser=i,this.localStorage=n,this.domCache=s,this.breakpoints=a,this.workspaces=r,this.settings=o,this.subscriptions=[]}ngOnInit(){this.setViewMode(),this.cacheDemoElements(),this.observeBreakpointChanges(),this.bindToWorkspace(),this.store.dispatch(new u),this.store.dispatch(new b),this.store.dispatch(new H(this.currentUser.getModel())),this.currentUser.model$.subscribe(e=>{this.store.dispatch(new H(e))})}ngOnDestroy(){this.store.dispatch(W),this.subscriptions.forEach(e=>e.unsubscribe()),this.subscriptions=[]}uploadFiles(e){this.store.dispatch(new E(e))}toggleSidebar(){this.store.dispatch(new S)}cacheDemoElements(){this.domCache.filesCont=this.filesContainer.nativeElement,this.domCache.scrollCont=this.scrollContainer.nativeElement,this.domCache.dragPreview=this.dragPreview.nativeElement}setViewMode(){this.store.dispatch(new D(this.localStorage.get("bedrive.viewMode",this.settings.get("drive.default_view","grid"))))}observeBreakpointChanges(){const e=this.breakpoints.observe("(max-width: 1100px)").subscribe(e=>{this.store.dispatch(new De({isMobile:e.matches}))});this.subscriptions.push(e)}bindToWorkspace(){const e=this.workspaces.activeId$.pipe(Object(ot.a)(1)).subscribe(()=>{this.store.dispatch([new N({},new se(this.store.selectSnapshot(Ge.rootFolder))),new Ie,new u])}),t=this.workspaces.activeWorkspace$.pipe(Object(ct.a)(e=>!!e)).subscribe(e=>{this.store.dispatch(new Z(e))}),i=this.workspaces.bindToNotificationClick();this.subscriptions.push(e,i,t)}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(o.g),r.Pb(s.a),r.Pb(Te.a),r.Pb(Ne.a),r.Pb(En),r.Pb(Un.a),r.Pb(Je.a),r.Pb(St.a))},e.\u0275cmp=r.Jb({type:e,selectors:[["drive"]],viewQuery:function(e,t){var i;1&e&&(r.Ec(ja,!0,r.m),r.Ec(Sa,!0),r.Ec(rt,!0,r.m)),2&e&&(r.tc(i=r.dc())&&(t.scrollContainer=i.first),r.tc(i=r.dc())&&(t.filesContainer=i.first),r.tc(i=r.dc())&&(t.dragPreview=i.first))},features:[r.Cb([...Ua,cn,Je.a])],decls:27,vars:34,consts:[["menuPosition","drive-navbar",3,"showToggleButton","toggleButtonClick"],[1,"nav-searchbar"],[1,"left-sidebar",3,"mode","opened"],["position","end",1,"right-sidebar",3,"opened","mode"],["driveHammerInteractions",""],["slot","ads.drive"],[4,"ngIf"],[1,"loading-overlay-container"],["toggleSelectedClass","","contextMenu","entry","fileDropzone","","driveInfiniteScroll","",1,"files-container",3,"disableContextMenu","disableDropzoneClick","disableDropzone","filesDropped"],["filesContainer","","scrollContainer",""],[1,"overlay",3,"isVisible"]],template:function(e,t){1&e&&(r.Vb(0,"material-navbar",0),r.cc("toggleButtonClick",(function(){return t.toggleSidebar()})),r.hc(1,"async"),r.Qb(2,"main-searchbar",1),r.Ub(),r.Vb(3,"mat-sidenav-container"),r.Vb(4,"mat-sidenav",2),r.hc(5,"async"),r.hc(6,"async"),r.Qb(7,"sidebar"),r.Ub(),r.Vb(8,"mat-sidenav",3),r.hc(9,"async"),r.hc(10,"async"),r.Qb(11,"details-sidebar"),r.Ub(),r.Vb(12,"mat-sidenav-content",4),r.Qb(13,"ad-host",5),r.Ic(14,Ea,3,0,"ng-container",6),r.hc(15,"async"),r.Vb(16,"div",7),r.Vb(17,"div",8,9),r.cc("filesDropped",(function(e){return t.uploadFiles(e)})),r.hc(20,"async"),r.hc(21,"async"),r.hc(22,"async"),r.Qb(23,"router-outlet"),r.Ub(),r.Qb(24,"loading-indicator",10),r.hc(25,"async"),r.Ub(),r.Ub(),r.Ub(),r.Qb(26,"entry-drag-preview")),2&e&&(r.mc("showToggleButton",r.ic(1,14,t.isMobile$)),r.Db(4),r.mc("mode",r.ic(5,16,t.isMobile$)?"over":"side")("opened",r.ic(6,18,t.sidebarOpen$)),r.Db(4),r.mc("opened",r.ic(9,20,t.activityOpen$))("mode",r.ic(10,22,t.isMobile$)?"over":"side"),r.Db(4),r.Hb("has-rek",t.settings.has("ads.drive")),r.Db(2),r.mc("ngIf","workspaces"!==r.ic(15,24,t.activePage$).name),r.Db(3),r.Hb("dragging",r.ic(20,26,t.dragging)),r.mc("disableContextMenu",!r.ic(21,28,t.canUpload$))("disableDropzoneClick",!0)("disableDropzone",!r.ic(22,30,t.canUpload$)),r.Db(7),r.mc("isVisible",r.ic(25,32,t.loading$)))},directives:[Vn.a,Wn,Xn.e,Xn.d,ws,Ks,Xn.f,Hs,Zs.a,n.t,Js,ln,ea,ia,s.l,gi.a,rt,pa,Da],pipes:[n.b],styles:["drive{display:block;width:100%;height:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}drive material-navbar{height:65px}drive .loading-overlay-container{position:relative;height:calc(100% - 106px)}drive .has-rek ad-host{margin-top:25px}drive .has-rek .loading-overlay-container{height:calc(100% - 281px)}drive .mat-sidenav-container{width:100%;height:calc(100% - 65px)}drive .mat-sidenav-container .left-sidebar{width:220px;flex:0 0 220px;border-right:1px solid var(--be-divider-default)}drive .mat-sidenav-container .right-sidebar{width:300px;flex:0 0 300px;border-left:1px solid var(--be-divider-default);background-color:var(--be-background);color:var(--be-text)}drive .mat-sidenav-container .mat-sidenav-content{position:relative;width:auto;overflow:hidden;height:100%;background-color:var(--be-background)}drive .files-container{height:calc(100% - 4px);border:2px solid transparent;overflow-x:hidden;overflow-y:auto;position:relative;padding:26px}drive .files-container.dragging .selected{opacity:.4}drive .files-container.file-over-dropzone{border-color:var(--be-accent-default);background-color:var(--be-accent-emphasis)}"],encapsulation:2,changeDetection:0}),Object(a.b)([Object(o.d)(Ge.dragging)],e.prototype,"dragging",void 0),Object(a.b)([Object(o.d)(Ge.detailsOpen)],e.prototype,"activityOpen$",void 0),Object(a.b)([Object(o.d)(Ge.sidebarOpen)],e.prototype,"sidebarOpen$",void 0),Object(a.b)([Object(o.d)(Ge.loading)],e.prototype,"loading$",void 0),Object(a.b)([Object(o.d)(Ge.isMobile)],e.prototype,"isMobile$",void 0),Object(a.b)([Object(o.d)(Ge.canUpload)],e.prototype,"canUpload$",void 0),Object(a.b)([Object(o.d)(Ge.activePage)],e.prototype,"activePage$",void 0),e})();var Aa=function(e){return e[e.ENTER=13]="ENTER",e[e.SPACE=32]="SPACE",e[e.ESCAPE=27]="ESCAPE",e[e.DELETE=46]="DELETE",e[e.ARROW_UP=38]="ARROW_UP",e[e.ARROW_RIGHT=39]="ARROW_RIGHT",e[e.ARROW_DOWN=40]="ARROW_DOWN",e[e.ARROW_LEFT=37]="ARROW_LEFT",e[e.S=83]="S",e[e.N=78]="N",e[e.A=65]="A",e[e.T=84]="T",e[e.B=66]="B",e[e.C=67]="C",e[e.O=79]="O",e[e.P=80]="P",e[e.R=82]="R",e[e.F=70]="F",e[e.Y=89]="Y",e[e.Z=90]="Z",e}({});let Ma=(()=>{class e{constructor(){this.bindings=[]}add(e,t){this.bindings.push({keybind:this.parseKeybindString(e),keybindString:e,callback:t})}addWithPreventDefault(e,t){this.bindings.push({keybind:this.parseKeybindString(e),keybindString:e,callback:t,preventDefault:!0})}listenOn(e){return Object(dn.a)(e,"keydown").subscribe(e=>{this.executeBindings(e)})}executeBindings(e){this.bindings.forEach(t=>{this.bindingMatches(t.keybind,e)&&(t.preventDefault&&e.preventDefault&&e.preventDefault(),t.callback(e))})}bindingMatches(e,t){return Aa[e.key.toUpperCase()]===t.keyCode&&t.ctrlKey===e.ctrl&&t.shiftKey===e.shift}parseKeybindString(e){const t=e.trim().split("+"),i={ctrl:!1,shift:!1,key:""};return t.forEach(e=>{"ctrl"===(e=e.trim().toLowerCase())?i.ctrl=!0:"shift"===e?i.shift=!0:i.key=e}),i}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Ta=function(e){return{type:"entry",entry:e}};function Fa(e,t){if(1&e&&r.Qb(0,"files-grid-item",1),2&e){const e=t.$implicit,i=r.gc();r.mc("entry",e)("contextMenu",r.qc(4,Ta,e))("disableContextMenu",i.disableInteractions)("folderDropTarget",e)}}let La=(()=>{class e{constructor(){this.disableInteractions=!1}trackById(e,t){return t.id}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Jb({type:e,selectors:[["files-grid"]],inputs:{entries:"entries",disableInteractions:"disableInteractions"},decls:1,vars:2,consts:[[3,"entry","contextMenu","disableContextMenu","folderDropTarget",4,"ngFor","ngForOf","ngForTrackBy"],[3,"entry","contextMenu","disableContextMenu","folderDropTarget"]],template:function(e,t){1&e&&r.Ic(0,Fa,1,6,"files-grid-item",0),2&e&&r.mc("ngForOf",t.entries)("ngForTrackBy",t.trackById)},directives:[n.s,Qs,ln,pn],styles:["files-grid{display:flex;flex-wrap:wrap;align-content:flex-start;margin:-8px}files-grid:empty{margin:0}"],encapsulation:2,changeDetection:0}),e})();var Ra=i("2hX1"),$a=i("Um6Z");function Na(e,t){1&e&&(r.Qb(0,"mat-icon",14),r.hc(1,"trans")),2&e&&r.mc("matTooltip",r.ic(1,1,"Starred"))}const Ba=function(e){return{type:"entry",entry:e}};function za(e,t){if(1&e&&(r.Vb(0,"tr",5),r.Vb(1,"td",6),r.Vb(2,"div",7),r.Qb(3,"file-thumbnail",8),r.Vb(4,"div",9),r.Vb(5,"span",10),r.Kc(6),r.Ub(),r.Ic(7,Na,2,3,"mat-icon",11),r.Ub(),r.Ub(),r.Ub(),r.Vb(8,"td",12),r.Kc(9),r.hc(10,"formattedDate"),r.Ub(),r.Vb(11,"td",13),r.Kc(12),r.hc(13,"formattedFileSize"),r.Ub(),r.Ub()),2&e){const e=t.$implicit,i=r.gc();r.mc("contextMenu",r.qc(13,Ba,e))("disableContextMenu",i.disableInteractions)("folderDropTarget",e),r.Eb("data-id",e.id),r.Db(3),r.mc("file",e),r.Db(3),r.Lc(e.name),r.Db(1),r.mc("ngIf",i.isStarred(e)),r.Db(2),r.Lc(r.ic(10,9,e.updated_at)),r.Db(3),r.Lc(r.ic(13,11,e.file_size))}}let Ka=(()=>{class e{constructor(e,t){this.store=e,this.datatable=t,this.disableInteractions=!1}ngOnInit(){this.datatable.init({disableSort:this.disableInteractions}),this.datatable.sort$.pipe(Object(ct.a)(e=>!!Object.keys(e).length)).subscribe(e=>{this.store.dispatch(new N(e))})}ngOnDestroy(){this.datatable.destroy()}isStarred(e){return!!e.tags&&!!e.tags.find(e=>"starred"===e.name)}trackById(e,t){return t.id}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(o.g),r.Pb(Ra.a))},e.\u0275cmp=r.Jb({type:e,selectors:[["files-list"]],inputs:{entries:"entries",disableInteractions:"disableInteractions"},features:[r.Cb([Ra.a])],decls:11,vars:2,consts:[[1,"material-table"],["table-sort-header","","trans","",1,"name-column"],["table-sort-header","updated_at","trans","",1,"last-updated-column"],["table-sort-header","file_size","trans","",1,"size-column"],["class","drive-entry",3,"contextMenu","disableContextMenu","folderDropTarget",4,"ngFor","ngForOf","ngForTrackBy"],[1,"drive-entry",3,"contextMenu","disableContextMenu","folderDropTarget"],["data-label","Name",1,"name-column"],[1,"file-name-container"],[3,"file"],[1,"file-name"],[1,"entry-name"],["class","star-icon","svgIcon","star",3,"matTooltip",4,"ngIf"],["data-label","Last Updated",1,"last-updated-column"],["data-label","Size",1,"size-column"],["svgIcon","star",1,"star-icon",3,"matTooltip"]],template:function(e,t){1&e&&(r.Vb(0,"table",0),r.Vb(1,"thead"),r.Vb(2,"tr"),r.Vb(3,"th",1),r.Kc(4,"Name"),r.Ub(),r.Vb(5,"th",2),r.Kc(6,"Last Updated"),r.Ub(),r.Vb(7,"th",3),r.Kc(8,"Size"),r.Ub(),r.Ub(),r.Ub(),r.Vb(9,"tbody"),r.Ic(10,za,14,15,"tr",4),r.Ub(),r.Ub()),2&e&&(r.Db(10),r.mc("ngForOf",t.entries)("ngForTrackBy",t.trackById))},directives:[$a.a,Ut.a,n.s,ln,pn,Es,n.t,tt.a,xs.a],pipes:[Rn.a,ts.a,zt.a],styles:["[_nghost-%COMP%]{display:block}table[_ngcontent-%COMP%]{table-layout:fixed}.last-updated-column[_ngcontent-%COMP%]{width:220px}.size-column[_ngcontent-%COMP%]{width:120px}tr.drag-over[_ngcontent-%COMP%], tr.selected[_ngcontent-%COMP%]{background-color:var(--be-accent-emphasis)}.file-name-container[_ngcontent-%COMP%]{display:flex;align-items:center}.file-name[_ngcontent-%COMP%]{max-width:90%;overflow:hidden;text-overflow:ellipsis}file-thumbnail[_ngcontent-%COMP%]{background-color:transparent!important;margin-right:15px}file-thumbnail[_ngcontent-%COMP%]  file-icon, file-thumbnail[_ngcontent-%COMP%]  img{width:24px;height:24px;max-width:none;-o-object-fit:cover;object-fit:cover}file-thumbnail[_ngcontent-%COMP%]  file-icon{margin-top:3px}.star-icon[_ngcontent-%COMP%]{color:#ffc000;width:18px;height:18px;vertical-align:middle}@media only screen and (max-width:768px){.last-updated-column[_ngcontent-%COMP%], .size-column[_ngcontent-%COMP%], thead[_ngcontent-%COMP%]{display:none}}"],changeDetection:0}),e})(),Qa=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Jb({type:e,selectors:[["no-recent-entries"]],decls:6,vars:0,consts:[[1,"no-results-message"],["trans","",1,"main"],["trans","",1,"secondary"],["svgIcon","recent-custom",1,"icon"]],template:function(e,t){1&e&&(r.Vb(0,"div",0),r.Vb(1,"div",1),r.Kc(2,"No recent entries."),r.Ub(),r.Vb(3,"div",2),r.Kc(4,"You have not uploaded any files or folders yet."),r.Ub(),r.Qb(5,"mat-icon",3),r.Ub())},directives:[Ut.a,tt.a],encapsulation:2,changeDetection:0}),e})(),Wa=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Jb({type:e,selectors:[["no-trashed-entries"]],decls:6,vars:0,consts:[[1,"no-results-message"],["trans","",1,"main"],["trans","",1,"secondary"],["svgIcon","trash-custom",1,"icon"]],template:function(e,t){1&e&&(r.Vb(0,"div",0),r.Vb(1,"div",1),r.Kc(2,"Trash is empty."),r.Ub(),r.Vb(3,"div",2),r.Kc(4,"There are no files or folders in your trash currently."),r.Ub(),r.Qb(5,"mat-icon",3),r.Ub())},directives:[Ut.a,tt.a],encapsulation:2,changeDetection:0}),e})(),Xa=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Jb({type:e,selectors:[["no-starred-entries"]],decls:6,vars:0,consts:[[1,"no-results-message"],["trans","",1,"main"],["trans","",1,"secondary"],["svgIcon","add-star-custom",1,"icon"]],template:function(e,t){1&e&&(r.Vb(0,"div",0),r.Vb(1,"div",1),r.Kc(2,"Nothing is starred."),r.Ub(),r.Vb(3,"div",2),r.Kc(4,"Add stars to files and folders that you want to easily find later."),r.Ub(),r.Qb(5,"mat-icon",3),r.Ub())},directives:[Ut.a,tt.a],encapsulation:2,changeDetection:0}),e})(),Ha=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Jb({type:e,selectors:[["no-shared-entries"]],decls:6,vars:0,consts:[[1,"no-results-message"],["trans","",1,"main"],["trans","",1,"secondary"],["svgIcon","share-custom",1,"icon"]],template:function(e,t){1&e&&(r.Vb(0,"div",0),r.Vb(1,"div",1),r.Kc(2,"Shared with me."),r.Ub(),r.Vb(3,"div",2),r.Kc(4,"Files and folders other people have shared with you."),r.Ub(),r.Qb(5,"mat-icon",3),r.Ub())},directives:[Ut.a,tt.a],encapsulation:2,changeDetection:0}),e})(),Za=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Jb({type:e,selectors:[["no-search-entries"]],decls:6,vars:0,consts:[[1,"no-results-message"],["trans","",1,"main"],["trans","",1,"secondary"],["svgIcon","search-custom",1,"icon"]],template:function(e,t){1&e&&(r.Vb(0,"div",0),r.Vb(1,"div",1),r.Kc(2,"No matches found."),r.Ub(),r.Vb(3,"div",2),r.Kc(4,"Try another search with different query or file type."),r.Ub(),r.Qb(5,"mat-icon",3),r.Ub())},directives:[Ut.a,tt.a],encapsulation:2,changeDetection:0}),e})();const Ja=["clickTarget"];let qa=(()=>{class e{constructor(e,t){this.store=e,this.uploadConfig=t}ngAfterViewInit(){this.clickTarget.nativeElement.addEventListener("click",()=>{Object(Se.a)(this.uploadConfig).then(e=>{this.store.dispatch(new E(e))})})}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(o.g),r.Pb(Ue))},e.\u0275cmp=r.Jb({type:e,selectors:[["upload-dropzone"]],viewQuery:function(e,t){var i;1&e&&r.Ec(Ja,!0),2&e&&r.tc(i=r.dc())&&(t.clickTarget=i.first)},decls:9,vars:0,consts:[[1,"animation-circle"],[1,"content-circle"],["clickTarget",""],["svgIcon","upload-custom",1,"main-icon"],[1,"text","initial-text"],["trans","",1,"primary"],["trans","",1,"secondary"]],template:function(e,t){1&e&&(r.Qb(0,"div",0),r.Vb(1,"div",1,2),r.Qb(3,"mat-icon",3),r.Vb(4,"div",4),r.Vb(5,"div",5),r.Kc(6,"Drop files or folders here"),r.Ub(),r.Vb(7,"div",6),r.Kc(8,"or click to upload."),r.Ub(),r.Ub(),r.Ub())},directives:[tt.a,Ut.a],styles:["@-webkit-keyframes pulsate{0%{-webkit-transform:scale(1)}50%{-webkit-transform:scale(1.05)}to{-webkit-transform:scale(1)}}@keyframes pulsate{0%{-webkit-transform:scale(1)}50%{-webkit-transform:scale(1.05)}to{-webkit-transform:scale(1)}}.file-over-dropzone .animation-circle{-webkit-animation:pulsate .7s ease-out;animation:pulsate .7s ease-out;-webkit-animation-iteration-count:15;animation-iteration-count:15;background-color:var(--be-accent-lighter);pointer-events:none}.file-over-dropzone .content-circle{color:var(--be-accent-contrast);pointer-events:none}upload-dropzone{display:block;position:relative;width:400px;height:400px;border:2px solid transparent;margin:auto}upload-dropzone .animation-circle,upload-dropzone .content-circle{position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;width:400px;height:400px;min-height:300px;max-width:90%;max-height:90%;border-radius:50%;overflow:hidden;cursor:pointer}upload-dropzone .animation-circle{background-color:var(--be-background);border:1px solid var(--be-divider-default);z-index:1}upload-dropzone .content-circle{display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:transparent;border-color:transparent;color:var(--be-secondary-text);z-index:2}upload-dropzone .content-circle .main-icon{width:100px;height:100px}upload-dropzone .content-circle .text{text-align:center;margin-top:8px}upload-dropzone .content-circle .text .mat-icon{vertical-align:middle}upload-dropzone .content-circle .text .primary{font-size:1.8rem;font-weight:500;margin-bottom:5px}upload-dropzone .content-circle .text .secondary{font-size:1.5rem}@media only screen and (max-width:500px){upload-dropzone{width:auto}upload-dropzone .animation-circle,upload-dropzone .content-circle{border-radius:0;border:none;max-width:100%;max-height:100%}}"],encapsulation:2,changeDetection:0}),e})(),Ga=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Jb({type:e,selectors:[["no-folder-entries"]],decls:1,vars:0,template:function(e,t){1&e&&r.Qb(0,"upload-dropzone")},directives:[qa],encapsulation:2,changeDetection:0}),e})();function Ya(e,t){if(1&e&&(r.Qb(0,"files-grid",3),r.hc(1,"async")),2&e){const e=r.gc();r.mc("entries",r.ic(1,1,e.entries$))}}function er(e,t){if(1&e&&(r.Qb(0,"files-list",3),r.hc(1,"async")),2&e){const e=r.gc();r.mc("entries",r.ic(1,1,e.entries$))}}function tr(e,t){1&e&&r.Qb(0,"no-recent-entries")}function ir(e,t){1&e&&r.Qb(0,"no-trashed-entries")}function nr(e,t){1&e&&r.Qb(0,"no-starred-entries")}function sr(e,t){1&e&&r.Qb(0,"no-shared-entries")}function ar(e,t){1&e&&r.Qb(0,"no-search-entries")}function rr(e,t){1&e&&r.Qb(0,"no-folder-entries")}function or(e,t){if(1&e&&(r.Tb(0,4),r.hc(1,"async"),r.Ic(2,tr,1,0,"no-recent-entries",5),r.Ic(3,ir,1,0,"no-trashed-entries",5),r.Ic(4,nr,1,0,"no-starred-entries",5),r.Ic(5,sr,1,0,"no-shared-entries",5),r.Ic(6,ar,1,0,"no-search-entries",5),r.Ic(7,rr,1,0,"no-folder-entries",6),r.Sb()),2&e){const e=r.gc();r.mc("ngSwitch",r.ic(1,6,e.activePageName$)),r.Db(2),r.mc("ngSwitchCase","recent"),r.Db(1),r.mc("ngSwitchCase","trash"),r.Db(1),r.mc("ngSwitchCase","starred"),r.Db(1),r.mc("ngSwitchCase","shares"),r.Db(1),r.mc("ngSwitchCase","search")}}let cr=(()=>{class e{constructor(e,t,i){this.store=e,this.el=t,this.keybinds=i,this.tabindex=0}ngOnInit(){this.keybindSub=this.keybinds.listenOn(this.el.nativeElement),this.keybinds.addWithPreventDefault("ctrl+a",()=>{this.store.dispatch(new y)}),this.keybinds.addWithPreventDefault("delete",()=>{"trash"===this.store.selectSnapshot(Ge.activePageName)?this.store.dispatch(new I({title:"Delete Forever",body:"This will permanently delete selected items.",bodyBold:"This action can not be undone.",ok:"Delete Forever"},new V)):this.store.dispatch(new x)}),this.keybinds.addWithPreventDefault("enter",()=>{this.store.dispatch(new ge(this.store.selectSnapshot(Ge.selectedEntry)))})}ngOnDestroy(){this.keybindSub.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(o.g),r.Pb(r.m),r.Pb(Ma))},e.\u0275cmp=r.Jb({type:e,selectors:[["entries-container"]],hostVars:1,hostBindings:function(e,t){2&e&&r.Eb("tabindex",t.tabindex)},features:[r.Cb([Ma])],decls:6,vars:7,consts:[[3,"entries",4,"ngIf","ngIfElse"],["filesList",""],[3,"ngSwitch",4,"ngIf"],[3,"entries"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"]],template:function(e,t){if(1&e&&(r.Ic(0,Ya,2,3,"files-grid",0),r.hc(1,"async"),r.Ic(2,er,2,3,"ng-template",null,1,r.Jc),r.Ic(4,or,8,8,"ng-container",2),r.hc(5,"async")),2&e){const e=r.uc(3);r.mc("ngIf","grid"===r.ic(1,3,t.viewMode$))("ngIfElse",e),r.Db(4),r.mc("ngIf",r.ic(5,5,t.noEntries))}},directives:[n.t,La,Ka,n.x,n.y,n.z,Qa,Wa,Xa,Ha,Za,Ga],pipes:[n.b],styles:["entries-container{display:block;height:100%;outline:none}entries-container .no-results-message{margin-top:40px}entries-container .no-results-message .mat-icon{margin-top:15px}"],encapsulation:2,changeDetection:0}),Object(a.b)([Object(o.d)(Ge.entries)],e.prototype,"entries$",void 0),Object(a.b)([Object(o.d)(Ge.entriesEmpty)],e.prototype,"noEntries",void 0),Object(a.b)([Object(o.d)(Ge.viewMode)],e.prototype,"viewMode$",void 0),Object(a.b)([Object(o.d)(Ge.activePageName)],e.prototype,"activePageName$",void 0),e})();const lr=new r.s("CURRENT_PREVIEW_FILE"),dr=new r.s("PREVIEW_URL_TRANSFORMER",{factory:()=>e=>e.url,providedIn:"root"});var hr=i("jhN1");let pr=(()=>{class e{constructor(e,t,i,n,s,a){this.file=e,this.transformer=t,this.settings=i,this.http=n,this.sanitizer=s,this.currentUser=a,this.filePreviewWrapper=!0,this.download=new r.o}getSrc(){return this.transformer(this.file)}getSafeSrc(){return this.sanitizer.bypassSecurityTrustResourceUrl(this.getSrc())}getContents(){return this.http.get(this.getSrc(),null,{responseType:"text"})}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(lr),r.Pb(dr),r.Pb(St.a),r.Pb(Me.a),r.Pb(hr.b),r.Pb(Te.a))},e.\u0275dir=r.Kb({type:e,hostVars:2,hostBindings:function(e,t){2&e&&r.Hb("file-preview-wrapper",t.filePreviewWrapper)}}),e})();function ur(e,t){if(1&e){const e=r.Wb();r.Vb(0,"button",3),r.cc("click",(function(){return r.xc(e),r.gc().download.emit()})),r.Kc(1,"Download"),r.Ub()}}let br=(()=>{class e extends pr{getMessage(){return this.message||"No file preview available."}}return e.\u0275fac=function(t){return gr(t||e)},e.\u0275cmp=r.Jb({type:e,selectors:[["default-preview"]],inputs:{message:"message"},features:[r.Ab],decls:4,vars:2,consts:[[1,"panel","preview-object"],["trans","",1,"message"],["mat-raised-button","","color","accent","trans","",3,"click",4,"ngIf"],["mat-raised-button","","color","accent","trans","",3,"click"]],template:function(e,t){1&e&&(r.Vb(0,"div",0),r.Vb(1,"div",1),r.Kc(2),r.Ub(),r.Ic(3,ur,2,0,"button",2),r.Ub()),2&e&&(r.Db(2),r.Lc(t.getMessage()),r.Db(1),r.mc("ngIf",t.download.observers.length))},directives:[n.t,Vt.b],styles:["[_nghost-%COMP%]{display:block;max-width:380px;max-height:150px}.panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:var(--be-background);color:var(--be-text);border-radius:4px;width:100%;height:100%;margin:auto;box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12)}.message[_ngcontent-%COMP%]{font-size:1.8rem;margin-bottom:15px}.mat-raised-button[_ngcontent-%COMP%]{display:block}"],changeDetection:0}),e})();const gr=r.Xb(br);function mr(e,t){1&e&&r.Qb(0,"default-preview",2)}function fr(e,t){if(1&e&&(r.Vb(0,"div",3),r.Vb(1,"pre"),r.Kc(2),r.hc(3,"async"),r.Ub(),r.Ub()),2&e){const e=r.gc();r.Db(2),r.Lc(r.ic(3,1,e.content$))}}let vr=(()=>{class e extends pr{constructor(){super(...arguments),this.content$=new dt.a(""),this.fileTooLarge$=new dt.a(!1)}ngOnInit(){this.file.file_size>5242880?this.fileTooLarge$.next(!0):this.loadFileContents()}loadFileContents(){this.getContents().subscribe(e=>{this.content$.next(e)})}}return e.\u0275fac=function(t){return yr(t||e)},e.\u0275cmp=r.Jb({type:e,selectors:[["text-preview"]],features:[r.Ab],decls:4,vars:4,consts:[["message","This file is too large to preview.",4,"ngIf","ngIfElse"],["textPreview",""],["message","This file is too large to preview."],[1,"text-wrapper","preview-object"]],template:function(e,t){if(1&e&&(r.Ic(0,mr,1,0,"default-preview",0),r.hc(1,"async"),r.Ic(2,fr,4,3,"ng-template",null,1,r.Jc)),2&e){const e=r.uc(3);r.mc("ngIf",r.ic(1,2,t.fileTooLarge$))("ngIfElse",e)}},directives:[n.t,br],pipes:[n.b],styles:["[_nghost-%COMP%]{display:block;width:80%;min-height:80%}@media only screen and (max-width:768px){[_nghost-%COMP%]{width:90%}}.text-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;background-color:var(--be-background);box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12);border-radius:4px;color:var(--be-text);padding:20px;overflow:auto}.text-wrapper[_ngcontent-%COMP%], pre[_ngcontent-%COMP%]{word-wrap:break-word}pre[_ngcontent-%COMP%]{display:block;white-space:pre-wrap;margin:0;font-size:1.4rem;font-family:inherit}default-preview[_ngcontent-%COMP%]{margin:auto;position:absolute;top:0;left:0;right:0;bottom:0}"],changeDetection:0}),e})();const yr=r.Xb(vr),wr=["playerEl"];function xr(e,t){1&e&&r.Qb(0,"default-preview")}let _r=(()=>{class e extends pr{constructor(){super(...arguments),this.invalidMedia=!1}ngOnInit(){this.invalidMedia=!this.canPlayVideo(),this.invalidMedia||(this.player().src=this.getSrc(),this.player().play())}canPlayVideo(){return!!this.player().canPlayType(this.file.mime)}player(){return this.playerEl.nativeElement}}return e.\u0275fac=function(t){return kr(t||e)},e.\u0275cmp=r.Jb({type:e,selectors:[["audio-preview"]],viewQuery:function(e,t){var i;1&e&&r.Ec(wr,!0),2&e&&r.tc(i=r.dc())&&(t.playerEl=i.first)},features:[r.Ab],decls:3,vars:3,consts:[["controls","controls","controlsList","nodownload noremoteplayback",1,"preview-object"],["playerEl",""],[4,"ngIf"]],template:function(e,t){1&e&&(r.Qb(0,"audio",0,1),r.Ic(2,xr,1,0,"default-preview",2)),2&e&&(r.Hb("hidden",t.invalidMedia),r.Db(2),r.mc("ngIf",t.invalidMedia))},directives:[n.t,br],styles:["[_nghost-%COMP%]{display:block;max-width:80%;height:auto;margin-bottom:40px}@media only screen and (max-width:768px){[_nghost-%COMP%]{width:90%}}audio[_ngcontent-%COMP%]{display:block;max-width:100%;box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12);max-height:60px}audio[_ngcontent-%COMP%], default-preview[_ngcontent-%COMP%]{margin:auto;position:absolute;top:0;left:0;right:0;bottom:0}"],changeDetection:0}),e})();const kr=r.Xb(_r);function Or(e,t){1&e&&r.Qb(0,"default-preview")}let Cr=(()=>{class e extends _r{}return e.\u0275fac=function(t){return Pr(t||e)},e.\u0275cmp=r.Jb({type:e,selectors:[["video-preview"]],features:[r.Ab],decls:3,vars:3,consts:[["controls","controls","controlsList","nodownload noremoteplayback",1,"preview-object"],["playerEl",""],[4,"ngIf"]],template:function(e,t){1&e&&(r.Qb(0,"video",0,1),r.Ic(2,Or,1,0,"default-preview",2)),2&e&&(r.Hb("hidden",t.invalidMedia),r.Db(2),r.mc("ngIf",t.invalidMedia))},directives:[n.t,br],styles:["[_nghost-%COMP%]{display:block;max-width:100%;max-height:100%;height:auto;margin-bottom:40px}@media only screen and (max-width:768px){[_nghost-%COMP%]{width:90%}}video[_ngcontent-%COMP%]{display:block;max-width:100%;max-height:100%;height:auto;box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12)}default-preview[_ngcontent-%COMP%], video[_ngcontent-%COMP%]{margin:auto;position:absolute;top:0;left:0;right:0;bottom:0}"],changeDetection:0}),e})();const Pr=r.Xb(Cr);let Ir=(()=>{class e extends pr{}return e.\u0275fac=function(t){return Dr(t||e)},e.\u0275cmp=r.Jb({type:e,selectors:[["image-preview"]],features:[r.Ab],decls:1,vars:1,consts:[[1,"preview-object",3,"src"]],template:function(e,t){1&e&&r.Qb(0,"img",0),2&e&&r.mc("src",t.getSafeSrc(),r.Ac)},styles:["[_nghost-%COMP%]{display:block;max-width:100%;max-height:100%;height:auto;margin-bottom:40px}@media only screen and (max-width:768px){[_nghost-%COMP%]{width:90%}}img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;height:auto;margin:auto;box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12);position:absolute;top:0;left:0;right:0;bottom:0;background-color:var(--be-background)}"],changeDetection:0}),e})();const Dr=r.Xb(Ir);let jr=(()=>{class e extends pr{constructor(){super(...arguments),this.className="preview-object"}getSrc(){return super.getSrc()+"#toolbar=0"}}return e.\u0275fac=function(t){return Sr(t||e)},e.\u0275cmp=r.Jb({type:e,selectors:[["pdf-preview"]],hostVars:2,hostBindings:function(e,t){2&e&&r.Fb(t.className)},features:[r.Ab],decls:1,vars:1,consts:[[3,"src"]],template:function(e,t){1&e&&r.Qb(0,"iframe",0),2&e&&r.mc("src",t.getSafeSrc(),r.zc)},styles:["[_nghost-%COMP%]{display:block;margin:auto;position:absolute;top:0;left:0;right:0;bottom:0}[_nghost-%COMP%], iframe[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{width:100%;height:100%}iframe[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{border:none}"],changeDetection:0}),e})();const Sr=r.Xb(jr);var Er=i("XFMS");const Ur=["iframe"];function Vr(e,t){if(1&e){const e=r.Wb();r.Tb(0),r.Qb(1,"iframe",3,4),r.Vb(3,"div",5),r.cc("click",(function(){return r.xc(e),r.gc().openInNewWindow()})),r.Ub(),r.Sb()}}function Ar(e,t){1&e&&r.Qb(0,"default-preview")}let Mr=(()=>{class e extends pr{constructor(){super(...arguments),this.loading$=new dt.a(!0),this.showDefaultPreview$=new dt.a(!1)}ngAfterViewInit(){if(this.file.file_size>25e6)return this.showDefaultPreview();this.iframe.nativeElement.onload=()=>{clearTimeout(this.timeoutRef),this.stopLoading()},this.getIframeSrc().then(e=>{this.iframe.nativeElement.src=e}).catch(()=>{this.showDefaultPreview()}),this.timeoutRef=setTimeout(()=>{this.showDefaultPreview()},5e3)}stopLoading(){this.loading$.next(!1)}showDefaultPreview(){this.stopLoading(),this.showDefaultPreview$.next(!0)}openInNewWindow(){window.open(window.location.href,"_blank")}getIframeSrc(){return new Promise((e,t)=>{let i=this.getSrc();-1===i.indexOf("shareable_link")?this.http.post(`uploads/${this.file.id}/add-preview-token`).subscribe(t=>{i+="?preview_token="+t.preview_token,e(this.getFullPreviewUrl(i))},()=>t):e(this.getFullPreviewUrl(i))})}getFullPreviewUrl(e){return e=Object(Er.a)(e)?e:this.settings.getBaseUrl()+e,"https://view.officeapps.live.com/op/embed.aspx?src="+encodeURIComponent(e)}}return e.\u0275fac=function(t){return Tr(t||e)},e.\u0275cmp=r.Jb({type:e,selectors:[["google-docs-viewer"]],viewQuery:function(e,t){var i;1&e&&r.Qc(Ur,!0),2&e&&r.tc(i=r.dc())&&(t.iframe=i.first)},features:[r.Ab],decls:6,vars:7,consts:[[4,"ngIf","ngIfElse"],["defaultPreview",""],[1,"overlay",3,"isVisible"],[1,"preview-object"],["iframe",""],[1,"pop-out-block","office-block",3,"click"]],template:function(e,t){if(1&e&&(r.Ic(0,Vr,4,0,"ng-container",0),r.hc(1,"async"),r.Ic(2,Ar,1,0,"ng-template",null,1,r.Jc),r.Qb(4,"loading-indicator",2),r.hc(5,"async")),2&e){const e=r.uc(3);r.mc("ngIf",!r.ic(1,3,t.showDefaultPreview$))("ngIfElse",e),r.Db(4),r.mc("isVisible",r.ic(5,5,t.loading$))}},directives:[n.t,gi.a,br],pipes:[n.b],styles:["[_nghost-%COMP%]{display:block;margin:auto;position:absolute;top:0;left:0;right:0;bottom:0}[_nghost-%COMP%], iframe[_ngcontent-%COMP%]{width:100%;height:100%}iframe[_ngcontent-%COMP%]{border:none}loading-indicator.overlay[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background-color:transparent}default-preview[_ngcontent-%COMP%]{margin:auto;position:absolute;top:0;left:0;right:0;bottom:0}.pop-out-block[_ngcontent-%COMP%]{position:absolute;right:12px;cursor:pointer}.office-block[_ngcontent-%COMP%]{width:25px;height:25px;bottom:0}.gdocs-block[_ngcontent-%COMP%]{width:40px;height:40px;top:12px}"],changeDetection:0}),e})();const Tr=r.Xb(Mr),Fr=new r.s("AVAILABLE_PREVIEWS");let Lr=(()=>{class e{constructor(){this.text=vr,this.video=Cr,this.audio=_r,this.image=Ir,this.pdf=jr,this.spreadsheet=Mr,this.powerPoint=Mr,this.word=Mr}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Lb({token:e,factory:e.\u0275fac}),e})(),Rr=(()=>{class e{constructor(e,t){this.availablePreviews=e,this.injector=t,this.files=[],this.portal=new dt.a(null),this.meta=new dt.a({}),this.previewUriTransformer=null,this.download=new lt.a}pagination(){return this.meta.pipe(Object(ct.a)(e=>e&&!!e.entry))}getCurrent(){return this.meta.value.entry}getAllEntries(){return this.files}getPortal(){return this.portal.asObservable()}showNext(){this.meta.value.haveNext&&(this.updateMeta("next"),this.updatePortal())}showPrevious(){this.meta.value.havePrevious&&(this.updateMeta("previous"),this.updatePortal())}updateMeta(e){let t=0;if("string"==typeof e){const i=this.meta.value.pointer;t="next"===e?i+1:i-1}else"number"==typeof e&&(t=e);this.meta.next({pointer:t,entry:this.files[t],total:this.files.length,haveNext:t+1<this.files.length,havePrevious:t-1>-1})}updatePortal(){const e=this.getCurrent();this.portal.next(new sn.d(e&&this.availablePreviews[e.type]||br,null,this.createInjector()))}set(e,t){e&&0!==e.length&&(this.files=e.filter(e=>"folder"!==e.type),this.updateMeta(t),this.updatePortal())}createInjector(){const e=new WeakMap;return e.set(lr,this.getCurrent()),this.previewUriTransformer&&e.set(dr,this.previewUriTransformer),new sn.g(this.injector,e)}destroy(){this.meta.next({}),this.files=null,this.portal.next(null)}setPreviewUriTransformer(e){this.previewUriTransformer=e}}return e.\u0275fac=function(t){return new(t||e)(r.Zb(Fr),r.Zb(r.t))},e.\u0275prov=r.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function $r(e,t){1&e&&(r.Vb(0,"div",9),r.Kc(1,"Password does not match."),r.Ub())}let Nr=(()=>{class e{constructor(e){this.links=e,this.passwordControl=new Pt.i,this.passwordError$=new dt.a(!1),this.passwordValid=new r.o(null)}submitPassword(){this.links.checkPassword(this.link.id,this.passwordControl.value).subscribe(e=>{this.handlePasswordCheck(e.matches)},()=>{})}handlePasswordCheck(e){this.passwordError$.next(!e),e&&this.passwordValid.emit(this.passwordControl.value)}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(Yt))},e.\u0275cmp=r.Jb({type:e,selectors:[["link-preview-password-panel"]],inputs:{link:"link"},outputs:{passwordValid:"passwordValid"},decls:13,vars:4,consts:[["svgIcon","password-custom"],["ngNativeValidate","",1,"content",3,"ngSubmit"],["trans","",1,"message"],[1,"input-container"],["for","password","trans","",1,"hidden"],["type","password","id","password","placeholder","Password","trans-placeholder","","required","",3,"formControl"],[1,"button-container"],["class","error","trans","",4,"ngIf"],["type","submit","mat-raised-button","","color","accent","trans",""],["trans","",1,"error"]],template:function(e,t){1&e&&(r.Qb(0,"mat-icon",0),r.Vb(1,"form",1),r.cc("ngSubmit",(function(){return t.submitPassword()})),r.Vb(2,"div",2),r.Kc(3,"The link you are trying to access is password protected."),r.Ub(),r.Vb(4,"div",3),r.Vb(5,"label",4),r.Kc(6,"Password"),r.Ub(),r.Qb(7,"input",5),r.Ub(),r.Vb(8,"div",6),r.Ic(9,$r,2,0,"div",7),r.hc(10,"async"),r.Vb(11,"button",8),r.Kc(12,"Enter"),r.Ub(),r.Ub(),r.Ub()),2&e&&(r.Db(7),r.mc("formControl",t.passwordControl),r.Db(2),r.mc("ngIf",r.ic(10,2,t.passwordError$)))},directives:[tt.a,Pt.v,Pt.w,Ut.a,Pt.d,Pt.F,Pt.u,Pt.j,n.t,Vt.b],pipes:[n.b],styles:["link-preview-password-panel{display:flex;background-color:var(--be-background);color:var(--be-text);border:1px solid var(--be-divider-default);padding:25px;border-radius:4px;position:absolute;top:0;left:0;right:0;bottom:0;width:500px;height:192px;max-width:90%;max-height:90%;margin:auto}link-preview-password-panel .content{flex:1 1 auto}link-preview-password-panel .content .message{margin-bottom:8px}link-preview-password-panel .button-container{display:flex;align-items:center;margin-top:10px}link-preview-password-panel .button-container button{margin-left:auto}link-preview-password-panel .mat-icon{width:140px;height:140px;flex:0 0 140px;margin-right:10px;margin-left:-25px}"],encapsulation:2,changeDetection:0}),e})();var Br=i("nPOm"),zr=i("ZfYz");function Kr(e,t){if(1&e){const e=r.Wb();r.Vb(0,"button",3),r.cc("click",(function(){return r.xc(e),r.gc().closed.emit(!0)})),r.Qb(1,"mat-icon",4),r.Ub()}}function Qr(e,t){if(1&e){const e=r.Wb();r.Tb(0),r.Vb(1,"div",10),r.Vb(2,"button",11),r.cc("click",(function(){return r.xc(e),r.gc(2).previewFiles.showPrevious()})),r.Qb(3,"mat-icon",12),r.Ub(),r.Vb(4,"span",13),r.Kc(5),r.hc(6,"trans"),r.Ub(),r.Vb(7,"button",14),r.cc("click",(function(){return r.xc(e),r.gc(2).previewFiles.showNext()})),r.Qb(8,"mat-icon",15),r.Ub(),r.Ub(),r.Sb()}if(2&e){const e=t.ngIf;r.Db(2),r.mc("disabled",!e.havePrevious),r.Db(3),r.Oc("",e.pointer+1," ",r.ic(6,5,"of")," ",e.total,""),r.Db(2),r.mc("disabled",!e.haveNext)}}function Wr(e,t){if(1&e){const e=r.Wb();r.Tb(0),r.Vb(1,"div",5),r.Qb(2,"file-icon",6),r.Kc(3),r.Ub(),r.Ic(4,Qr,9,7,"ng-container",1),r.hc(5,"async"),r.Vb(6,"div",7),r.Vb(7,"button",8),r.cc("click",(function(){return r.xc(e),r.gc().downloadFiles()})),r.Qb(8,"mat-icon",9),r.Ub(),r.kc(9),r.Ub(),r.Sb()}if(2&e){const e=t.ngIf,i=r.gc();r.Db(2),r.mc("type",e.entry.type),r.Db(1),r.Mc(" ",e.entry.name," "),r.Db(1),r.mc("ngIf",r.ic(5,4,i.previewFiles.pagination())),r.Db(3),r.mc("disabled",i.disableDownload)}}function Xr(e,t){if(1&e&&r.Qb(0,"img",18),2&e){const e=r.gc(2);r.mc("src",e.settings.get("branding.logo_light"),r.Ac)}}function Hr(e,t){if(1&e&&(r.Vb(0,"a",16),r.Ic(1,Xr,1,1,"img",17),r.Ub()),2&e){const e=r.gc();r.Db(1),r.mc("ngIf",e.showLogo&&e.settings.get("branding.logo_light"))}}const Zr=["*"];let Jr=(()=>{class e{constructor(e,t){this.previewFiles=e,this.settings=t,this.showLogo=!1,this.disableDownload=!1,this.showCloseButton=!1,this.closed=new r.o}downloadFiles(){this.previewFiles.download.next()}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(Rr),r.Pb(St.a))},e.\u0275cmp=r.Jb({type:e,selectors:[["file-preview-toolbar"]],inputs:{showLogo:"showLogo",disableDownload:"disableDownload",showCloseButton:"showCloseButton"},outputs:{closed:"closed"},ngContentSelectors:Zr,decls:4,vars:5,consts:[["mat-icon-button","","class","back-button",3,"click",4,"ngIf"],[4,"ngIf"],["routerLink","/drive","class","logo",4,"ngIf"],["mat-icon-button","",1,"back-button",3,"click"],["svgIcon","arrow-back"],[1,"entry-name"],[3,"type"],[1,"actions"],["mat-icon-button","",3,"disabled","click"],["svgIcon","file-download"],[1,"navigation"],["mat-icon-button","",1,"previous",3,"disabled","click"],["svgIcon","keyboard-arrow-left"],[1,"meta"],["mat-icon-button","",1,"next",3,"disabled","click"],["svgIcon","keyboard-arrow-right"],["routerLink","/drive",1,"logo"],[3,"src",4,"ngIf"],[3,"src"]],template:function(e,t){1&e&&(r.lc(),r.Ic(0,Kr,2,0,"button",0),r.Ic(1,Wr,10,6,"ng-container",1),r.hc(2,"async"),r.Ic(3,Hr,2,1,"a",2)),2&e&&(r.mc("ngIf",t.showCloseButton),r.Db(1),r.mc("ngIf",r.ic(2,3,t.previewFiles.pagination())),r.Db(2),r.mc("ngIf",t.showLogo&&t.settings.has("branding.logo_light")))},directives:[n.t,Vt.b,tt.a,it,s.j],pipes:[n.b,zt.a],styles:["file-preview-toolbar{position:fixed;top:0;left:0;display:flex;width:100%;align-items:center;color:var(--be-accent-contrast);height:60px;padding:0 15px;background:linear-gradient(180deg,rgba(0,0,0,.65) 0,transparent);z-index:10}@media only screen and (max-width:550px){file-preview-toolbar{padding:0 5px}}file-preview-toolbar .entry-name{display:block;margin-right:25px;margin-left:8px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}@media only screen and (min-width:550px){file-preview-toolbar .entry-name{max-width:calc(50% - 77.5px)}}file-preview-toolbar .entry-name file-icon{display:inline-block;vertical-align:bottom;margin-right:5px}@media only screen and (min-width:550px){file-preview-toolbar .navigation{position:absolute;left:50%;top:50%;margin-right:-50%;transform:translate(-50%,-50%)}}@media only screen and (max-width:550px){file-preview-toolbar .navigation{position:fixed;bottom:10px;left:5px}}file-preview-toolbar .actions{margin-left:auto;white-space:nowrap}file-preview-toolbar .actions a,file-preview-toolbar .actions button{margin:0 5px}file-preview-toolbar .close-button{margin-right:25px}file-preview-toolbar .logo{position:fixed;bottom:15px;right:15px;opacity:.2;width:150px;height:auto}file-preview-toolbar .logo img{width:100%;height:auto}file-preview-toolbar .mat-icon-button[disabled][disabled]{color:#737373}"],encapsulation:2,changeDetection:0}),e})();function qr(e,t){}function Gr(e,t){if(1&e){const e=r.Wb();r.Tb(0),r.Ic(1,qr,0,0,"ng-template",1),r.cc("attached",(function(t){return r.xc(e),r.gc().listenForDownloadClick(t)})),r.Sb()}if(2&e){const e=t.ngIf;r.Db(1),r.mc("cdkPortalOutlet",e)}}let Yr=(()=>{class e{constructor(e){this.previewFiles=e,this.disableDownload=!1}ngOnChanges(e){this.previewFiles.set(this.files,this.activeFile)}ngOnDestroy(){this.previewFiles.destroy(),this.downloadSub&&this.downloadSub.unsubscribe()}listenForDownloadClick(e){this.downloadSub&&this.downloadSub.unsubscribe(),this.disableDownload||(this.downloadSub=e.instance.download.subscribe(()=>{this.previewFiles.download.next()}))}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(Rr))},e.\u0275cmp=r.Jb({type:e,selectors:[["preview-container"]],inputs:{files:"files",activeFile:"activeFile",disableDownload:"disableDownload"},features:[r.Bb],decls:2,vars:3,consts:[[4,"ngIf"],[3,"cdkPortalOutlet","attached"]],template:function(e,t){1&e&&(r.Ic(0,Gr,2,1,"ng-container",0),r.hc(1,"async")),2&e&&r.mc("ngIf",r.ic(1,1,t.previewFiles.getPortal()))},directives:[n.t,sn.c],pipes:[n.b],styles:["[_nghost-%COMP%]{display:flex;width:100%;min-height:100%;align-items:center;justify-content:center;position:relative;overflow:hidden}  .file-preview-wrapper{position:absolute;top:0;left:0;right:0;bottom:0;margin:auto}"],changeDetection:0}),e})();const eo=["previewContainer"],to=["moreOptionsButton"];function io(e,t){if(1&e){const e=r.Wb();r.Vb(0,"button",4,5),r.cc("click",(function(){return r.xc(e),r.gc().openContextMenu()})),r.Qb(2,"mat-icon",6),r.Ub()}}let no=(()=>{class e{constructor(e,t,i,n,s,a,r){this.store=e,this.el=t,this.contextMenu=i,this.overlayRef=n,this.previewFiles=s,this.currentUser=a,this.data=r}ngAfterViewInit(){this.bindToDownload(),setTimeout(()=>{this.previewContainer.nativeElement.addEventListener("click",e=>{e.target.closest(".preview-object")||this.overlayRef.close()})})}ngOnDestroy(){this.downloadSub.unsubscribe()}openContextMenu(){this.contextMenu.open(sa,this.optionsButton.nativeElement,{data:{entry:this.previewFiles.getCurrent()}})}closeOverlay(){this.overlayRef.close()}canDownload(){return this.data.entries.every(e=>{var t;e.users||(e.users=[]);const i=e.users&&e.users.find(e=>e.id===this.currentUser.get("id"));return(null===(t=this.data.shareableLink)||void 0===t?void 0:t.allow_download)||i&&(i.owns_entry||i.entry_permissions.download)})}bindToDownload(){this.downloadSub=this.previewFiles.download.subscribe(()=>{const e=this.previewFiles.getCurrent();this.store.dispatch(new T([e],this.data.shareableLink,this.data.password))})}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(o.g),r.Pb(r.m),r.Pb(cn),r.Pb(zr.a),r.Pb(Rr),r.Pb(Te.a),r.Pb(Br.a))},e.\u0275cmp=r.Jb({type:e,selectors:[["file-preview-overlay"]],viewQuery:function(e,t){var i;1&e&&(r.Ec(eo,!0,r.m),r.Qc(to,!0,r.m)),2&e&&(r.tc(i=r.dc())&&(t.previewContainer=i.first),r.tc(i=r.dc())&&(t.optionsButton=i.first))},decls:4,vars:6,consts:[[3,"showCloseButton","disableDownload","closed"],["mat-icon-button","",3,"click",4,"ngIf"],[3,"files","activeFile","disableDownload"],["previewContainer",""],["mat-icon-button","",3,"click"],["moreOptionsButton",""],["svgIcon","more-vert"]],template:function(e,t){1&e&&(r.Vb(0,"file-preview-toolbar",0),r.cc("closed",(function(){return t.closeOverlay()})),r.Ic(1,io,3,0,"button",1),r.Ub(),r.Qb(2,"preview-container",2,3)),2&e&&(r.mc("showCloseButton",!0)("disableDownload",!t.canDownload()),r.Db(1),r.mc("ngIf",!t.data.hideMoreOptionsBtn),r.Db(1),r.mc("files",t.data.entries)("activeFile",t.data.activeEntry)("disableDownload",!t.canDownload()))},directives:[Jr,n.t,Yr,Vt.b,tt.a],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%;background-color:rgba(0,0,0,.9);color:var(--be-accent-contrast);overflow:auto;position:relative}preview-container[_ngcontent-%COMP%]{margin-top:60px;min-height:calc(100% - 60px)}"],changeDetection:0}),e})();var so=i("dz5c"),ao=i("CH4Q");const ro=["filesContainer"];function oo(e,t){if(1&e){const e=r.Wb();r.Vb(0,"button",13),r.cc("click",(function(){return r.xc(e),r.gc().openFolder()})),r.Qb(1,"mat-icon",14),r.Ub()}}function co(e,t){1&e&&r.Qb(0,"mat-icon",17)}function lo(e,t){if(1&e){const e=r.Wb();r.Tb(0),r.Vb(1,"div",15),r.cc("click",(function(){r.xc(e);const i=t.$implicit;return r.gc().openFolder(i)})),r.Kc(2),r.Ub(),r.Ic(3,co,1,0,"mat-icon",16),r.Sb()}if(2&e){const e=t.$implicit,i=t.last;r.Db(2),r.Lc(e.name),r.Db(1),r.mc("ngIf",!i)}}function ho(e,t){if(1&e){const e=r.Wb();r.Tb(0),r.Vb(1,"button",18),r.cc("click",(function(){return r.xc(e),r.gc().toggleViewMode()})),r.hc(2,"trans"),r.Qb(3,"mat-icon",19),r.Ub(),r.Sb()}if(2&e){const e=t.ngIf;r.Db(1),r.mc("matTooltip",r.ic(2,2,"list"===e?"Grid view":"List view")),r.Db(2),r.mc("svgIcon","list"===e?"view-list":"view-module")}}function po(e,t){if(1&e){const e=r.Wb();r.Vb(0,"button",20),r.cc("click",(function(){return r.xc(e),r.gc().download()})),r.hc(1,"trans"),r.Qb(2,"mat-icon",21),r.Ub()}2&e&&r.mc("matTooltip",r.ic(1,1,"Download all"))}function uo(e,t){if(1&e&&r.Qb(0,"files-grid",24),2&e){const e=r.gc().ngIf;r.mc("entries",e.data)("disableInteractions",!0)}}function bo(e,t){if(1&e&&r.Qb(0,"files-list",24),2&e){const e=r.gc().ngIf;r.mc("entries",e.data)("disableInteractions",!0)}}function go(e,t){1&e&&(r.Vb(0,"no-results-message"),r.Vb(1,"span",25),r.Kc(2,"Folder Is Empty"),r.Ub(),r.Vb(3,"span",26),r.Kc(4,"No files have been uploaded to this folder yet."),r.Ub(),r.Ub())}function mo(e,t){if(1&e&&(r.Tb(0),r.Ic(1,uo,1,2,"files-grid",22),r.hc(2,"async"),r.Ic(3,bo,1,2,"ng-template",null,23,r.Jc),r.Ic(5,go,5,0,"no-results-message",7),r.Sb()),2&e){const e=t.ngIf,i=r.uc(4),n=r.gc();r.Db(1),r.mc("ngIf","grid"===r.ic(2,3,n.viewMode$))("ngIfElse",i),r.Db(4),r.mc("ngIf",!e.data.length)}}const fo=["*"];let vo=(()=>{class e extends ta{constructor(e,t,i,n,s,a){super(),this.store=e,this.overlay=t,this.router=i,this.linkApi=n,this.zone=s,this.el=a,this.loading$=new dt.a(!1),this.breadcrumb$=new dt.a([]),this.pagination$=new dt.a(null),this.allFolders={},this.sortFormControl=new Pt.i({column:"updated_at",direction:"desc"})}get folder(){return this.data.link.entry}get children(){return this.pagination$.value.data}ngOnInit(){super.ngOnInit(),this.sortFormControl.valueChanges.subscribe(e=>{e&&this.loadChildren({},!0)})}ngOnChanges(){this.allFolders[this.folder.id]=this.folder,this.generateBreadcrumb(this.folder),this.setPagination(this.data.folderChildren),this.loading$.next(!1)}download(){this.store.dispatch(new T([this.folder],this.data.link,this.password))}toggleViewMode(){const e=this.store.selectSnapshot(Ge.viewMode);this.store.dispatch(new D("list"===e?"grid":"list"))}openPreviewOverlay(e){const t=this.children.filter(e=>"folder"!==e.type),i=t.findIndex(t=>t.id===e.id);this.overlay.open(no,{position:"center",origin:"global",panelClass:"file-preview-overlay-container",data:{entries:t.slice(),activeEntry:i,shareableLink:this.data.link,password:this.password,hideMoreOptionsBtn:!0}})}getEntry(e){const t=e.target.closest(".drive-entry");if(t)return this.children.find(e=>e.id===+t.dataset.id)}onClick(e){const t=this.getEntry(e);t&&("folder"===t.type?this.openFolder(t):this.openPreviewOverlay(t))}isSubFolder(){return this.router.url.indexOf(":")>-1}openFolder(e){e&&this.folder.id===e.id||(this.loading$.next(!0),this.router.navigate(["/drive/s",this.makeLinkHash(e)]).then(()=>{this.sortFormControl.reset()}))}generateBreadcrumb(e){this.breadcrumb$.next(e.path.split("/").map(e=>this.allFolders[+e]).filter(e=>!!e))}loadChildren(e,t=!1){this.loading$.next(!0);const i=`${this.sortFormControl.value.column}:${this.sortFormControl.value.direction}`,n=e.page||this.pagination$.value.current_page;this.linkApi.findByHash(this.makeLinkHash(this.folder),{page:n,order:i,withEntries:!0}).pipe(Object(l.a)(()=>this.loading$.next(!1))).subscribe(e=>{const i=e.folderChildren;t||(i.data=[...this.children,...i.data]),this.setPagination(i)})}makeLinkHash(e){let t=this.data.link.hash;return e&&(t+=":"+e.hash),t}setPagination(e){e.data=e.data.map(e=>(e.url+="?shareable_link="+this.data.link.id,this.password&&(e.url+="&password="+this.password),e)),this.pagination$.next(e)}loadMoreItems(){this.loadChildren({page:this.pagination$.value.current_page+1},!1)}canLoadMore(){return this.pagination$.value.current_page<this.pagination$.value.last_page}isLoading(){return this.loading$.value}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(o.g),r.Pb(so.a),r.Pb(s.g),r.Pb(Yt),r.Pb(r.B),r.Pb(r.m))},e.\u0275cmp=r.Jb({type:e,selectors:[["folder-preview"]],viewQuery:function(e,t){var i;1&e&&r.Ec(ro,!0),2&e&&r.tc(i=r.dc())&&(t.filesContainer=i.first)},inputs:{data:"data",password:"password"},features:[r.Ab,r.Bb],ngContentSelectors:fo,decls:20,vars:15,consts:[[1,"toolbar"],[1,"breadcrumb"],["mat-icon-button","","class","home-button",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"actions"],[3,"formControl"],[1,"action-separator"],[4,"ngIf"],["mat-icon-button","",3,"matTooltip","click",4,"ngIf"],["slot","ads.file-preview",1,"folder-preview-vert-host"],[1,"files-container",3,"click"],["filesContainer",""],[1,"overlay",3,"isVisible"],["mat-icon-button","",1,"home-button",3,"click"],["svgIcon","home",1,"action-icon"],[1,"breadcrumb-item",3,"click"],["class","separator","svgIcon","keyboard-arrow-right",4,"ngIf"],["svgIcon","keyboard-arrow-right",1,"separator"],["mat-icon-button","",1,"view-toggle-button",3,"matTooltip","click"],[1,"action-icon",3,"svgIcon"],["mat-icon-button","",3,"matTooltip","click"],["svgIcon","file-download",1,"action-icon"],[3,"entries","disableInteractions",4,"ngIf","ngIfElse"],["filesList",""],[3,"entries","disableInteractions"],["primary-text","","trans",""],["secondary-text","","trans",""]],template:function(e,t){1&e&&(r.lc(),r.Qb(0,"material-navbar"),r.Vb(1,"div",0),r.Vb(2,"div",1),r.Ic(3,oo,2,0,"button",2),r.Ic(4,lo,4,2,"ng-container",3),r.hc(5,"async"),r.Ub(),r.Vb(6,"div",4),r.Qb(7,"entries-sort-button",5),r.Qb(8,"span",6),r.Ic(9,ho,4,4,"ng-container",7),r.hc(10,"async"),r.Ic(11,po,3,3,"button",8),r.kc(12),r.Ub(),r.Ub(),r.Qb(13,"ad-host",9),r.Vb(14,"div",10,11),r.cc("click",(function(e){return t.onClick(e)})),r.Ic(16,mo,6,5,"ng-container",7),r.hc(17,"async"),r.Ub(),r.Qb(18,"loading-indicator",12),r.hc(19,"async")),2&e&&(r.Db(3),r.mc("ngIf",t.isSubFolder()),r.Db(1),r.mc("ngForOf",r.ic(5,7,t.breadcrumb$)),r.Db(3),r.mc("formControl",t.sortFormControl),r.Db(2),r.mc("ngIf",r.ic(10,9,t.viewMode$)),r.Db(2),r.mc("ngIf",t.data.link.allow_download),r.Db(5),r.mc("ngIf",r.ic(17,11,t.pagination$)),r.Db(2),r.mc("isVisible",r.ic(19,13,t.loading$)))},directives:[Vn.a,n.t,n.s,fa,Pt.u,Pt.j,Zs.a,gi.a,Vt.b,tt.a,xs.a,La,Ka,ao.a,Ut.a],pipes:[n.b,zt.a],styles:["folder-preview{display:block;max-height:100vh;overflow:auto}folder-preview .files-container{max-width:1280px;margin-left:auto;margin-right:auto;padding:10px 20px}folder-preview .folder-preview-vert-host{margin:30px 0}folder-preview material-navbar:not(.transparent){background-color:var(--be-accent-default)}folder-preview material-navbar:not(.transparent) .mat-raised-button.mat-accent{background-color:#fff;color:var(--be-text)}folder-preview .toolbar{display:flex;padding:15px;margin-bottom:15px;border-bottom:1px solid var(--be-divider-default);color:var(--be-text)}@media only screen and (max-width:768px){folder-preview .toolbar{display:block}folder-preview .toolbar .breadcrumb{margin-bottom:10px}}folder-preview .toolbar .action-icon{color:var(--be-secondary-text)}folder-preview .toolbar .breadcrumb{flex:1 1 auto}folder-preview .toolbar .actions{margin-left:auto}folder-preview .toolbar .action-separator{display:inline-block;vertical-align:middle;background-color:var(--be-divider-default);width:1px;height:40px;margin:0 12px}folder-preview .drive-entry{cursor:pointer;transition-property:all}folder-preview .drive-entry:hover{box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12)}folder-preview .breadcrumb{display:flex;align-items:center;max-width:100%;overflow:hidden}folder-preview .breadcrumb .breadcrumb-item{font-size:1.8rem;color:var(--be-text);border-radius:4px;padding:4px 8px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;cursor:pointer}folder-preview .breadcrumb .breadcrumb-item:hover{background-color:var(--be-hover)}folder-preview .breadcrumb .breadcrumb-item:first-of-type{text-transform:capitalize}folder-preview .breadcrumb .breadcrumb-item .mat-icon{vertical-align:middle;color:var(--be-secondary-text);margin-left:-5px}folder-preview .breadcrumb .separator{color:var(--be-secondary-text)}folder-preview no-results-message{margin-top:40px}@media only screen and (max-width:450px){folder-preview entries-sort-button .label{display:none}}"],encapsulation:2,changeDetection:0}),Object(a.b)([Object(o.d)(Ge.viewMode)],e.prototype,"viewMode$",void 0),e})();function yo(e,t){if(1&e){const e=r.Wb();r.Vb(0,"link-preview-password-panel",3),r.cc("passwordValid",(function(t){return r.xc(e),r.gc(2).setValidPassword(t)})),r.Ub()}if(2&e){const e=r.gc().ngIf;r.mc("link",e.link)}}function wo(e,t){if(1&e){const e=r.Wb();r.Tb(0),r.Qb(1,"span",5),r.Vb(2,"button",6),r.cc("click",(function(){return r.xc(e),r.gc(4).import()})),r.Kc(3,"Import"),r.Ub(),r.Sb()}}function xo(e,t){if(1&e&&(r.Tb(0),r.Vb(1,"folder-preview",4),r.Ic(2,wo,4,0,"ng-container",0),r.hc(3,"async"),r.Ub(),r.Sb()),2&e){const e=r.gc(2).ngIf,t=r.gc();r.Db(1),r.mc("data",e)("password",t.password),r.Db(1),r.mc("ngIf",!r.ic(3,3,t.entryAlreadyImported$)&&t.currentUser.isLoggedIn())}}function _o(e,t){1&e&&(r.Vb(0,"a",12),r.Kc(1,"Sign In"),r.Ub())}function ko(e,t){if(1&e){const e=r.Wb();r.Vb(0,"button",6),r.cc("click",(function(){return r.xc(e),r.gc(4).import()})),r.Kc(1,"Import"),r.Ub()}}const Oo=function(e){return[e]};function Co(e,t){if(1&e&&(r.Tb(0),r.Vb(1,"file-preview-toolbar",7),r.Ic(2,_o,2,0,"a",8),r.Ic(3,ko,2,0,"button",9),r.hc(4,"async"),r.Ub(),r.Qb(5,"ad-host",10),r.Qb(6,"preview-container",11),r.Sb()),2&e){const e=r.gc(2).ngIf,t=r.gc();r.Db(1),r.mc("showLogo",!0)("disableDownload",!e.link.allow_download),r.Db(1),r.mc("ngIf",!t.currentUser.isLoggedIn()),r.Db(1),r.mc("ngIf",!r.ic(4,7,t.entryAlreadyImported$)&&t.currentUser.isLoggedIn()),r.Db(3),r.Hb("has-rek",t.settings.has("ads.file-preview")),r.mc("files",r.qc(9,Oo,e.link.entry))}}function Po(e,t){if(1&e&&(r.Ic(0,xo,4,5,"ng-container",0),r.Ic(1,Co,7,11,"ng-container",0)),2&e){const e=r.gc().ngIf;r.mc("ngIf","folder"===e.link.entry.type),r.Db(1),r.mc("ngIf","folder"!==e.link.entry.type)}}function Io(e,t){if(1&e&&(r.Tb(0),r.Ic(1,yo,1,1,"link-preview-password-panel",1),r.hc(2,"async"),r.Ic(3,Po,2,2,"ng-template",null,2,r.Jc),r.Sb()),2&e){const e=r.uc(4),t=r.gc();r.Db(1),r.mc("ngIf",r.ic(2,2,t.passwordPanelVisible$))("ngIfElse",e)}}let Do=(()=>{class e{constructor(e,t,i,n,s,a,r,o,c,l){this.store=e,this.route=t,this.links=i,this.previewFiles=n,this.settings=s,this.currentUser=a,this.router=r,this.toast=o,this.el=c,this.localStorage=l,this.data$=new dt.a(null),this.passwordPanelVisible$=new dt.a(!1)}get entryAlreadyImported$(){const e=this.currentUser.get("id");return this.data$.pipe(Object(It.a)(e=>e.link),Object(ct.a)(e=>!!e&&!!e.entry&&!!e.entry.users),Object(It.a)(e=>e.entry),Object(It.a)(t=>!!t.users.find(t=>t.id===e)))}ngOnInit(){this.bindToDownload(),this.disableContextMenu(),this.setViewMode(),this.route.params.subscribe(e=>{this.links.findByHash(e.hash,{withEntries:!0}).subscribe(e=>{const t=e.link.id!==(this.data$.value&&this.data$.value.link.id);this.data$.next(e),this.setBackgroundClass(e.link),!e.link.password||!t&&this.password?(this.togglePasswordPanel(!1),this.showPreview()):this.togglePasswordPanel(!0)},()=>{this.router.navigate(["/404"])})})}ngOnDestroy(){this.downloadSub.unsubscribe()}import(){this.links.importEntry(this.data$.value.link.id,this.password).subscribe(e=>{const t=this.data$.value.link;t.entry.users=e.users,this.data$.next(Object.assign(Object.assign({},this.data$.value),{link:t})),this.toast.open({message:'":name" imported into your drive.',replacements:{name:t.entry.name}})})}togglePasswordPanel(e){this.passwordPanelVisible$.next(e)}bindToDownload(){this.downloadSub=this.previewFiles.download.subscribe(()=>{const e=this.data$.value.link;this.store.dispatch(new T([e.entry],e,this.password))})}showPreview(){const e=this.data$.value;e.link.entry.url+="?shareable_link="+e.link.id,this.password&&(e.link.entry.url+="&password="+this.password),this.data$.next(Object.assign({},e))}setValidPassword(e){this.password=e,this.showPreview(),this.togglePasswordPanel(!1)}setBackgroundClass(e){this.el.nativeElement.classList.add("folder"===e.entry.type?"folder-link":"file-link")}disableContextMenu(){Object(dn.a)(this.el.nativeElement,"contextmenu").subscribe(e=>{e.preventDefault()})}setViewMode(){this.store.dispatch(new D(this.localStorage.get("bedrive.viewMode",this.settings.get("drive.default_view","grid"))))}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(o.g),r.Pb(s.a),r.Pb(Yt),r.Pb(Rr),r.Pb(St.a),r.Pb(Te.a),r.Pb(s.g),r.Pb(qe.b),r.Pb(r.m),r.Pb(Ne.a))},e.\u0275cmp=r.Jb({type:e,selectors:[["link-preview-container"]],features:[r.Cb([Rr])],decls:2,vars:3,consts:[[4,"ngIf"],[3,"link","passwordValid",4,"ngIf","ngIfElse"],["filePreview",""],[3,"link","passwordValid"],[3,"data","password"],[1,"action-separator"],["mat-flat-button","","color","accent","trans","",3,"click"],[3,"showLogo","disableDownload"],["mat-flat-button","","color","accent","routerLink","/login","trans","",4,"ngIf"],["mat-flat-button","","color","accent","trans","",3,"click",4,"ngIf"],["slot","ads.file-preview",1,"file-preview-vert-host"],[3,"files"],["mat-flat-button","","color","accent","routerLink","/login","trans",""]],template:function(e,t){1&e&&(r.Ic(0,Io,5,4,"ng-container",0),r.hc(1,"async")),2&e&&r.mc("ngIf",r.ic(1,1,t.data$))},directives:[n.t,Nr,vo,Vt.b,Ut.a,Jr,Zs.a,Yr,Vt.a,s.j],pipes:[n.b],styles:["link-preview-container{display:block;width:100%;height:100%;position:relative;overflow:hidden}link-preview-container.folder-link{background-color:var(--be-background)}link-preview-container.file-link{background-color:rgba(0,0,0,.9)}link-preview-container preview-container{margin:60px 0;min-height:calc(100% - 120px)}link-preview-container .file-preview-vert-host{margin-top:80px}"],encapsulation:2,changeDetection:0}),e})();var jo=i("0QyJ"),So=i("vhtE");const Eo=[{path:"s/:hash",component:Do},{path:"",component:Va,canActivate:[jo.a,So.a],children:[{path:"",component:cr},{path:"shares",component:cr},{path:"search",component:cr},{path:"recent",component:cr},{path:"starred",component:cr},{path:"trash",component:cr},{path:"folders/:hash",component:cr},{path:"workspaces",loadChildren:()=>i.e(10).then(i.bind(null,"XsAd")).then(e=>e.WorkspaceWrapperModule)}]}];let Uo=(()=>{class e{}return e.\u0275mod=r.Nb({type:e}),e.\u0275inj=r.Mb({factory:function(t){return new(t||e)},imports:[[n.c,s.k.forChild(Eo)],s.k]}),e})();var Vo=i("nLfN"),Ao=i("R1ws");function Mo(e,t){if(1&e&&(r.fc(),r.Qb(0,"circle",3)),2&e){const e=r.gc();r.Fc("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),r.Eb("r",e._getCircleRadius())}}function To(e,t){if(1&e&&(r.fc(),r.Qb(0,"circle",3)),2&e){const e=r.gc();r.Fc("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),r.Eb("r",e._getCircleRadius())}}function Fo(e,t){if(1&e&&(r.fc(),r.Qb(0,"circle",3)),2&e){const e=r.gc();r.Fc("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),r.Eb("r",e._getCircleRadius())}}function Lo(e,t){if(1&e&&(r.fc(),r.Qb(0,"circle",3)),2&e){const e=r.gc();r.Fc("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),r.Eb("r",e._getCircleRadius())}}const Ro=".mat-progress-spinner{display:block;position:relative}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:currentColor}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n";class $o{constructor(e){this._elementRef=e}}const No=Object(Li.u)($o,"primary"),Bo=new r.s("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});let zo=(()=>{class e extends No{constructor(t,i,n,s,a){super(t),this._elementRef=t,this._document=n,this._diameter=100,this._value=0,this._fallbackAnimation=!1,this.mode="determinate";const r=e._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),r.has(n.head)||r.set(n.head,new Set([100])),this._fallbackAnimation=i.EDGE||i.TRIDENT,this._noopAnimations="NoopAnimations"===s&&!!a&&!a._forceAnimations,a&&(a.diameter&&(this.diameter=a.diameter),a.strokeWidth&&(this.strokeWidth=a.strokeWidth))}get diameter(){return this._diameter}set diameter(e){this._diameter=Object(Oi.f)(e),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(e){this._strokeWidth=Object(Oi.f)(e)}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,Object(Oi.f)(e)))}ngOnInit(){const e=this._elementRef.nativeElement;this._styleRoot=Object(Vo.c)(e)||this._document.head,this._attachStyleNode(),e.classList.add(`mat-progress-spinner-indeterminate${this._fallbackAnimation?"-fallback":""}-animation`)}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const e=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._getStrokeCircumference():null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const t=this._styleRoot,i=this._diameter,n=e._diameters;let s=n.get(t);if(!s||!s.has(i)){const e=this._document.createElement("style");e.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),e.textContent=this._getAnimationText(),t.appendChild(e),s||(s=new Set,n.set(t,s)),s.add(i)}}_getAnimationText(){const e=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*e).replace(/END_VALUE/g,""+.2*e).replace(/DIAMETER/g,""+this._spinnerAnimationLabel)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(r.m),r.Pb(Vo.a),r.Pb(n.e,8),r.Pb(Ao.a,8),r.Pb(Bo))},e.\u0275cmp=r.Jb({type:e,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(e,t){2&e&&(r.Eb("aria-valuemin","determinate"===t.mode?0:null)("aria-valuemax","determinate"===t.mode?100:null)("aria-valuenow","determinate"===t.mode?t.value:null)("mode",t.mode),r.Fc("width",t.diameter,"px")("height",t.diameter,"px"),r.Hb("_mat-animation-noopable",t._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[r.Ab],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(e,t){1&e&&(r.fc(),r.Vb(0,"svg",0),r.Ic(1,Mo,1,9,"circle",1),r.Ic(2,To,1,7,"circle",2),r.Ub()),2&e&&(r.Fc("width",t.diameter,"px")("height",t.diameter,"px"),r.mc("ngSwitch","indeterminate"===t.mode),r.Eb("viewBox",t._getViewBox()),r.Db(1),r.mc("ngSwitchCase",!0),r.Db(1),r.mc("ngSwitchCase",!1))},directives:[n.x,n.y],styles:[Ro],encapsulation:2,changeDetection:0}),e._diameters=new WeakMap,e})(),Ko=(()=>{class e extends zo{constructor(e,t,i,n,s){super(e,t,i,n,s),this.mode="indeterminate"}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(r.m),r.Pb(Vo.a),r.Pb(n.e,8),r.Pb(Ao.a,8),r.Pb(Bo))},e.\u0275cmp=r.Jb({type:e,selectors:[["mat-spinner"]],hostAttrs:["role","progressbar","mode","indeterminate",1,"mat-spinner","mat-progress-spinner"],hostVars:6,hostBindings:function(e,t){2&e&&(r.Fc("width",t.diameter,"px")("height",t.diameter,"px"),r.Hb("_mat-animation-noopable",t._noopAnimations))},inputs:{color:"color"},features:[r.Ab],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(e,t){1&e&&(r.fc(),r.Vb(0,"svg",0),r.Ic(1,Fo,1,9,"circle",1),r.Ic(2,Lo,1,7,"circle",2),r.Ub()),2&e&&(r.Fc("width",t.diameter,"px")("height",t.diameter,"px"),r.mc("ngSwitch","indeterminate"===t.mode),r.Eb("viewBox",t._getViewBox()),r.Db(1),r.mc("ngSwitchCase",!0),r.Db(1),r.mc("ngSwitchCase",!1))},directives:[n.x,n.y],styles:[Ro],encapsulation:2,changeDetection:0}),e})(),Qo=(()=>{class e{}return e.\u0275mod=r.Nb({type:e}),e.\u0275inj=r.Mb({factory:function(t){return new(t||e)},imports:[[Li.h,n.c],Li.h]}),e})();var Wo=i("wZkO");const Xo={entry:sa};var Ho=i("gcYM"),Zo=i("eNwd");function Jo(e,t){if(1&e&&(r.Vb(0,"div",9),r.Kc(1),r.Vb(2,"span",10),r.Kc(3,"left"),r.Ub(),r.Ub()),2&e){const e=r.gc();r.Db(1),r.Mc(" ",e.progress.eta," ")}}function qo(e,t){1&e&&(r.Qb(0,"mat-icon",11),r.hc(1,"trans")),2&e&&r.mc("matTooltip",r.ic(1,1,t.ngIf))}function Go(e,t){1&e&&r.Qb(0,"mat-icon",14)}function Yo(e,t){if(1&e){const e=r.Wb();r.Vb(0,"span",15),r.cc("click",(function(){r.xc(e);const t=r.gc(2);return t.cancelUpload(t.upload)})),r.Kc(1,"Cancel"),r.Ub()}}function ec(e,t){if(1&e&&(r.Ic(0,Go,1,0,"mat-icon",12),r.Ic(1,Yo,2,0,"span",13)),2&e){const e=r.gc();r.mc("ngIf",e.upload.completed),r.Db(1),r.mc("ngIf",!e.upload.completed)}}let tc=(()=>{class e{constructor(e,t,i){this.uploadQueue=e,this.store=t,this.cd=i,this.progress={}}ngOnInit(){this.subscription=this.upload.progress$.pipe(Object(Ho.a)(260,Zo.a,{leading:!0,trailing:!0})).subscribe(e=>{this.progress=e,this.cd.detectChanges()})}ngOnDestroy(){this.subscription.unsubscribe()}cancelUpload(e){this.uploadQueue.remove(e.id),this.uploadQueue.isEmpty()&&this.store.dispatch(new k)}}return e.\u0275fac=function(t){return new(t||e)(r.Pb($e.a),r.Pb(o.g),r.Pb(r.i))},e.\u0275cmp=r.Jb({type:e,selectors:[["uploads-panel-item"]],inputs:{upload:"upload"},decls:12,vars:9,consts:[[3,"mime"],[1,"content"],[1,"meta"],[1,"name",3,"matTooltip"],["class","time-left",4,"ngIf"],[1,"actions"],["svgIcon","error","class","error-icon","matTooltipPosition","left",3,"matTooltip",4,"ngIf","ngIfElse"],["noError",""],["mode","determinate","color","accent",3,"value"],[1,"time-left"],["trans",""],["svgIcon","error","matTooltipPosition","left",1,"error-icon",3,"matTooltip"],["svgIcon","check-circle","class","completed-icon",4,"ngIf"],["class","cancel-button","trans","",3,"click",4,"ngIf"],["svgIcon","check-circle",1,"completed-icon"],["trans","",1,"cancel-button",3,"click"]],template:function(e,t){if(1&e&&(r.Qb(0,"file-icon",0),r.Vb(1,"div",1),r.Vb(2,"div",2),r.Vb(3,"div",3),r.Kc(4),r.Ub(),r.Ic(5,Jo,4,1,"div",4),r.Vb(6,"div",5),r.Ic(7,qo,2,3,"mat-icon",6),r.hc(8,"async"),r.Ic(9,ec,2,2,"ng-template",null,7,r.Jc),r.Ub(),r.Ub(),r.Qb(11,"mat-progress-bar",8),r.Ub()),2&e){const e=r.uc(10);r.mc("mime",t.upload.uploadedFile.mime),r.Db(3),r.mc("matTooltip",t.upload.uploadedFile.name),r.Db(1),r.Lc(t.upload.uploadedFile.name),r.Db(1),r.mc("ngIf",t.progress.percentage&&t.progress.percentage<100&&!t.upload.error$.value),r.Db(2),r.mc("ngIf",r.ic(8,7,t.upload.error$))("ngIfElse",e),r.Db(4),r.mc("value",t.progress.percentage)}},directives:[it,xs.a,n.t,Yn.a,Ut.a,tt.a],pipes:[n.b,zt.a],styles:["uploads-panel-item{display:flex;align-items:center;padding:15px;border-bottom:1px solid var(--be-divider-default)}uploads-panel-item file-icon{width:35px;height:35px;flex:0 0 35px;margin-right:10px}uploads-panel-item .content{flex:1 1 auto;margin-bottom:5px;min-width:0}uploads-panel-item .content .meta{display:flex;align-items:center;padding-bottom:4px}uploads-panel-item .name{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}uploads-panel-item .time-left{color:var(--be-secondary-text);font-size:1.3rem;padding-left:15px;white-space:nowrap}uploads-panel-item .actions{margin-left:auto;padding-left:20px}uploads-panel-item .actions .mat-icon{vertical-align:middle;width:22px;height:22px;margin-bottom:4px}uploads-panel-item .completed-icon{color:var(--be-accent-default)}uploads-panel-item .error-icon{color:#f44336}uploads-panel-item .cancel-button{color:var(--be-link);cursor:pointer;font-size:1.2rem;text-transform:uppercase;line-height:22px}uploads-panel-item .cancel-button:hover{text-decoration:underline}uploads-panel-item .mat-progress-bar{height:3px;border-radius:3px}uploads-panel-item .mat-progress-bar .mat-progress-bar-buffer{background-color:var(--be-hover)}uploads-panel-item .mat-progress-bar .mat-progress-bar-fill:after{background-color:var(--be-accent-default)}"],encapsulation:2,changeDetection:0}),e})();function ic(e,t){if(1&e&&(r.Tb(0),r.Kc(1),r.hc(2,"trans"),r.hc(3,"trans"),r.Sb()),2&e){const e=r.gc().ngIf;r.Db(1),r.Oc(" ",r.ic(2,3,"Uploading")," ",e.pending," ",r.ic(3,5,e.pending>1?"Items":"Item")," ")}}function nc(e,t){if(1&e&&(r.Tb(0),r.Kc(1),r.hc(2,"trans"),r.Sb()),2&e){const e=r.gc().ngIf;r.Db(1),r.Nc(" ",e.completed," ",r.ic(2,2,"items uploaded")," ")}}function sc(e,t){if(1&e&&(r.Tb(0),r.Ic(1,ic,4,7,"ng-container",2),r.Ic(2,nc,3,4,"ng-container",2),r.Sb()),2&e){const e=t.ngIf;r.Db(1),r.mc("ngIf",e.pending>0),r.Db(1),r.mc("ngIf",0===e.pending)}}function ac(e,t){1&e&&r.Qb(0,"mat-icon",10)}function rc(e,t){1&e&&r.Qb(0,"mat-icon",11)}function oc(e,t){1&e&&r.Qb(0,"uploads-panel-item",12),2&e&&r.mc("upload",t.$implicit)}let cc=(()=>{class e{constructor(e,t){this.store=e,this.activeUploads=t,this.minimized$=new dt.a(!1)}ngOnDestroy(){this.activeUploads.reset()}toggleMinimized(){this.minimized$.next(!this.minimized$.value)}close(){this.store.dispatch(new k)}trackById(e,t){return t.id}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(o.g),r.Pb($e.a))},e.\u0275cmp=r.Jb({type:e,selectors:[["uploads-panel"]],decls:16,vars:15,consts:[[1,"header"],[1,"info"],[4,"ngIf"],[1,"actions"],["mat-icon-button","",3,"click"],["svgIcon","keyboard-arrow-up","class","minimize-icon",4,"ngIf","ngIfElse"],["notMinimized",""],["svgIcon","close"],[1,"uploads-list"],[3,"upload",4,"ngFor","ngForOf","ngForTrackBy"],["svgIcon","keyboard-arrow-up",1,"minimize-icon"],["svgIcon","keyboard-arrow-down",1,"minimize-icon"],[3,"upload"]],template:function(e,t){if(1&e&&(r.Vb(0,"div",0),r.Vb(1,"div",1),r.Ic(2,sc,3,2,"ng-container",2),r.hc(3,"async"),r.Ub(),r.Vb(4,"div",3),r.Vb(5,"button",4),r.cc("click",(function(){return t.toggleMinimized()})),r.Ic(6,ac,1,0,"mat-icon",5),r.hc(7,"async"),r.Ic(8,rc,1,0,"ng-template",null,6,r.Jc),r.Ub(),r.Vb(10,"button",4),r.cc("click",(function(){return t.close()})),r.Qb(11,"mat-icon",7),r.Ub(),r.Ub(),r.Ub(),r.Vb(12,"div",8),r.hc(13,"async"),r.Ic(14,oc,1,1,"uploads-panel-item",9),r.hc(15,"async"),r.Ub()),2&e){const e=r.uc(9);r.Db(2),r.mc("ngIf",r.ic(3,7,t.activeUploads.count$)),r.Db(4),r.mc("ngIf",r.ic(7,9,t.minimized$))("ngIfElse",e),r.Db(6),r.Hb("hidden",r.ic(13,11,t.minimized$)),r.Db(2),r.mc("ngForOf",r.ic(15,13,t.activeUploads.uploads$))("ngForTrackBy",t.trackById)}},directives:[n.t,Vt.b,tt.a,n.s,tc],pipes:[n.b,zt.a],styles:["uploads-panel{width:380px;box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 5px 8px 0 rgba(0,0,0,.14),0 1px 14px 0 rgba(0,0,0,.12);background-color:var(--be-background);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}uploads-panel .header{display:flex;align-items:center;background-color:var(--be-accent-default);color:var(--be-accent-contrast);padding:8px}uploads-panel .header .info{padding-left:10px}uploads-panel .header .actions{margin-left:auto}uploads-panel .header .minimize-icon{width:30px;height:30px}uploads-panel .uploads-list{max-height:350px;overflow:auto}"],encapsulation:2,changeDetection:0}),e})(),lc=(()=>{class e{constructor(e,t,i){this.store=e,this.actions$=t,this.overlay=i,this.actions$.pipe(Object(o.j)(M)).subscribe(e=>{const t=this.store.selectSnapshot(Ge.entries).filter(e=>"folder"!==e.type),i=this.store.selectSnapshot(Ge.selectedEntry),n=t.findIndex(e=>e.id===(null==i?void 0:i.id));this.overlay.open(no,{position:"center",origin:"global",panelClass:"file-preview-overlay-container",data:{entries:t.slice(),activeEntry:-1===n?0:n}})})}}return e.\u0275fac=function(t){return new(t||e)(r.Zb(o.g),r.Zb(o.b),r.Zb(so.a))},e.\u0275prov=r.Lb({token:e,factory:e.\u0275fac}),e})(),dc=(()=>{class e{constructor(e,t,i){this.actions$=e,this.store=t,this.settings=i,this.actions$.pipe(Object(o.j)(T)).subscribe(e=>{!function(e,t){const i=document.createElement("a");i.href=e,document.body.appendChild(i),i.click(),document.body.removeChild(i)}(this.getDownloadUrl(e))})}getDownloadUrl(e){const t=this.getEntryHashes(e.entries);let i=`${this.settings.getBaseUrl()}secure/uploads/download?hashes=${t}`;return e.link&&(i+="&shareable_link="+e.link.id),e.password&&(i+="&password="+e.password),i}getEntryHashes(e){return e||(e=this.store.selectSnapshot(Ge.selectedEntries)),e.map(e=>e.hash).join(",")}}return e.\u0275fac=function(t){return new(t||e)(r.Zb(o.b),r.Zb(o.g),r.Zb(St.a))},e.\u0275prov=r.Lb({token:e,factory:e.\u0275fac}),e})();var hc=i("dNgK");let pc=(()=>{class e{constructor(e){this.data=e}}return e.\u0275fac=function(t){return new(t||e)(r.Pb(hc.a))},e.\u0275cmp=r.Jb({type:e,selectors:[["loading-toast"]],decls:3,vars:2,consts:[[3,"diameter"],["trans",""]],template:function(e,t){1&e&&(r.Qb(0,"mat-spinner",0),r.Vb(1,"span",1),r.Kc(2),r.Ub()),2&e&&(r.mc("diameter",30),r.Db(2),r.Lc(t.data.message))},directives:[Ko,Ut.a],styles:["loading-toast{display:flex;align-items:center}loading-toast .mat-spinner{margin-right:20px}loading-toast .mat-spinner circle{stroke:var(--be-accent-contrast)}"],encapsulation:2,changeDetection:0}),e})(),uc=(()=>{class e{constructor(e,t,i,n){this.actions$=e,this.toast=t,this.store=i,this.router=n,this.entriesDeleted(),this.entriesStarred(),this.entriesUnstarred(),this.entriesMoveFailed(),this.folderCreated(),this.entriesMoved(),this.entriesDeletedForever(),this.entriesRestoredFromTrash(),this.entryRenamed(),this.linkCopiedToClipboard(),this.notEnoughSpace(),this.loadingToast()}entriesDeleted(){this.actions$.pipe(Object(o.h)(me)).subscribe(e=>{this.toast.open({message:"Deleted :count items.",replacements:{count:e.deletedFiles.length}},{action:"UNDO"}).onAction().subscribe(()=>{this.store.dispatch(new U(e.deletedFiles))})})}entriesStarred(){this.actions$.pipe(Object(o.j)(F)).subscribe(e=>{this.toast.open("Star added.",{action:"UNDO"}).onAction().subscribe(()=>{this.store.dispatch(new L(e.entries))})})}entriesUnstarred(){this.actions$.pipe(Object(o.j)(L)).subscribe(e=>{this.toast.open("Star Removed.",{action:"UNDO"}).onAction().subscribe(()=>{this.store.dispatch(new F(e.entries))})})}entriesMoved(){this.actions$.pipe(Object(o.h)(_e)).subscribe(e=>{this.toast.open({message:"Moved :count items.",replacements:{count:e.entries.length}})})}entriesMoveFailed(){this.actions$.pipe(Object(o.h)(ke)).subscribe(()=>{this.toast.open("There was an issue with moving selected items.")})}folderCreated(){this.actions$.pipe(Object(o.h)(ve)).subscribe(()=>{this.toast.open("Folder created.")})}entriesDeletedForever(){this.actions$.pipe(Object(o.j)(Oe)).subscribe(e=>{this.toast.open({message:"Permanently deleted :count items.",replacements:{count:e.entries.length}})})}entriesRestoredFromTrash(){this.actions$.pipe(Object(o.j)(Ce)).subscribe(e=>{this.toast.open({message:"Restored :count items.",replacements:{count:e.entries.length}})})}entryRenamed(){this.actions$.pipe(Object(o.j)(ye)).subscribe(e=>{this.toast.open({message:":oldName renamed to :newName",replacements:{oldName:e.entry.name,newName:e.newName}})})}linkCopiedToClipboard(){this.actions$.pipe(Object(o.j)(ai)).subscribe(()=>{this.toast.open("Link copied to clipboard.")})}notEnoughSpace(){this.actions$.pipe(Object(o.j)(Pe)).subscribe(()=>{this.toast.open("You are out of space. Try to delete some files.",{action:"Upgrade"}).onAction().subscribe(()=>{this.router.navigate(["/billing/upgrade"])})})}loadingToast(){let e;this.actions$.pipe(Object(o.j)(K)).subscribe(t=>{e=this.toast.openComponent(pc,{duration:0,data:{message:t.message}})}),this.actions$.pipe(Object(o.j)(Q)).subscribe(()=>{e&&(e.dismiss(),e=null)})}}return e.\u0275fac=function(t){return new(t||e)(r.Zb(o.b),r.Zb(qe.b),r.Zb(o.g),r.Zb(s.g))},e.\u0275prov=r.Lb({token:e,factory:e.\u0275fac}),e})();const bc={origin:"global",hasBackdrop:!1,position:{right:"10px",bottom:"10px"},mobilePosition:{left:0,bottom:0}};let gc=(()=>{class e{constructor(e,t,i){this.actions$=e,this.currentUser=t,this.overlayPanel=i,this.actions$.pipe(Object(o.j)(_)).subscribe(()=>{this.openUploadsPanel()}),this.actions$.pipe(Object(o.j)(k)).subscribe(()=>{this.closeUploadsPanel()}),this.currentUser.model$.subscribe(()=>{this.closeUploadsPanel()})}openUploadsPanel(){this.uploadPanelRef||(this.uploadPanelRef=this.overlayPanel.open(cc,bc))}closeUploadsPanel(){this.uploadPanelRef&&(this.uploadPanelRef.close(),this.uploadPanelRef=null)}}return e.\u0275fac=function(t){return new(t||e)(r.Zb(o.b),r.Zb(Te.a),r.Zb(so.a))},e.\u0275prov=r.Lb({token:e,factory:e.\u0275fac}),e})(),mc=(()=>{class e{constructor(e,t,i){this.actions$=e,this.dialog=t,this.store=i,this.actions$.pipe(Object(o.i)(P)).subscribe(e=>{this.dialog.open(e.dialog,e.data,e.config)}),this.actions$.pipe(Object(o.i)(I)).subscribe(e=>{this.openConfirmDialog(e)})}openConfirmDialog(e){this.dialog.open(os.a,e.data).beforeClosed().subscribe(t=>{if(t)return this.store.dispatch(e.confirmAction)})}}return e.\u0275fac=function(t){return new(t||e)(r.Zb(o.b),r.Zb(Hn.a),r.Zb(o.g))},e.\u0275prov=r.Lb({token:e,factory:e.\u0275fac}),e})();var fc=i("1jcm"),vc=i("6rvT"),yc=i("X3pI"),wc=i("0Gur");let xc=(()=>{class e{}return e.\u0275mod=r.Nb({type:e}),e.\u0275inj=r.Mb({factory:function(t){return new(t||e)},providers:[Hn.a],imports:[[n.c,Pt.E,vc.a,yc.a,fc.b,Wo.g,jt.g,wc.a,tt.b,Mt.c,Vt.c,xs.b,hi.b]]}),e})(),_c=(()=>{class e{constructor(e,t){this.actions$=e,this.domCache=t,this.actions$.pipe(Object(o.j)(N)).subscribe(()=>{this.domCache.scrollCont.scrollTo({top:0})})}}return e.\u0275fac=function(t){return new(t||e)(r.Zb(o.b),r.Zb(En))},e.\u0275prov=r.Lb({token:e,factory:e.\u0275fac}),e})(),kc=(()=>{class e{constructor(e){this.store=e,this.store.select(Ge.activePage).pipe(Object(ct.a)(e=>!!e)).subscribe(()=>{this.store.dispatch(new w)})}}return e.\u0275fac=function(t){return new(t||e)(r.Zb(o.g))},e.\u0275prov=r.Lb({token:e,factory:e.\u0275fac}),e})(),Oc=(()=>{class e{constructor(e,t,i){this.store=e,this.actions$=t,this.currentUser=i,this.actions$.pipe(Object(o.j)(d.c),Object(ct.a)(e=>e.event.urlAfterRedirects.indexOf("drive")>-1),Object(ct.a)(()=>this.currentUser.isLoggedIn())).subscribe(()=>{const e=this.getPageLoadAction();e&&this.store.dispatch(e)})}getPageLoadAction(){const e=this.getPageUriParams();switch(e.pageName){case"recent":return new ae;case"trash":return new ce;case"shares":return new oe;case"starred":return new he;case"search":const t=this.store.selectSnapshot(d.d.state).root.firstChild.queryParams;return new de({type:t.type,query:t.query});case"workspaces":return new le;case"s":return null;default:return new re(e.folderHash)}}getPageUriParams(){const e=this.store.selectSnapshot(d.d.url).split("?")[0],[,t,i]=e.split("/").filter(e=>!!e);return{pageName:t,folderHash:i}}}return e.\u0275fac=function(t){return new(t||e)(r.Zb(o.g),r.Zb(o.b),r.Zb(Te.a))},e.\u0275prov=r.Lb({token:e,factory:e.\u0275fac}),e})(),Cc=(()=>{class e{constructor(e,t){this.actions$=e,this.store=t,this.actions$.pipe(Object(o.j)(L)).pipe(Object(ct.a)(()=>"starred"===this.store.selectSnapshot(Ge.activePage).name)).subscribe(e=>{this.store.dispatch(new R(e.entries))})}}return e.\u0275fac=function(t){return new(t||e)(r.Zb(o.b),r.Zb(o.g))},e.\u0275prov=r.Lb({token:e,factory:e.\u0275fac}),e})();var Pc=i("gFpt"),Ic=i("k3xQ"),Dc=i("Iysn");let jc=(()=>{class e{}return e.\u0275mod=r.Nb({type:e}),e.\u0275inj=r.Mb({factory:function(t){return new(t||e)},imports:[[n.c]]}),e})();var Sc=i("OwjJ");let Ec=(()=>{class e{}return e.\u0275mod=r.Nb({type:e}),e.\u0275inj=r.Mb({factory:function(t){return new(t||e)},providers:[so.a,Rr,{provide:Fr,useClass:Lr}],imports:[[n.c,sn.h,Vt.c,yc.a]]}),e})();var Uc=i("GSRO");let Vc=(()=>{class e{}return e.\u0275mod=r.Nb({type:e}),e.\u0275inj=r.Mb({factory:function(t){return new(t||e)},imports:[[n.c,vc.a,Mt.c,Vt.c,tt.b]]}),e})();var Ac=i("losq"),Mc=i("8iTb"),Tc=i("1ImS"),Fc=i("rG4v"),Lc=i("/zh3"),Rc=i("DB1O"),$c=i("Sn2F"),Nc=i("eKg+"),Bc=i("Ivca"),zc=i("rcZy"),Kc=i("EAOp"),Qc=i("5oZ4"),Wc=i("bmro"),Xc=i("vxfF"),Hc=i("sTxL");const Zc=[lc,dc,uc,gc,mc,_c,kc,Oc,Cc];let Jc=(()=>{class e{constructor(e){this.injector=e,Zc.forEach(e=>this.injector.get(e))}}return e.\u0275mod=r.Nb({type:e}),e.\u0275inj=r.Mb({factory:function(t){return new(t||e)(r.Zb(r.t))},providers:[so.a,Rr,qe.b,...Zc,{provide:nn,useValue:Xo,multi:!0},{provide:Ue,deps:[St.a],useFactory:e=>{const t={multiple:!0},i=e.getJson("drive.validation.allowed_extensions");return i&&(t.extensions=i.map(e=>"."+e)),t}},{provide:Mc.a,useValue:{description:"Workspaces are shared spaces where teams can store, share and collaborate on files and folders."}}],imports:[[n.c,Uc.a,Uo,Ec,Pt.o,xc,Pc.a,vc.a,Ic.a,Pt.E,Dc.a,yc.a,jc,Sc.a,Vc,Ac.a,Tc.a,Xn.g,Gi,Vt.c,jt.g,Yn.b,tt.b,xs.b,Mn.b,Wo.g,Qo,Mt.c,o.c.forFeature([Ge,Ct,ci])]]}),e})();r.Bc(sa,[n.q,n.r,n.s,n.t,n.A,n.w,n.x,n.y,n.z,n.u,n.v,ea,Zn.a,Fc.a,s.l,s.h,s.j,s.i,s.o,Yr,Pt.K,Pt.z,Pt.J,Pt.d,Pt.A,Pt.D,Pt.a,Pt.G,Pt.H,Pt.C,Pt.u,Pt.v,Pt.F,Pt.q,Pt.p,Pt.B,Pt.b,Pt.e,Pt.x,Pt.y,Pt.w,Ha,Vn.a,Lc.a,qn.a,Ut.a,Pt.j,Pt.m,Pt.k,Pt.n,Pt.g,ao.a,gi.a,Rc.a,ln,Zs.a,vs,es.a,$a.a,hi.a,Ci.b,hi.c,$c.a,Nc.a,Bc.a,zc.a,Kc.a,Qc.a,Wc.a,Xc.a,Xn.a,Xn.b,Xn.c,Xn.d,Xn.e,Xn.f,Ki,Bi,Qi,Ji,Hi,Ni,Xi,Vt.b,Vt.a,jt.e,jt.d,jt.i,jt.f,jt.c,Yn.a,tt.a,xs.a,xs.c,Mn.a,Mn.d,Mn.c,Li.k,Li.j,Wo.c,Wo.d,Wo.a,Wo.f,Wo.e,Wo.b,zo,Ko,Mt.e,Mt.b,Mt.d,Mt.a,Va,ws,mn,La,Es,Hs,Qs,it,sa,Jn,yi,yn,rt,pa,ha,cc,fn,pn,Ia,Wn,qa,Ga,Wa,Xa,Qa,Za,cr,Ks,$s,no,Jr,Da,ia,Ka,Js,tc,as,pc,Do,Nr,Ca,Ds,vo,fa],[n.b,n.G,n.p,n.k,n.E,n.g,n.C,n.F,n.d,n.f,n.i,n.j,n.l,zt.a,Rn.a,ts.a,Hc.a])},"w/wX":function(e,t,i){var n=i("QqLw"),s=i("ExA7");e.exports=function(e){return s(e)&&"[object Set]"==n(e)}},"wF/u":function(e,t,i){var n=i("e5cp"),s=i("ExA7");e.exports=function e(t,i,a,r,o){return t===i||(null==t||null==i||!s(t)&&!s(i)?t!=t&&i!=i:n(t,i,a,r,e,o))}},wJg7:function(e,t){var i=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&i.test(e))&&e>-1&&e%1==0&&e<t}},wZkO:function(e,t,i){"use strict";i.d(t,"a",(function(){return G})),i.d(t,"b",(function(){return Q})),i.d(t,"c",(function(){return le})),i.d(t,"d",(function(){return X})),i.d(t,"e",(function(){return _e})),i.d(t,"f",(function(){return ve})),i.d(t,"g",(function(){return ke}));var n=i("u47x"),s=i("GU7r"),a=i("+rOU"),r=i("ofXK"),o=i("fXoL"),c=i("FKr1"),l=i("R1ws"),d=i("XNiG"),h=i("quSY"),p=i("VRyK"),u=i("xgIS"),b=i("LRne"),g=i("PqYM"),m=i("R0Ic"),f=i("JX91"),v=i("/uUt"),y=i("1G5W"),w=i("8LU1"),x=i("nLfN"),_=i("FtGj"),k=i("cH1L"),O=i("vxfF");function C(e,t){1&e&&o.kc(0)}const P=["*"];function I(e,t){}const D=function(e){return{animationDuration:e}},j=function(e,t){return{value:e,params:t}},S=["tabBodyWrapper"],E=["tabHeader"];function U(e,t){}function V(e,t){if(1&e&&o.Ic(0,U,0,0,"ng-template",9),2&e){const e=o.gc().$implicit;o.mc("cdkPortalOutlet",e.templateLabel)}}function A(e,t){if(1&e&&o.Kc(0),2&e){const e=o.gc().$implicit;o.Lc(e.textLabel)}}function M(e,t){if(1&e){const e=o.Wb();o.Vb(0,"div",6),o.cc("click",(function(){o.xc(e);const i=t.$implicit,n=t.index,s=o.gc(),a=o.uc(1);return s._handleClick(i,a,n)})),o.Vb(1,"div",7),o.Ic(2,V,1,1,"ng-template",8),o.Ic(3,A,1,1,"ng-template",8),o.Ub(),o.Ub()}if(2&e){const e=t.$implicit,i=t.index,n=o.gc();o.Hb("mat-tab-label-active",n.selectedIndex==i),o.mc("id",n._getTabLabelId(i))("disabled",e.disabled)("matRippleDisabled",e.disabled||n.disableRipple),o.Eb("tabIndex",n._getTabIndex(e,i))("aria-posinset",i+1)("aria-setsize",n._tabs.length)("aria-controls",n._getTabContentId(i))("aria-selected",n.selectedIndex==i)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),o.Db(2),o.mc("ngIf",e.templateLabel),o.Db(1),o.mc("ngIf",!e.templateLabel)}}function T(e,t){if(1&e){const e=o.Wb();o.Vb(0,"mat-tab-body",10),o.cc("_onCentered",(function(){return o.xc(e),o.gc()._removeTabBodyWrapperHeight()}))("_onCentering",(function(t){return o.xc(e),o.gc()._setTabBodyWrapperHeight(t)})),o.Ub()}if(2&e){const e=t.$implicit,i=t.index,n=o.gc();o.Hb("mat-tab-body-active",n.selectedIndex==i),o.mc("id",n._getTabContentId(i))("content",e.content)("position",e.position)("origin",e.origin)("animationDuration",n.animationDuration),o.Eb("aria-labelledby",n._getTabLabelId(i))}}const F=["tabListContainer"],L=["tabList"],R=["nextPaginator"],$=["previousPaginator"],N=["mat-tab-nav-bar",""],B=new o.s("MatInkBarPositioner",{providedIn:"root",factory:function(){return e=>({left:e?(e.offsetLeft||0)+"px":"0",width:e?(e.offsetWidth||0)+"px":"0"})}});let z=(()=>{class e{constructor(e,t,i,n){this._elementRef=e,this._ngZone=t,this._inkBarPositioner=i,this._animationMode=n}alignToElement(e){this.show(),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._setStyles(e))}):this._setStyles(e)}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}_setStyles(e){const t=this._inkBarPositioner(e),i=this._elementRef.nativeElement;i.style.left=t.left,i.style.width=t.width}}return e.\u0275fac=function(t){return new(t||e)(o.Pb(o.m),o.Pb(o.B),o.Pb(B),o.Pb(l.a,8))},e.\u0275dir=o.Kb({type:e,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(e,t){2&e&&o.Hb("_mat-animation-noopable","NoopAnimations"===t._animationMode)}}),e})();const K=new o.s("MatTabContent");let Q=(()=>{class e{constructor(e){this.template=e}}return e.\u0275fac=function(t){return new(t||e)(o.Pb(o.O))},e.\u0275dir=o.Kb({type:e,selectors:[["","matTabContent",""]],features:[o.Cb([{provide:K,useExisting:e}])]}),e})();const W=new o.s("MatTabLabel");let X=(()=>{class e extends a.b{}return e.\u0275fac=function(t){return H(t||e)},e.\u0275dir=o.Kb({type:e,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[o.Cb([{provide:W,useExisting:e}]),o.Ab]}),e})();const H=o.Xb(X);class Z{}const J=Object(c.w)(Z),q=new o.s("MAT_TAB_GROUP");let G=(()=>{class e extends J{constructor(e,t){super(),this._viewContainerRef=e,this._closestTabGroup=t,this.textLabel="",this._contentPortal=null,this._stateChanges=new d.a,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}get content(){return this._contentPortal}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new a.i(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&(this._templateLabel=e)}}return e.\u0275fac=function(t){return new(t||e)(o.Pb(o.S),o.Pb(q,8))},e.\u0275cmp=o.Jb({type:e,selectors:[["mat-tab"]],contentQueries:function(e,t,i){var n;1&e&&(o.Ib(i,W,!0),o.Dc(i,K,!0,o.O)),2&e&&(o.tc(n=o.dc())&&(t.templateLabel=n.first),o.tc(n=o.dc())&&(t._explicitContent=n.first))},viewQuery:function(e,t){var i;1&e&&o.Ec(o.O,!0),2&e&&o.tc(i=o.dc())&&(t._implicitContent=i.first)},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"]},exportAs:["matTab"],features:[o.Ab,o.Bb],ngContentSelectors:P,decls:1,vars:0,template:function(e,t){1&e&&(o.lc(),o.Ic(0,C,1,0,"ng-template"))},encapsulation:2}),e})();const Y={translateTab:Object(m.m)("translateTab",[Object(m.j)("center, void, left-origin-center, right-origin-center",Object(m.k)({transform:"none"})),Object(m.j)("left",Object(m.k)({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),Object(m.j)("right",Object(m.k)({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),Object(m.l)("* => left, * => right, left => center, right => center",Object(m.e)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),Object(m.l)("void => left-origin-center",[Object(m.k)({transform:"translate3d(-100%, 0, 0)"}),Object(m.e)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),Object(m.l)("void => right-origin-center",[Object(m.k)({transform:"translate3d(100%, 0, 0)"}),Object(m.e)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let ee=(()=>{class e extends a.c{constructor(e,t,i,n){super(e,t,n),this._host=i,this._centeringSub=h.a.EMPTY,this._leavingSub=h.a.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Object(f.a)(this._host._isCenterPosition(this._host._position))).subscribe(e=>{e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(o.Pb(o.k),o.Pb(o.S),o.Pb(Object(o.W)(()=>ie)),o.Pb(r.e))},e.\u0275dir=o.Kb({type:e,selectors:[["","matTabBodyHost",""]],features:[o.Ab]}),e})(),te=(()=>{class e{constructor(e,t,i){this._elementRef=e,this._dir=t,this._dirChangeSubscription=h.a.EMPTY,this._translateTabComplete=new d.a,this._onCentering=new o.o,this._beforeCentering=new o.o,this._afterLeavingCenter=new o.o,this._onCentered=new o.o(!0),this.animationDuration="500ms",t&&(this._dirChangeSubscription=t.change.subscribe(e=>{this._computePositionAnimationState(e),i.markForCheck()})),this._translateTabComplete.pipe(Object(v.a)((e,t)=>e.fromState===t.fromState&&e.toState===t.toState)).subscribe(e=>{this._isCenterPosition(e.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(e.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(e){this._positionIndex=e,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(e){const t=this._isCenterPosition(e.toState);this._beforeCentering.emit(t),t&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(e){return"center"==e||"left-origin-center"==e||"right-origin-center"==e}_computePositionAnimationState(e=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==e?"left":"right":this._positionIndex>0?"ltr"==e?"right":"left":"center"}_computePositionFromOrigin(e){const t=this._getLayoutDirection();return"ltr"==t&&e<=0||"rtl"==t&&e>0?"left-origin-center":"right-origin-center"}}return e.\u0275fac=function(t){return new(t||e)(o.Pb(o.m),o.Pb(k.c,8),o.Pb(o.i))},e.\u0275dir=o.Kb({type:e,inputs:{animationDuration:"animationDuration",position:"position",_content:["content","_content"],origin:"origin"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),e})(),ie=(()=>{class e extends te{constructor(e,t,i){super(e,t,i)}}return e.\u0275fac=function(t){return new(t||e)(o.Pb(o.m),o.Pb(k.c,8),o.Pb(o.i))},e.\u0275cmp=o.Jb({type:e,selectors:[["mat-tab-body"]],viewQuery:function(e,t){var i;1&e&&o.Qc(a.f,!0),2&e&&o.tc(i=o.dc())&&(t._portalHost=i.first)},hostAttrs:[1,"mat-tab-body"],features:[o.Ab],decls:3,vars:6,consts:[[1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(e,t){1&e&&(o.Vb(0,"div",0,1),o.cc("@translateTab.start",(function(e){return t._onTranslateTabStarted(e)}))("@translateTab.done",(function(e){return t._translateTabComplete.next(e)})),o.Ic(2,I,0,0,"ng-template",2),o.Ub()),2&e&&o.mc("@translateTab",o.rc(3,j,t._position,o.qc(1,D,t.animationDuration)))},directives:[ee],styles:[".mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}\n"],encapsulation:2,data:{animation:[Y.translateTab]}}),e})();const ne=new o.s("MAT_TABS_CONFIG");let se=0;class ae{}class re{constructor(e){this._elementRef=e}}const oe=Object(c.u)(Object(c.v)(re),"primary");let ce=(()=>{class e extends oe{constructor(e,t,i,n){super(e),this._changeDetectorRef=t,this._animationMode=n,this._tabs=new o.F,this._indexToSelect=0,this._tabBodyWrapperHeight=0,this._tabsSubscription=h.a.EMPTY,this._tabLabelSubscription=h.a.EMPTY,this._dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new o.o,this.focusChange=new o.o,this.animationDone=new o.o,this.selectedTabChange=new o.o(!0),this._groupId=se++,this.animationDuration=i&&i.animationDuration?i.animationDuration:"500ms",this.disablePagination=!(!i||null==i.disablePagination)&&i.disablePagination}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(e){this._dynamicHeight=Object(w.c)(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=Object(w.f)(e,null)}get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e)?e+"ms":e}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){const t=this._elementRef.nativeElement;t.classList.remove("mat-background-"+this.backgroundColor),e&&t.classList.add("mat-background-"+e),this._backgroundColor=e}ngAfterContentChecked(){const e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){const t=null==this._selectedIndex;t||this.selectedTabChange.emit(this._createChangeEvent(e)),Promise.resolve().then(()=>{this._tabs.forEach((t,i)=>t.isActive=i===e),t||this.selectedIndexChange.emit(e)})}this._tabs.forEach((t,i)=>{t.position=i-e,null==this._selectedIndex||0!=t.position||t.origin||(t.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{if(this._clampTabIndex(this._indexToSelect)===this._selectedIndex){const e=this._tabs.toArray();for(let t=0;t<e.length;t++)if(e[t].isActive){this._indexToSelect=this._selectedIndex=t;break}}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Object(f.a)(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(e=>!e._closestTabGroup||e._closestTabGroup===this)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}_focusChanged(e){this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){const t=new ae;return t.index=e,this._tabs&&this._tabs.length&&(t.tab=this._tabs.toArray()[e]),t}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=Object(p.a)(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e){return`mat-tab-label-${this._groupId}-${e}`}_getTabContentId(e){return`mat-tab-content-${this._groupId}-${e}`}_setTabBodyWrapperHeight(e){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const t=this._tabBodyWrapper.nativeElement;t.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(t.style.height=e+"px")}_removeTabBodyWrapperHeight(){const e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this.animationDone.emit()}_handleClick(e,t,i){e.disabled||(this.selectedIndex=t.focusIndex=i)}_getTabIndex(e,t){return e.disabled?null:this.selectedIndex===t?0:-1}}return e.\u0275fac=function(t){return new(t||e)(o.Pb(o.m),o.Pb(o.i),o.Pb(ne,8),o.Pb(l.a,8))},e.\u0275dir=o.Kb({type:e,inputs:{headerPosition:"headerPosition",animationDuration:"animationDuration",disablePagination:"disablePagination",dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[o.Ab]}),e})(),le=(()=>{class e extends ce{constructor(e,t,i,n){super(e,t,i,n)}}return e.\u0275fac=function(t){return new(t||e)(o.Pb(o.m),o.Pb(o.i),o.Pb(ne,8),o.Pb(l.a,8))},e.\u0275cmp=o.Jb({type:e,selectors:[["mat-tab-group"]],contentQueries:function(e,t,i){var n;1&e&&o.Ib(i,G,!0),2&e&&o.tc(n=o.dc())&&(t._allTabs=n)},viewQuery:function(e,t){var i;1&e&&(o.Qc(S,!0),o.Qc(E,!0)),2&e&&(o.tc(i=o.dc())&&(t._tabBodyWrapper=i.first),o.tc(i=o.dc())&&(t._tabHeader=i.first))},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(e,t){2&e&&o.Hb("mat-tab-group-dynamic-height",t.dynamicHeight)("mat-tab-group-inverted-header","below"===t.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[o.Cb([{provide:q,useExisting:e}]),o.Ab],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","disabled","matRippleDisabled","click",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","disabled","matRippleDisabled","click"],[1,"mat-tab-label-content"],[3,"ngIf"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(e,t){1&e&&(o.Vb(0,"mat-tab-header",0,1),o.cc("indexFocused",(function(e){return t._focusChanged(e)}))("selectFocusedIndex",(function(e){return t.selectedIndex=e})),o.Ic(2,M,4,14,"div",2),o.Ub(),o.Vb(3,"div",3,4),o.Ic(5,T,1,8,"mat-tab-body",5),o.Ub()),2&e&&(o.mc("selectedIndex",t.selectedIndex||0)("disableRipple",t.disableRipple)("disablePagination",t.disablePagination),o.Db(2),o.mc("ngForOf",t._tabs),o.Db(1),o.Hb("_mat-animation-noopable","NoopAnimations"===t._animationMode),o.Db(2),o.mc("ngForOf",t._tabs))},directives:function(){return[me,r.s,pe,c.p,n.e,r.t,a.c,ie]},styles:[".mat-tab-group{display:flex;flex-direction:column}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),e})();class de{}const he=Object(c.w)(de);let pe=(()=>{class e extends he{constructor(e){super(),this.elementRef=e}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return e.\u0275fac=function(t){return new(t||e)(o.Pb(o.m))},e.\u0275dir=o.Kb({type:e,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(e,t){2&e&&(o.Eb("aria-disabled",!!t.disabled),o.Hb("mat-tab-disabled",t.disabled))},inputs:{disabled:"disabled"},features:[o.Ab]}),e})();const ue=Object(x.f)({passive:!0});let be=(()=>{class e{constructor(e,t,i,n,s,a,r){this._elementRef=e,this._changeDetectorRef=t,this._viewportRuler=i,this._dir=n,this._ngZone=s,this._platform=a,this._animationMode=r,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new d.a,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new d.a,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new o.o,this.indexFocused=new o.o,s.runOutsideAngular(()=>{Object(u.a)(e.nativeElement,"mouseleave").pipe(Object(y.a)(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){e=Object(w.f)(e),this._selectedIndex!=e&&(this._selectedIndexChanged=!0,this._selectedIndex=e,this._keyManager&&this._keyManager.updateActiveItem(e))}ngAfterViewInit(){Object(u.a)(this._previousPaginator.nativeElement,"touchstart",ue).pipe(Object(y.a)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Object(u.a)(this._nextPaginator.nativeElement,"touchstart",ue).pipe(Object(y.a)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const e=this._dir?this._dir.change:Object(b.a)(null),t=this._viewportRuler.change(150),i=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new n.g(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(i):i(),Object(p.a)(e,t,this._items.changes).pipe(Object(y.a)(this._destroyed)).subscribe(()=>{Promise.resolve().then(i),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(Object(y.a)(this._destroyed)).subscribe(e=>{this.indexFocused.emit(e),this._setTabFocus(e)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!Object(_.s)(e))switch(e.keyCode){case _.f:case _.n:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e));break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){const e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){this._isValidIndex(e)&&this.focusIndex!==e&&this._keyManager&&this._keyManager.setActiveItem(e)}_isValidIndex(e){if(!this._items)return!0;const t=this._items?this._items.toArray()[e]:null;return!!t&&!t.disabled}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();const t=this._tabListContainer.nativeElement,i=this._getLayoutDirection();t.scrollLeft="ltr"==i?0:t.scrollWidth-t.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const e=this.scrollDistance,t=this._platform,i="ltr"===this._getLayoutDirection()?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(i)}px)`,t&&(t.TRIDENT||t.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){return this._scrollTo(this._scrollDistance+("before"==e?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;const t=this._items?this._items.toArray()[e]:null;if(!t)return;const i=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:n,offsetWidth:s}=t.elementRef.nativeElement;let a,r;"ltr"==this._getLayoutDirection()?(a=n,r=a+s):(r=this._tabList.nativeElement.offsetWidth-n,a=r-s);const o=this.scrollDistance,c=this.scrollDistance+i;a<o?this.scrollDistance-=o-a+60:r>c&&(this.scrollDistance+=r-c+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const e=this._tabList.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;e||(this.scrollDistance=0),e!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=e}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabList.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,t=e?e.elementRef.nativeElement:null;t?this._inkBar.alignToElement(t):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,t){t&&null!=t.button&&0!==t.button||(this._stopInterval(),Object(g.a)(650,100).pipe(Object(y.a)(Object(p.a)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:t,distance:i}=this._scrollHeader(e);(0===i||i>=t)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const t=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(t,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:t,distance:this._scrollDistance}}}return e.\u0275fac=function(t){return new(t||e)(o.Pb(o.m),o.Pb(o.i),o.Pb(O.e),o.Pb(k.c,8),o.Pb(o.B),o.Pb(x.a),o.Pb(l.a,8))},e.\u0275dir=o.Kb({type:e,inputs:{disablePagination:"disablePagination"}}),e})(),ge=(()=>{class e extends be{constructor(e,t,i,n,s,a,r){super(e,t,i,n,s,a,r),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Object(w.c)(e)}_itemSelected(e){e.preventDefault()}}return e.\u0275fac=function(t){return new(t||e)(o.Pb(o.m),o.Pb(o.i),o.Pb(O.e),o.Pb(k.c,8),o.Pb(o.B),o.Pb(x.a),o.Pb(l.a,8))},e.\u0275dir=o.Kb({type:e,inputs:{disableRipple:"disableRipple"},features:[o.Ab]}),e})(),me=(()=>{class e extends ge{constructor(e,t,i,n,s,a,r){super(e,t,i,n,s,a,r)}}return e.\u0275fac=function(t){return new(t||e)(o.Pb(o.m),o.Pb(o.i),o.Pb(O.e),o.Pb(k.c,8),o.Pb(o.B),o.Pb(x.a),o.Pb(l.a,8))},e.\u0275cmp=o.Jb({type:e,selectors:[["mat-tab-header"]],contentQueries:function(e,t,i){var n;1&e&&o.Ib(i,pe,!1),2&e&&o.tc(n=o.dc())&&(t._items=n)},viewQuery:function(e,t){var i;1&e&&(o.Ec(z,!0),o.Ec(F,!0),o.Ec(L,!0),o.Qc(R,!0),o.Qc($,!0)),2&e&&(o.tc(i=o.dc())&&(t._inkBar=i.first),o.tc(i=o.dc())&&(t._tabListContainer=i.first),o.tc(i=o.dc())&&(t._tabList=i.first),o.tc(i=o.dc())&&(t._nextPaginator=i.first),o.tc(i=o.dc())&&(t._previousPaginator=i.first))},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(e,t){2&e&&o.Hb("mat-tab-header-pagination-controls-enabled",t._showPaginationControls)("mat-tab-header-rtl","rtl"==t._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[o.Ab],ngContentSelectors:P,decls:13,vars:8,consts:[["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(e,t){1&e&&(o.lc(),o.Vb(0,"div",0,1),o.cc("click",(function(){return t._handlePaginatorClick("before")}))("mousedown",(function(e){return t._handlePaginatorPress("before",e)}))("touchend",(function(){return t._stopInterval()})),o.Qb(2,"div",2),o.Ub(),o.Vb(3,"div",3,4),o.cc("keydown",(function(e){return t._handleKeydown(e)})),o.Vb(5,"div",5,6),o.cc("cdkObserveContent",(function(){return t._onContentChanges()})),o.Vb(7,"div",7),o.kc(8),o.Ub(),o.Qb(9,"mat-ink-bar"),o.Ub(),o.Ub(),o.Vb(10,"div",8,9),o.cc("mousedown",(function(e){return t._handlePaginatorPress("after",e)}))("click",(function(){return t._handlePaginatorClick("after")}))("touchend",(function(){return t._stopInterval()})),o.Qb(12,"div",2),o.Ub()),2&e&&(o.Hb("mat-tab-header-pagination-disabled",t._disableScrollBefore),o.mc("matRippleDisabled",t._disableScrollBefore||t.disableRipple),o.Db(5),o.Hb("_mat-animation-noopable","NoopAnimations"===t._animationMode),o.Db(5),o.Hb("mat-tab-header-pagination-disabled",t._disableScrollAfter),o.mc("matRippleDisabled",t._disableScrollAfter||t.disableRipple))},directives:[c.p,s.a,z],styles:['.mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:"";height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n'],encapsulation:2}),e})(),fe=(()=>{class e extends be{constructor(e,t,i,n,s,a,r){super(e,n,s,t,i,a,r),this._disableRipple=!1,this.color="primary"}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){const t=this._elementRef.nativeElement.classList;t.remove("mat-background-"+this.backgroundColor),e&&t.add("mat-background-"+e),this._backgroundColor=e}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Object(w.c)(e)}_itemSelected(){}ngAfterContentInit(){this._items.changes.pipe(Object(f.a)(null),Object(y.a)(this._destroyed)).subscribe(()=>{this.updateActiveLink()}),super.ngAfterContentInit()}updateActiveLink(e){if(!this._items)return;const t=this._items.toArray();for(let i=0;i<t.length;i++)if(t[i].active)return this.selectedIndex=i,void this._changeDetectorRef.markForCheck();this.selectedIndex=-1,this._inkBar.hide()}}return e.\u0275fac=function(t){return new(t||e)(o.Pb(o.m),o.Pb(k.c,8),o.Pb(o.B),o.Pb(o.i),o.Pb(O.e),o.Pb(x.a),o.Pb(l.a,8))},e.\u0275dir=o.Kb({type:e,inputs:{color:"color",backgroundColor:"backgroundColor",disableRipple:"disableRipple"},features:[o.Ab]}),e})(),ve=(()=>{class e extends fe{constructor(e,t,i,n,s,a,r){super(e,t,i,n,s,a,r)}}return e.\u0275fac=function(t){return new(t||e)(o.Pb(o.m),o.Pb(k.c,8),o.Pb(o.B),o.Pb(o.i),o.Pb(O.e),o.Pb(x.a),o.Pb(l.a,8))},e.\u0275cmp=o.Jb({type:e,selectors:[["","mat-tab-nav-bar",""]],contentQueries:function(e,t,i){var n;1&e&&o.Ib(i,_e,!0),2&e&&o.tc(n=o.dc())&&(t._items=n)},viewQuery:function(e,t){var i;1&e&&(o.Ec(z,!0),o.Ec(F,!0),o.Ec(L,!0),o.Qc(R,!0),o.Qc($,!0)),2&e&&(o.tc(i=o.dc())&&(t._inkBar=i.first),o.tc(i=o.dc())&&(t._tabListContainer=i.first),o.tc(i=o.dc())&&(t._tabList=i.first),o.tc(i=o.dc())&&(t._nextPaginator=i.first),o.tc(i=o.dc())&&(t._previousPaginator=i.first))},hostAttrs:[1,"mat-tab-nav-bar","mat-tab-header"],hostVars:10,hostBindings:function(e,t){2&e&&o.Hb("mat-tab-header-pagination-controls-enabled",t._showPaginationControls)("mat-tab-header-rtl","rtl"==t._getLayoutDirection())("mat-primary","warn"!==t.color&&"accent"!==t.color)("mat-accent","accent"===t.color)("mat-warn","warn"===t.color)},inputs:{color:"color"},exportAs:["matTabNavBar","matTabNav"],features:[o.Ab],attrs:N,ngContentSelectors:P,decls:13,vars:8,consts:[["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-link-container",3,"keydown"],["tabListContainer",""],[1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-links"],["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(e,t){1&e&&(o.lc(),o.Vb(0,"div",0,1),o.cc("click",(function(){return t._handlePaginatorClick("before")}))("mousedown",(function(e){return t._handlePaginatorPress("before",e)}))("touchend",(function(){return t._stopInterval()})),o.Qb(2,"div",2),o.Ub(),o.Vb(3,"div",3,4),o.cc("keydown",(function(e){return t._handleKeydown(e)})),o.Vb(5,"div",5,6),o.cc("cdkObserveContent",(function(){return t._onContentChanges()})),o.Vb(7,"div",7),o.kc(8),o.Ub(),o.Qb(9,"mat-ink-bar"),o.Ub(),o.Ub(),o.Vb(10,"div",8,9),o.cc("mousedown",(function(e){return t._handlePaginatorPress("after",e)}))("click",(function(){return t._handlePaginatorClick("after")}))("touchend",(function(){return t._stopInterval()})),o.Qb(12,"div",2),o.Ub()),2&e&&(o.Hb("mat-tab-header-pagination-disabled",t._disableScrollBefore),o.mc("matRippleDisabled",t._disableScrollBefore||t.disableRipple),o.Db(5),o.Hb("_mat-animation-noopable","NoopAnimations"===t._animationMode),o.Db(5),o.Hb("mat-tab-header-pagination-disabled",t._disableScrollAfter),o.mc("matRippleDisabled",t._disableScrollAfter||t.disableRipple))},directives:[c.p,s.a,z],styles:['.mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:"";height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-tab-links{display:flex}[mat-align-tabs=center]>.mat-tab-link-container .mat-tab-links{justify-content:center}[mat-align-tabs=end]>.mat-tab-link-container .mat-tab-links{justify-content:flex-end}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-link-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-tab-link{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;vertical-align:top;text-decoration:none;position:relative;overflow:hidden;-webkit-tap-highlight-color:transparent}.mat-tab-link:focus{outline:none}.mat-tab-link:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-link:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-link.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-link.mat-tab-disabled{opacity:.5}.mat-tab-link .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-link{opacity:1}[mat-stretch-tabs] .mat-tab-link{flex-basis:0;flex-grow:1}.mat-tab-link.mat-tab-disabled{pointer-events:none}@media(max-width: 599px){.mat-tab-link{min-width:72px}}\n'],encapsulation:2}),e})();class ye{}const we=Object(c.y)(Object(c.v)(Object(c.w)(ye)));let xe=(()=>{class e extends we{constructor(e,t,i,n,s,a){super(),this._tabNavBar=e,this.elementRef=t,this._focusMonitor=s,this._isActive=!1,this.rippleConfig=i||{},this.tabIndex=parseInt(n)||0,"NoopAnimations"===a&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get active(){return this._isActive}set active(e){e!==this._isActive&&(this._isActive=e,this._tabNavBar.updateActiveLink(this.elementRef))}get rippleDisabled(){return this.disabled||this.disableRipple||this._tabNavBar.disableRipple||!!this.rippleConfig.disabled}focus(){this.elementRef.nativeElement.focus()}ngAfterViewInit(){this._focusMonitor.monitor(this.elementRef)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this.elementRef)}}return e.\u0275fac=function(t){return new(t||e)(o.Pb(fe),o.Pb(o.m),o.Pb(c.g,8),o.ac("tabindex"),o.Pb(n.h),o.Pb(l.a,8))},e.\u0275dir=o.Kb({type:e,inputs:{active:"active"},features:[o.Ab]}),e})(),_e=(()=>{class e extends xe{constructor(e,t,i,n,s,a,r,o){super(e,t,s,a,r,o),this._tabLinkRipple=new c.r(this,i,t,n),this._tabLinkRipple.setupTriggerEvents(t.nativeElement)}ngOnDestroy(){super.ngOnDestroy(),this._tabLinkRipple._removeTriggerEvents()}}return e.\u0275fac=function(t){return new(t||e)(o.Pb(ve),o.Pb(o.m),o.Pb(o.B),o.Pb(x.a),o.Pb(c.g,8),o.ac("tabindex"),o.Pb(n.h),o.Pb(l.a,8))},e.\u0275dir=o.Kb({type:e,selectors:[["","mat-tab-link",""],["","matTabLink",""]],hostAttrs:[1,"mat-tab-link","mat-focus-indicator"],hostVars:7,hostBindings:function(e,t){2&e&&(o.Eb("aria-current",t.active?"page":null)("aria-disabled",t.disabled)("tabIndex",t.tabIndex),o.Hb("mat-tab-disabled",t.disabled)("mat-tab-label-active",t.active))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matTabLink"],features:[o.Ab]}),e})(),ke=(()=>{class e{}return e.\u0275mod=o.Nb({type:e}),e.\u0275inj=o.Mb({factory:function(t){return new(t||e)},imports:[[r.c,c.h,a.h,c.q,s.c,n.a],c.h]}),e})()},wrZu:function(e,t,i){var n=i("+K+b"),s=i("XYm9"),a=i("b2z7"),r=i("otv/"),o=i("yP5f");e.exports=function(e,t,i){var c=e.constructor;switch(t){case"[object ArrayBuffer]":return n(e);case"[object Boolean]":case"[object Date]":return new c(+e);case"[object DataView]":return s(e,i);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return o(e,i);case"[object Map]":return new c;case"[object Number]":case"[object String]":return new c(e);case"[object RegExp]":return a(e);case"[object Set]":return new c;case"[object Symbol]":return r(e)}}},xYSL:function(e,t){e.exports=function(e,t){return e.has(t)}},y1pI:function(e,t,i){var n=i("ljhN");e.exports=function(e,t){for(var i=e.length;i--;)if(n(e[i][0],t))return i;return-1}},yGk4:function(e,t,i){var n=i("Cwc5")(i("Kz5y"),"Set");e.exports=n},yHx3:function(e,t){var i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&i.call(e,"index")&&(n.index=e.index,n.input=e.input),n}},yP5f:function(e,t,i){var n=i("+K+b");e.exports=function(e,t){var i=t?n(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}},zEVN:function(e,t,i){var n=i("Gi0A"),s=i("sEf8"),a=i("mdPL"),r=a&&a.isMap,o=r?s(r):n;e.exports=o},zZ0H:function(e,t){e.exports=function(e){return e}},zoYe:function(e,t,i){var n=i("nmnc"),s=i("eUgh"),a=i("Z0cm"),r=i("/9aa"),o=n?n.prototype:void 0,c=o?o.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(a(t))return s(t,e)+"";if(r(t))return c?c.call(t):"";var i=t+"";return"0"==i&&1/t==-1/0?"-0":i}}}]);
//# sourceMappingURL=7-es2015.e9e23d5f8ea9fb14cae6.js.map